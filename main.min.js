var LoadingUI=function(t){function e(){t.call(this),this.list=[],this.map={},this.index=0,this.createView(),e.ist=this}__extends(e,t);var n=(__define,e);return p=n.prototype,p.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.textColor=16777215,this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},p.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},p.addPreLoading=function(t){var e,n=t.split(".")[t.split(".").length-1];e="jpg"==n||"png"==n||"JPG"==n||"PNG"==n?1:"swf"==n||"SWF"==n?2:3,this.list.push({url:t,type:e,data:null}),this.map[t]=this.list[this.list.length-1]},p.startLoad=function(){this.index=0,this.loadNext()},p.loadNext=function(){if(this.setProgress(this.index,this.list.length),this.loader=new egret.URLLoader,this.loader.addEventListener(egret.Event.COMPLETE,this.loadResourceComplete,this),1==this.list[this.index].type)this.loader.dataFormat=egret.URLLoaderDataFormat.TEXTURE;else{if(2==this.list[this.index].type){this.loader.data={};var t=new flash.Loader;return t.contentLoaderInfo.addEventListener(egret.Event.COMPLETE,this.loadResourceComplete,this),void t.load(new egret.URLRequest(this.list[this.index].url),null)}this.loader.dataFormat=egret.URLLoaderDataFormat.TEXT}this.loader.load(new egret.URLRequest(this.list[this.index].url))},p.loadResourceComplete=function(t){if(1==this.list[this.index].type){var e=this.loader.data,n=new flash.BitmapData(e._bitmapWidth,e._bitmapHeight,!1,0,e);this.list[this.index].data=n}else this.list[this.index].data=this.loader.data;this.index++,this.setProgress(this.index,this.list.length),this.index==this.list.length?(this.parent&&this.parent.removeChild(this),this.dispatchEvent(new egret.Event(egret.Event.COMPLETE))):this.loadNext()},p.getEmbedBitmapData=function(t){var e=this.map[t];return 1==this.map[t].type?e.data.clone():e.data},e.getEmbedBitmapData=function(t){return e.ist.getEmbedBitmapData(t)},e}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(t){function e(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var n=(__define,e);return p=n.prototype,p.onAddToStage=function(t){if(flash.init(this.stage),embedLoadingList.length){this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView);for(var e=0;e<embedLoadingList.length;e++)this.loadingView.addPreLoading(embedLoadingList[e]);this.loadingView.addEventListener(egret.Event.COMPLETE,this.preLoadComplete,this),this.loadingView.startLoad()}else this.startApplication()},p.preLoadComplete=function(t){this.startApplication()},p.startApplication=function(){RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},p.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.loadGroup("preload")},p.onResourceLoadComplete=function(t){"preload"==t.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),this.startGame())},p.startGame=function(){this.mainGame=new game.SwapGame,this.addChild(this.mainGame);var t=new egret.Shape;t.graphics.beginFill(16711680,.01),t.graphics.lineStyle(.1,16711680,1),t.graphics.drawRect(0,0,this.stage.stageWidth,this.stage.stageHeight),this.addChildAt(t,0),TweenMax.delayedCall(0,flash.bind(this.resize,this)),this.stage.addEventListener(egret.Event.RESIZE,this.resize,this)},p.resize=function(t){console.log(this.mainGame),this.mainGame.x=(this.stage.stageWidth-this.mainGame.gameWidth)/2,this.mainGame.y=(this.stage.stageHeight-this.mainGame.gameHeight)/2},e}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");var embedLoadingList=[],Main_2048=function(t){function e(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var n=(__define,e);return p=n.prototype,p.onAddToStage=function(t){if(flash.init(this.stage),embedLoadingList.length){this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView);for(var e=0;e<embedLoadingList.length;e++)this.loadingView.addPreLoading(embedLoadingList[e]);this.loadingView.addEventListener(egret.Event.COMPLETE,this.preLoadComplete,this),this.loadingView.startLoad()}else this.startApplication()},p.preLoadComplete=function(t){this.startApplication()},p.startApplication=function(){RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},p.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.loadGroup("preload")},p.onResourceLoadComplete=function(t){"preload"==t.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),this.startGame())},p.startGame=function(){this.mainGame=new game.circlular2048.Circular2048,this.addChild(this.mainGame);var t=new egret.Shape;t.graphics.beginFill(16711680,.01),t.graphics.lineStyle(1,16711680,1),t.graphics.drawRect(0,0,this.stage.stageWidth,this.stage.stageHeight),this.addChildAt(t,0)},e}(egret.DisplayObjectContainer);egret.registerClass(Main_2048,"Main_2048");var embedLoadingList=[],flash;!function(t){var e=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=0),this.$_message="",this.name="",this._errorID=0,this.$_message=void 0!=t?t:"",this._errorID=void 0!=e?e:0}var e=__define,n=t;return p=n.prototype,e(p,"message",function(){return this.$_message}),e(p,"errorId",function(){return this._errorID}),p.getStackTrace=function(){return"暂时没有提供错误调用堆栈..."},p.toString=function(){return"没事有实现"},t}();t.Error=e,egret.registerClass(e,"flash.Error")}(flash||(flash={}));var flash;!function(t){function e(e){t.stage=e,N=(new Date).getTime(),e.addEventListener(egret.Event.ENTER_FRAME,n,null),new t.BindManager}function n(e){t.frame++}function i(){return null}function r(t,e){return"boolean"==typeof t?t?1:0:"number"!=typeof t?parseInt(t):Math.floor(t)}function a(t,e){return"number"!=typeof t?parseFloat(t):t}function s(t){return t?!0:!1}function o(t){return void 0==t?!0:!1}function l(t){return t+""}function h(t){return void 0==t?0:0>t?0:Math.floor(t)}function u(e){return new t.XML(e)}function c(e){return new t.XMLList(e)}function f(e,n,i){if(null==e)return!1;var r;if(n){if("Class"==n)return e.prototype&&e.prototype.__class__?!0:!1;if(r="string"==typeof n?n:t.getClassName(n),"object"!=typeof e)return typeof e==r?!0:!1;if(egret.getQualifiedClassName(e)==r)return!0;var a;for(e.__proto__&&e.__proto__.__proto__&&(a=e.__proto__.__proto__);a;){if(a.__class__==r)return!0;a=a.__proto__?a.__proto__:null}}else if(i){var s=null;try{s=egret.getQualifiedClassName(e)}catch(o){s=null}if(null==s)return!1;var l=L.getItem(s);if(l)for(var h=0;h<l.length;h++)if(l[h]==i)return!0;var a;for(e.__proto__&&e.__proto__.__proto__&&(a=e.__proto__.__proto__);a;){if(l=L.getItem(a.__class__))for(var h=0;h<l.length;h++)if(l[h]==i)return!0;a=a.__proto__?a.__proto__:null}}return!1}function d(t,e,n){return 0==f(t,e,n)?null:t}function g(t){return t}function m(e,n){return new t.Error(e,n)}function v(){return(new Date).getTime()-N}function _(t,e){function n(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];if(e.length>0){var i=e[0];0==i.length?t.call(null):1==i.length?t.call(null,i[0]):2==i.length?t.call(null,i[0],i[1]):3==i.length?t.call(null,i[0],i[1],i[2]):4==i.length?t.call(null,i[0],i[1],i[2],i[3]):t.call(null,i)}else t.call(null)}for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return egret.setTimeout(n,null,e,i)}function C(t,e){function n(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];if(e.length>0){var i=e[0];0==i.length?t.call(null):1==i.length?t.call(null,i[0]):2==i.length?t.call(null,i[0],i[1]):3==i.length?t.call(null,i[0],i[1],i[2]):4==i.length?t.call(null,i[0],i[1],i[2],i[3]):t.call(null,i)}else t.call(null)}for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return egret.setInterval(n,null,e,i)}function E(t){egret.clearInterval(t)}function x(t){egret.clearTimeout(t)}function y(t){var e=Object.keys(t);return console.log(e),null}function T(t){for(var e=0;e<t.length;e++)"\\r"==t.slice(e,e+2)&&(t=t.slice(0,e)+"\r"+t.slice(e+2,t.length)),"\\n"==t.slice(e,e+2)&&(t=t.slice(0,e)+"\n"+t.slice(e+2,t.length)),"\\\\"==t.slice(e,e+2)&&(t=t.slice(0,e)+"\\"+t.slice(e+2,t.length));return t}function S(t,e){if(null==t)return null;null==t.__EgretBid__&&(t.__EgretBid__=F,F++);var n=t.__EgretBid__;if(null==e.__EgretBO__&&(e.__EgretBO__={}),!e.__EgretBO__[n]){var i=function(){return i["function"].apply(i.owner,arguments)};i["function"]=t,i.owner=e,e.__EgretBO__[n]=i}return e.__EgretBO__[n]}function b(e,n){L||(L=new t.Dictionary),L.setItem(e,n)}function w(e,n){U||(U=new t.Dictionary),U.setItem(e,n)}function D(t,e){void 0===e&&(e=null),window.open(t.url,e)}function M(t){return t?t>2147483647?M(-2147483648+(t-2147483647)-1):-2147483648>t?M(2147483647-(-2147483648-t)+1):t:0}function I(t){return t?t>4294967295?I(t-4294967295-1):0>t?I(4294967295+t+1):t:0}function A(e,n,i,r){return r?void t.superSetter(i,e,n,r):t.superGetter(i,e,n)}function $(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var a=t.prototype,s=a.__sets__;null==s&&(s=a.__sets__={});var o=s[n];if(o)return o.apply(e,i);var l=Object.getPrototypeOf(a);if(null!=l){for(;!l.hasOwnProperty(n);)if(l=Object.getPrototypeOf(l),null==l)return;o=Object.getOwnPropertyDescriptor(l,n).set,s[n]=o,o.apply(e,i)}}function R(t,e,n){var i=t.prototype,r=i.__gets__;null==r&&(r=i.__gets__={});var a=r[n];if(a)return a.call(e);var s=Object.getPrototypeOf(i);if(null!=s){for(;!s.hasOwnProperty(n);)if(s=Object.getPrototypeOf(s),null==s)return;return a=Object.getOwnPropertyDescriptor(s,n).get,r[n]=a,a.call(e)}}var N=0;t.frame=0,t.init=e,t.InitArray=i,t.tranint=r,t.trannumber=a,t.Boolean=s,t.isNaN=o,t.String=l,t.uint=h,t.XML_=u,t.XMLList_=c,t.As3is=f,t.As3As=d,t.AS3Object=g,t.sortOn=function(t,e,n){for(var i,r=0;r<t.length-1;r++)t[r][e]>t[r+1][e]&&(i=t[r+1],t[r+1]=t[r],t[r]=i,r=-1);return t};var O=function(){function t(){}var e=(__define,t);return p=e.prototype,t.CASEINSENSITIVE=1,t.DESCENDING=2,t.NUMERIC=16,t.RETURNINDEXEDARRAY=8,t.UNIQUESORT=4,t}();t.AS3Array=O,egret.registerClass(O,"flash.AS3Array"),t.error=m,t.getTimer=v,t.setTimeout=_,t.setInterval=C,t.clearInterval=E,t.clearTimeout=x,t.describeType=y,t.changeStringAny=T;var F=0;t.bind=S;var L;t.implementsClass=b;var U;t.extendsClass=w;var P=function(t){function e(e,n){t.call(this,e,n),this.name="ArgumentError"}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(t.Error);t.ArgumentError=P,egret.registerClass(P,"flash.ArgumentError"),t.navigateToURL=D,t.checkInt=M,t.checkUint=I,t.changeOverride=A,t.superSetter=$,t.superGetter=R}(flash||(flash={}));var AllCompileFile=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();egret.registerClass(AllCompileFile,"AllCompileFile");var flash;!function(t){var e=function(){function t(t,e,n,i,r,a,s){void 0===n&&(n=1),void 0===i&&(i=0),void 0===r&&(r=0),void 0===a&&(a=0),void 0===s&&(s=0),this._date=new Date}var e=__define,n=t;return p=n.prototype,e(p,"date",function(){return this._date.getDate()},function(t){this._date.setDate(t)}),e(p,"dateUTC",function(){return this._date.getUTCDate()},function(t){this._date.setUTCDate(t)}),e(p,"day",function(){return this._date.getDay()},function(t){this._date.setDate(t)}),e(p,"dayUTC",function(){return this._date.getUTCDay()},function(t){this._date.setUTCDate(t)}),e(p,"fullYear",function(){return this._date.getFullYear()},function(t){this._date.setFullYear(t)}),e(p,"fullYearUTC",function(){return this._date.getUTCFullYear()},function(t){this._date.setUTCFullYear(t)}),e(p,"hours",function(){return this._date.getHours()},function(t){this._date.setHours(t)}),e(p,"hoursUTC",function(){return this._date.getUTCHours()},function(t){this._date.setUTCHours(t)}),e(p,"milliseconds",function(){return this._date.getMilliseconds()},function(t){this._date.setMilliseconds(t)}),e(p,"millisecondsUTC",function(){return this._date.getUTCMilliseconds()},function(t){this._date.setUTCMilliseconds(t)}),e(p,"minutes",function(){return this._date.getMinutes()},function(t){this._date.setMinutes(t)}),e(p,"minutesUTC",function(){return this._date.getUTCMinutes()},function(t){this._date.setUTCMinutes(t)}),e(p,"month",function(){return this._date.getMonth()},function(t){this._date.setMonth(t)}),e(p,"monthUTC",function(){return this._date.getUTCMonth()},function(t){this._date.setUTCMonth(t)}),e(p,"seconds",function(){return this._date.getSeconds()},function(t){this._date.setSeconds(t)}),e(p,"secondsUTC",function(){return this._date.getUTCMonth()},function(t){this._date.setUTCSeconds(t)}),e(p,"time",function(){return this._date.getTime()},function(t){this._date.setTime(t)}),p.timezoneOffset=function(){return 0},p.getDate=function(){return this._date.getDate()},p.getDay=function(){return this._date.getDay()},p.getFullYear=function(){return this._date.getFullYear()},p.getHours=function(){return this._date.getHours()},p.getMilliseconds=function(){return this._date.getMilliseconds()},p.getMinutes=function(){return this._date.getMinutes()},p.getMonth=function(){return this._date.getMonth()},p.getSeconds=function(){return this._date.getSeconds()},p.getTime=function(){return this._date.getTime()},p.getTimezoneOffset=function(){return 0},p.getUTCDate=function(){return this._date.getUTCDate()},p.getUTCDay=function(){return this._date.getUTCDate()},p.getUTCFullYear=function(){return this._date.getUTCFullYear()},p.getUTCHours=function(){return this._date.getUTCHours()},p.getUTCMilliseconds=function(){return this._date.getUTCMilliseconds()},p.getUTCMinutes=function(){return this._date.getUTCMinutes()},p.getUTCMonth=function(){return this._date.getUTCMonth()},p.getUTCSeconds=function(){return this._date.getUTCSeconds()},t.parse=function(t){return 0},p.setDate=function(t){return this._date.setDate(t),this.date},p.setFullYear=function(t,e,n){return this._date.setFullYear(t,e,n),this.fullYear},p.setHours=function(t,e,n,i){return this._date.setHours(t,e,n,i),this.hours},p.setMilliseconds=function(t){return this._date.setMilliseconds(t),this.milliseconds},p.setMinutes=function(t,e,n){return this._date.setMinutes(t,e,n),this.minutes},p.setMonth=function(t,e){return this._date.setMonth(t,e),this.month},p.setSeconds=function(t,e){return this._date.setSeconds(t,e),this.seconds},p.setTime=function(t){return this.time=t,this.time},p.setUTCDate=function(t){return this._date.setUTCDate(t),this.dateUTC},p.setUTCFullYear=function(t,e,n){return this._date.setUTCFullYear(t,e,n),this.fullYearUTC},p.setUTCHours=function(t,e,n,i){return this._date.setUTCHours(t,e,n,i),this.hoursUTC},p.setUTCMilliseconds=function(t){return this._date.setUTCMilliseconds(t),this.millisecondsUTC},p.setUTCMinutes=function(t,e,n){return this._date.setUTCMinutes(t,e,n),this.minutesUTC},p.setUTCMonth=function(t,e){return this._date.setUTCMonth(t,e),this.minutesUTC},p.setUTCSeconds=function(t,e){return this._date.setUTCSeconds(t,e),this.secondsUTC},p.toDateString=function(){return this._date.toDateString()},p.toLocaleDateString=function(){return this._date.toLocaleDateString()},p.toLocaleString=function(){return this._date.toLocaleString()},p.toLocaleTimeString=function(){return this._date.toLocaleTimeString()},p.toString=function(){return this._date.toString()},p.toTimeString=function(){return this._date.toTimeString()},p.toUTCString=function(){return this._date.toUTCString()},t.UTC=function(t,e,n,i,r,a,s){return void 0===n&&(n=1),void 0===i&&(i=0),void 0===r&&(r=0),void 0===a&&(a=0),void 0===s&&(s=0),""},p.valueOf=function(){return this._date.valueOf()},t}();t.As3Date=e,egret.registerClass(e,"flash.As3Date")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(t){this.map=new Array}var e=(__define,t);return p=e.prototype,p.getItem=function(t){for(var e=0;e<this.map.length;e++)if(this.map[e][0]==t)return this.map[e][1]},p.setItem=function(t,e){for(var n=0;n<this.map.length;n++)if(this.map[n][0]==t)return void(this.map[n][1]=e);return this.map.push([t,e]),e},p.delItem=function(t){for(var e=0;e<this.map.length;e++)if(this.map[e][0]==t){this.map.splice(e,1);break}},p.hasOwnProperty=function(t){if(void 0==this.map||void 0==this.map.length)return!1;for(var e=0;e<this.map.length;e++)if(this.map[e][0]==t)return!0;return!1},t}();t.Dictionary=e,egret.registerClass(e,"flash.Dictionary")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(t,e){this.prefix=t,this.uri=e}var e=(__define,t);return p=e.prototype,p.toString=function(){return this.uri},p.valueOf=function(){return this.uri},t}();t.NameSpace=e,egret.registerClass(e,"flash.NameSpace")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n,i,r){void 0===e&&(e=0),void 0===n&&(n=!1),void 0===i&&(i=null),void 0===r&&(r=null),t.call(this),this.fixed=n,this._array=[],this._type=i,r?this._array=r:this.length=e}__extends(e,t);var n=__define,i=e;return p=i.prototype,p.invalidate=function(){for(var t=0;void 0!=this[t];)delete this[t],t++;for(var e=this._array.length,n=0;e>n;n++)this[n]=this._array[n]},e.makeVector=function(t){var n=new e;return n._array=t,n.invalidate(),n},p.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];for(var i=this._array,r=0;r<t.length;r++){var a=t[r];i=a instanceof e?i.concat(a._array):i.concat(a)}return 0==t.length&&(i=i.concat()),e.makeVector(i)},p.every=function(t,e){void 0===e&&(e=null),this._array.every(t,e)},p.filter=function(t,n){void 0===n&&(n=null);var i=this._array.filter(t,n);return e.makeVector(i)},p.forEach=function(t,e){void 0===e&&(e=null),this._array.forEach(t,e),this.invalidate()},p.indexOf=function(t,e){return void 0===e&&(e=0),this._array.indexOf(t,e)},p.join=function(t){return void 0===t&&(t=","),this._array.join(t)},p.lastIndexOf=function(t,e){return void 0===e&&(e=2147483647),this._array.lastIndexOf(t,e)},p.map=function(t,n){void 0===n&&(n=null);var i=this._array.map(t,n);return e.makeVector(i)},p.pop=function(){if(this.fixed)throw"无法更改固定矢量的长度";var t=this._array.pop();return this.invalidate(),t},p.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(this.fixed)throw"无法更改固定矢量的长度";for(var n=t.length,i=0;n>i;i++)this._array.push(t[i]);return this.invalidate(),this.length},p.reverse=function(){return this._array.reverse(),this.invalidate(),this},p.shift=function(){if(this.fixed)throw"无法更改固定矢量的长度";var t=this._array.shift();return this.invalidate(),t},p.slice=function(t,n){void 0===t&&(t=0),void 0===n&&(n=16777215);var i=this._array.slice(t,n);return e.makeVector(i)},p.some=function(t,e){return void 0===e&&(e=null),this._array.some(t,e)},p.sort=function(t){return this._array.sort(t),this.invalidate(),this},p.splice=function(t,n){void 0===n&&(n=4294967295);for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];for(var a=this._array.splice(t,n),s=i.length,o=s-1;o>=0;o--)this._array.splice(t,0,i[o]);return this.invalidate(),e.makeVector(a)},p.toLocaleString=function(){for(var t="",e=this._array.length,n=0;e>n;n++)0!=n&&(t+=","),t+=null===this._array[n]?"null":void 0===this._array[n]?"undefined":this._array[n].toString();return t},p.toString=function(){return this.toLocaleString()},p.unshift=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(this.fixed)throw"无法更改固定矢量的长度";for(var n=t.length,i=n-1;i>=0;i--)this._array.unshift(t[i]);return this.invalidate(),this._array.length},n(p,"length",function(){return this._array.length},function(t){if(this.fixed)throw"无法更改固定矢量的长度";if(t>this._array.length)for(var e=this._array.length;t>e;e++)"number"===this._type?this._array.push(0):this._array.push(null);else this._array.length=t;this.invalidate()}),e}(egret.HashObject);t.Vector=e,egret.registerClass(e,"flash.Vector")}(flash||(flash={}));var flash;!function(t){var e=function(){function e(e,n,i){this.$value=e,this.$valueObj=void 0==n?t.XMLUtils.parse(this.$value):n}var n=(__define,e);return p=n.prototype,p.appendChild=function(e){var n=t.XMLUtils.parse(e);return void 0!=this.$valueObj.children?this.$valueObj.children.push(n):this.$valueObj.children=[n],this.$value=this.loop(this.$valueObj),this.freshen(this.$parent),this},p.prependChild=function(e){var n=t.XMLUtils.parse(e);return void 0!=this.$valueObj.children?this.$valueObj.children.unshift(n):this.$valueObj.children=[n],this.$value=this.loop(this.$valueObj),this.freshen(this.$parent),this},p.freshen=function(t){null!=t&&t instanceof e&&(void 0!=t._parent&&null!=t._parent?this.freshen(t._parent):t._value=this.loop(t._valueObj))},p.descendants=function(e){void 0==e&&(e="*");var n=new Array;if(void 0!=this.$valueObj.children)for(var i in this.$valueObj.children)this.loopKey(e,this.$valueObj.children[i],n);for(var r=new t.XMLList,a=0;a<n.length;a++)r[a]=n[a];return r[a]=this,r},p.dotAt=function(n,i,r,a){void 0===i&&(i=""),void 0===r&&(r="=="),void 0===a&&(a=!0);var s=new Array,o=this.descendants("*"),l=null,h=0;for(var u in o)l=o[u],l&&l.$valueObj&&1==l.$valueObj.hasOwnProperty("$"+n)&&(void 0==i||""==i?(a||(l=new e(l.$valueObj["$"+n],l.$valueObj)),s.push(l)):"=="==r?l.$valueObj["$"+n]==i&&(a||(l=new e(l.$valueObj["$"+n],l.$valueObj)),s[h]=l,h++):"!="==r?l.$valueObj["$"+n]!=i&&(a||(l=new e(l.$valueObj["$"+n],l.$valueObj)),s[h]=l,h++):">="==r?l.$valueObj["$"+n]>=i&&(a||(l=new e(l.$valueObj["$"+n],l.$valueObj)),s[h]=l,h++):"<="==r?l.$valueObj["$"+n]<=i&&(a||(l=new e(l.$valueObj["$"+n],l.$valueObj)),s[h]=l,h++):">"==r?l.$valueObj["$"+n]>i&&(a||(l=new e(l.$valueObj["$"+n],l.$valueObj)),s[h]=l,h++):"<"==r?l.$valueObj["$"+n]<i&&(a||(l=new e(l.$valueObj["$"+n],l.$valueObj)),s[h]=l,h++):"&&"==r?l.$valueObj["$"+n]&&i&&(a||(l=new e(l.$valueObj["$"+n],l.$valueObj)),s[h]=l,h++):"||"==r&&(l.$valueObj["$"+n]||i)&&(a||(l=new e(l.$valueObj["$"+n],l.$valueObj)),s[h]=l,h++));for(var c=new t.XMLList,f=0;f<s.length;f++)c[f]=s[f];return c},p.loopKey=function(t,n,i){var r;if(n.hasOwnProperty("children"))for(var a in n.children)r=this.loopKey(t,n.children[a],i);return void 0==n.name||n.name!=t&&"*"!=t||(r=new e(this.loop(n),n),i.push(r)),r},p.attribute=function(n){var i,r,a="",s=void 0!=this.$valueObj["$"+n];return s?(a=this.$valueObj["$"+n],r=new e(a,this.$valueObj),i=new t.XMLList,i[0]=r):i=new t.XMLList,i},p.namespace=function(e){if(void 0==e||"*"==e){var n=new t.NameSpace;null!=this.$valueObj&&(void 0!=this.$valueObj.prefix&&(n.prefix=this.$valueObj.prefix),void 0!=this.$valueObj.namespace&&(n.uri=this.$valueObj.namespace))}},p.parent=function(){return this.$parent},p.attributes=function(){for(var e,n,i=t.XMLUtils.getAttributes(this.$valueObj),r=i.length,a=0;r>a;a++)e=this.attribute(i[a]),null==n&&(n=new Array),n=n.concat(e);for(var s=new t.XMLList,o=0,a=0;a<n.length;a++)for(var l in n[a])n[a][l]&&n[a][l].dotExpr&&(s[o]=n[a][l],o++);return s},p.localName=function(){return this.$valueObj.localName},p.copy=function(){return new e(this.$value)},p.children=function(){return this.child("*")},p.child=function(n){var i,r,a,s=new t.XMLList(o),o=new Array;if(null==n||"*"==n){if(void 0!=this.$valueObj.children){i=this.$valueObj.children;for(a in i)r=new e(this.loop(i[a]),i[a]),r.$parent=new e(this.loop(this.$valueObj),this.$valueObj),s[a]=r}}else if(i=new Array,t.XMLUtils.findChildren(this.$valueObj,n,i),0==i.length)s=new t.XMLList("");else for(a in i)r=new e(this.loop(i[a]),i[a]),void 0!=i[a].parent?r.$parent=new e(this.loop(i[a].parent),i[a].parent):r.$parent=null,s[a]=r;return s},p.elements=function(t){return this.child(t)},p.hasComplexContent=function(){return null!=this.$valueObj.children?!0:!1},p.name=function(){return this.$valueObj.name},p.hasSimpleContent=function(){return!this.hasComplexContent()},p.insertChildAfter=function(t,e){},p.contains=function(n){if("string"==typeof n&&(n=new e(n,t.XMLUtils.parse(n))),n.$value=this.loop(n.$valueObj),n.$value==this.$value)return!0;if(!this.$valueObj.hasOwnProperty("children"))return!1;var i=this.$valueObj.children;for(var r in i)if(console.log(this.loop(i[r])),this.loop(i[r])==n.$value)return!0;return!1},p.hasOwnProperty=function(t){return this.$valueObj&&this.$valueObj["$"+t]?!0:!1},p.setName=function(t){this.$valueObj.localName=t,this.$valueObj.name=t,this.$value=this.loop(this.$valueObj)},p.valueOf=function(){return this},p.toString=function(){return this.$value},p.toXMLString=function(){return this.$value},p.loop=function(t){var e="";e="<"+t.name+" ";for(var n in t)"$"==n.charAt(0)&&(e=e.concat(n.substring(1,n.length)+' = "'+t[n]+'" '));if(e=e.concat(">"),void 0!=t.text&&(e=e.concat(t.text)),void 0!=t.children)for(var i in t.children)e=e.concat(this.loop(t.children[i]));return e=e.concat("</"+t.name+">")},p.dot=function(n){var i,r=new Array,a=new t.XMLList(r),s=0;if(this.$valueObj&&this.$valueObj[n])a[0]=this;else if(void 0!=this.$valueObj.children)for(var o in this.$valueObj.children)void 0!=n&&this.$valueObj.children[o].localName==n?(i=new e(this.loop(this.$valueObj.children[o]),this.$valueObj.children[o]),void 0!=this.$valueObj.children[o].parent?i.$parent=new e(this.loop(this.$valueObj.children[o].parent),this.$valueObj.children[o].parent):i.$parent=null,a[s]=i,s++):(void 0==n||null==n)&&(i=new e(this.loop(this.$valueObj.children[o]),this.$valueObj.children[o]),void 0!=this.$valueObj.children[o].parent?i.$parent=new e(this.loop(this.$valueObj.children[o].parent),this.$valueObj.children[o].parent):i.$parent=null,a[s]=i,s++);return a},p.dotStar=function(t){return this.dot()},p.dotExpr=function(e,n,i){void 0===n&&(n=null),void 0===i&&(i="==");var r=new t.XMLList,a=(new Array,0);if(void 0!=this.$valueObj.children)for(var s in this.$valueObj.children)this.$valueObj.children[s].localName==e&&("=="==i?this.$valueObj.children[s].text==n&&(r[a]=this,a++):"!="==i?this.$valueObj.children[s].text!=n&&(r[a]=this,a++):">="==i?this.$valueObj.children[s].text>=n&&(r[a]=this,a++):"<="==i?this.$valueObj.children[s].text<=n&&(a++,r[a]=this):">"==i?this.$valueObj.children[s].text>n&&(r[a]=this,a++):"<"==i?this.$valueObj.children[s].text<n&&(r[a]=this,a++):"&&"==i?this.$valueObj.children[s].text&&n&&(r[a]=this,a++):"||"==i&&(this.$valueObj.children[s].text||n)&&(r[a]=this,a++));return r},p.dotAtExpr=function(t,e,n){return void 0===n&&(n=""),this.dotAt(t,e,n,!0)},p.dotDouble=function(t){return this.descendants(t)},p.dotDoubleStar=function(t){return this.descendants()},p.dotAlt=function(t,e,n){return this.dotAt(t,e,n,!1)},e.ignoreComments=!0,e.ignoreProcessingInstructions=!0,e.ignoreWhitespace=!0,e.prettyIndent=2,e.prettyPrinting=!0,e}();t.XML=e,egret.registerClass(e,"flash.XML")}(flash||(flash={}));var flash;!function(t){var e=function(){function e(t){void 0===t&&(t=null),this._value=t}var n=(__define,e);return p=n.prototype,p.attributes=function(){var t,n=[];for(var i in this)this[i]&&this[i].attributes&&(t=this[i].attributes(),n=n.concat(t));for(var r=0,a=new e,s=0;s<n.length;s++)for(var o in n[s])n[s][o]&&n[s][o].dotExpr&&(a[r]=n[s][o],r++);return a},p.attribute=function(t){var n,i=[];for(var r in this)this[r]&&this[r].attribute&&(n=this[r].attribute(t),i=i.concat(n));for(var a=0,s=new e,o=0;o<i.length;o++)for(var l in i[o])i[o][l]&&i[o][l].attribute&&(s[a]=i[o][l],a++);return s},p.child=function(t){var n,i=[];for(var r in this)this[r]&&this[r].child&&(n=this[r].child(t)),i=i.concat(n);for(var a=0,s=new e,o=0;o<i.length;o++)for(var l in i[o])i[o][l]&&i[o][l].dotExpr&&(s[a]=i[o][l],a++);return s},p.copy=function(){var t,n=[];for(var i in this)this[i]&&this[i].copy&&(t=this[i].copy(),n.push(t));for(var r=0,a=new e,s=0;s<n.length;s++)for(var o in n[s])n[s][o]&&n[s][o].copy&&(a[r]=n[s][o],r++);return a},p.descendants=function(t){var n,i=[];for(var r in this)this[r]&&this[r].descendants&&(n=this[r].descendants(t),i=i.concat(n));for(var a=0,s=new e,o=0;o<i.length;o++)for(var l in i[o])i[o][l]&&i[o][l].descendants&&(s[a]=i[o][l],a++);return s},p.dotAt=function(t,n,i,r){void 0===i&&(i="=="),void 0===r&&(r=!0);var a=(new Array,new e),s=null,o=0,l=[];for(var h in this)s=this[h],s&&s.dotAt&&(l=l.concat(s.dotAt(t,n,i,r)));for(var u=0;u<l.length;u++)for(var c in l[u])l[u][c]&&l[u][c].children&&(a[o]=l[u][c],o++);return a},p.contains=function(t){var e=!1;for(var n in this)if(this[n]&&this[n].contains&&(e=this[n].contains(t)),1==e)return!0;return e},p.children=function(){var t,n=[];for(var i in this)this[i]&&this[i].children&&(t=this[i].children(),n=n.concat(t));for(var r=0,a=new e,s=0;s<n.length;s++)for(var o in n[s])n[s][o]&&n[s][o].children&&(a[r]=n[s][o],r++);return a},p.elements=function(t){var n,i=[];for(var r in this)this[r]&&this[r].elements&&(n=this[r].elements(t),i=i.concat(n));for(var a=0,s=new e,o=0;o<i.length;o++)for(var l in i[o])i[o][l]&&i[o][l].elements&&(s[a]=i[o][l],a++);return s},p.hasComplexContent=function(){for(var t in this)if(this[t]&&this[t].hasComplexContent&&this[t].hasComplexContent())return!0;return!1},p.hasSimpleContent=function(){return!this.hasComplexContent()},p.hasOwnProperty=function(t){var e=!1;for(var n in this)if(this[n]&&this[n].hasOwnProperty&&(e=this[n].hasOwnProperty(t),1==e))return!0;return e},p.parent=function(){var e=(new Array,new t.Dictionary);for(var n in this)this[n]&&this[n].dotExpr&&e.setItem(this[n].parent()?this[n].parent().$valueObj:this[n].parent(),n);return 0==e.map.length||e.map.length>1?void 0:this[0].parent()},p.toXMLString=function(){var t="";for(var e in this)this[e]&&this[e].dotExpr&&(t=t.concat(this[e].toXMLString()));return t},p.length=function(){var t=0;for(var e in this)this[e]&&this[e].toXMLString&&t++;return t},p.dot=function(t){var n,i=0,r=new e,a=[];if("number"==typeof t&&this[t])r[0]=this[t];else for(var s in this)this[s]&&this[s].dot&&(n=this[s].dot(t),a=a.concat(n));for(var o=0;o<a.length;o++)for(var l in a[o])a[o][l]&&a[o][l].dot&&(r[i]=a[o][l],i++);return r},p.dotStar=function(t){return this.dot()},p.dotExpr=function(t,n,i){void 0===n&&(n=null),void 0===i&&(i="");var r=new e,a=[];for(var s in this)this[s]&&this[s].dotExpr&&(r=this[s].dotExpr(t,n,i),a=a.concat(r));for(var o=0,l=new e,h=0;h<a.length;h++)for(var u in a[h])a[h][u]&&a[h][u].dotExpr&&(l[o]=a[h][u],o++);return l},p.dotAtExpr=function(t,e,n){return this.dotAt(t,e,n,!0)},p.dotDouble=function(t){return this.descendants(t)},p.dotDoubleStar=function(t){return this.descendants()},p.dotAlt=function(t,n,i){var r,a=(new e,[]);for(var s in this)this[s]&&this[s].dotAlt&&(r=this[s].dotAlt(t,n,i,!1),a=a.concat(r));for(var o=0,l=new e,h=0;h<a.length;h++)for(var u in a[h])a[h][u]&&a[h][u].dotExpr&&(l[o]=a[h][u],o++);return l},e}();t.XMLList=e,egret.registerClass(e,"flash.XMLList")}(flash||(flash={}));var AllInterfaceImplements=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();egret.registerClass(AllInterfaceImplements,"AllInterfaceImplements"),flash.implementsClass("flash.EventDispatcher",["flash.IEventDispatcher","egret.IEventDispatcher"]),flash.implementsClass("egret.EventDispatcher",["egret.IEventDispatcher","flash.IEventDispatcher"]);var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.updateProperties=function(){},t.active=!1,t}();t.Accessibility=e,egret.registerClass(e,"flash.Accessibility")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();t.AccessibilityProperties=e,egret.registerClass(e,"flash.AccessibilityProperties")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();t.InteractiveIcon=e,egret.registerClass(e,"flash.InteractiveIcon")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(){t.call(this)}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(t.InteractiveIcon);t.DockIcon=e,egret.registerClass(e,"flash.DockIcon")
}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.$eventTarget=null,this.$eventsMap=null,this.$captureEventsMap=null,this.$eventsMap={},this.$captureEventsMap={},e?this.$eventTarget=e:this.$eventTarget=this}__extends(e,t);var n=(__define,e);return p=n.prototype,p.addEventListener=function(t,e,n,i){void 0===n&&(n=!1),void 0===i&&(i=0),"undefined"==typeof n&&(n=!1),"undefined"==typeof i&&(i=0);var r;r=n?this.$captureEventsMap:this.$eventsMap;var a=r[t];a||(a=r[t]=[]),this._insertEventBin(a,e,i)},p._insertEventBin=function(t,e,n,i){void 0===i&&(i=void 0);for(var r=-1,a=t.length,s=0;a>s;s++){var o=t[s];if(o.listener["function"]==e["function"]&&o.listener.owner==e.owner&&o.display==i)return!1;-1==r&&o.priority<n&&(r=s)}var l={listener:e,priority:n};return i&&(l.display=i),-1!=r?t.splice(r,0,l):t.push(l),!0},p.removeEventListener=function(t,e,n){void 0===n&&(n=!1);var i=n?this.$captureEventsMap:this.$eventsMap;if(i){var r=i[t];r&&(this._removeEventBin(r,e),0==r.length&&delete i[t])}},p._removeEventBin=function(t,e,n,i){void 0===n&&(n=void 0),void 0===i&&(i=0);for(var r=t.length,a=i;r>a;a++){var s=t[a];if(s.listener["function"]==e["function"]&&s.listener.owner==e.owner&&s.display==n)return t.splice(a,1),!0}return!1},p.hasEventListener=function(t){return!!(this.$eventsMap&&this.$eventsMap[t]||this.$captureEventsMap&&this.$captureEventsMap[t])},p.willTrigger=function(t){return this.hasEventListener(t)},p.dispatchEvent=function(t){return t.$target=this.$eventTarget,t.$currentTarget=this.$eventTarget,this.$eventTarget instanceof egret.DisplayObject?this.$eventTarget.dispatchEvent(t):this._notifyListener(t)},p._notifyListener=function(t){var e=1==t.$eventPhase?this.$captureEventsMap:this.$eventsMap;if(!e)return!0;var n=e[t.$type];if(!n)return!0;var i=n.length;if(0==i)return!0;n=n.concat();for(var r=0;i>r;r++){var a=n[r];if(a.listener(t),t.$isPropagationImmediateStopped)break}return!t.$isDefaultPrevented},e}(egret.HashObject);t.EventDispatcher=e,egret.registerClass(e,"flash.EventDispatcher",["flash.IEventDispatcher","egret.IHashObject"])}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(){t.call(this)}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(t.EventDispatcher);t.Icon=e,egret.registerClass(e,"flash.Icon")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();t.NativeApplication=e,egret.registerClass(e,"flash.NativeApplication")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();t.NativeProcess=e,egret.registerClass(e,"flash.NativeProcess")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();t.SystemTrayIcon=e,egret.registerClass(e,"flash.SystemTrayIcon")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n,i,r){t.call(this,e),e&&(this.bitmapData=e),this.$pixelSnapping=void 0==n?"auto":n,this.$smoothing=void 0==i?!1:i,void 0!=r&&(this.bitmapData=LoadingUI.getEmbedBitmapData(r))}__extends(e,t);var n=__define,i=e;return p=i.prototype,n(p,"pixelSnapping",function(){return this.$pixelSnapping},function(t){this.$pixelSnapping=t}),n(p,"smoothing",function(){return this.$smoothing},function(t){this.$smoothing=t}),n(p,"bitmapData",function(){return this.texture},function(t){this.texture=t}),n(p,"scaleX",function(){return this.width/this.measuredWidth},function(t){this.width=t*this.measuredWidth}),n(p,"scaleY",function(){return this.height/this.measuredHeight},function(t){this.height=t*this.measuredHeight}),n(p,"width",function(){return this.$getWidth()},function(t){this.$setWidth(t)}),n(p,"height",function(){return this.$getHeight()},function(t){this.$setHeight(t)}),e}(egret.Bitmap);t.Bitmap=e,egret.registerClass(e,"flash.Bitmap")}(flash||(flash={}));var flash;!function(t){var e=function(e){function n(t,i,r,a,s){if(void 0===r&&(r=!0),void 0===a&&(a=4294967295),e.call(this),this.$lock=!1,s)this._setBitmapData(s._bitmapData),this._drawImage(s,0,0,s.textureWidth,s.textureHeight,0,0,s.textureWidth,s.textureHeight);else if(-1==a)this.context=this.createRenderContext(t,i),this._setBitmapData(this.context.surface),this.$initData(0,0,t,i,0,0,t,i,t,i);else{var o,l=n.shape.graphics;o=r?Math.floor(a/Math.pow(2,24))/255:1,0==i&&(i=1),0==t&&(t=1),this.$transparent=r,l.clear(),l.beginFill(16777215&a,o),l.drawRect(0,0,t,i),l.endFill(),this.d2t(n.shape)}}__extends(n,e);var i=__define,r=n;return p=r.prototype,i(p,"transparent",function(){return this.$transparent}),p.d2t=function(t){this.drawToTexture(t),this._textureWidth=t.width,this._textureHeight=t.height},p.initWidthTexture=function(t,e,i,r,a){if(a)this._setBitmapData(a._bitmapData),this._drawImage(a,0,0,t,e,0,0,t,e);else{var s,o=n.shape.graphics;s=i?Math.floor(r/Math.pow(2,24))/255:1,this.$transparent=i,o.clear(),o.beginFill(16777215&r,s),o.drawRect(0,0,t,e),o.endFill(),this.d2t(n.shape)}},p.setPixel=function(t,e,n){this._fill(t,e,1,1,n,!1,!1)},i(p,"rect",function(){return null==this.$rect&&(this.$rect=new egret.Rectangle),this.$rect.width=this.textureWidth,this.$rect.height=this.textureHeight,this.$rect}),p._fill=function(t,e,i,r,a,s,o){void 0===s&&(s=!1),void 0===o&&(o=!0);var l,h=n.shape.graphics;l=o?Math.floor(a/Math.pow(2,24))/255:1,h.clear(),h.beginFill(16777215&a,l),h.drawRect(0,0,i,r),h.endFill(),n.renderTexture.drawToTexture(n.shape,new egret.Rectangle(0,0,i,r)),s&&this.context.clearRect(t,e,i,r),this._drawImage(n.renderTexture,0,0,i,r,t,e,i,r)},i(p,"width",function(){return this.textureWidth}),i(p,"height",function(){return this.textureHeight}),p.copyPixels=function(t,e,n,i,r,a){void 0===i&&(i=null),void 0===r&&(r=null),void 0===a&&(a=!1),this._drawImage(t,e.x,e.y,e.width,e.height,n.x,n.y,e.width,e.height)},p._drawImage=function(t,e,n,i,r,a,s,o,l){this.context.drawImage&&this.context.drawImage(t._bitmapData,e,n,i,r,a,s,o,l)},p.clone=function(){var e=new t.Rectangle(0,0,this.width,this.height),n=new egret.Point(0,0),i=new t.BitmapData(this.width,this.height);return i.copyPixels(this,e,n),i},p.lock=function(){this.$lock=!0},p.unlock=function(t){void 0===t&&(t=null),this.$lock=!1},p.draw2=function(t,e,n,i,r,a){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===a&&(a=!1),r||(r=new egret.Rectangle(0,0,t.width,t.height)),this.drawToTexture(t,r,1)},p.drawWithQuality2=function(t,e,n,i,r,a,s){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===a&&(a=!1),void 0===s&&(s=null),this.draw2(t,e,n,i,r,a)},n.shape=new egret.Shape,n.renderTexture=new egret.RenderTexture,n}(egret.RenderTexture);t.BitmapData=e,egret.registerClass(e,"flash.BitmapData")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){this.type=1,this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.skewX=0,this.skewY=0}var e=(__define,t);return p=e.prototype,p.getDisplay=function(){return 1==this.type?new egret.Bitmap(this.texture):void 0},p.clone=function(){var e=new t;return e.type=this.type,e.texture=this.texture,e.tsx=this.tsx,e.tsy=this.tsy,e.tsw=this.tsw,e.tsh=this.tsh,e.text=this.text,e.x=this.x,e.y=this.y,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.rotation=this.rotation,e.skewX=this.scaleX,e.skewY=this.skewY,e},t}();t.BitmapDataInfo=e,egret.registerClass(e,"flash.BitmapDataInfo")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.NONE="none",t.ROUND="round",t.SQUARE="square",t}();t.CapsStyle=e,egret.registerClass(e,"flash.CapsStyle")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.ON="on",t.OFF="on",t.DEFAULT="on",t}();t.ColorCorrection=e,egret.registerClass(e,"flash.ColorCorrection")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.UNSUPPORTED="unsupported",t.DEFAULT_ON="defaultOn",t.DEFAULT_OFF="defaultOff",t}();t.ColorCorrectionSupport=e,egret.registerClass(e,"flash.ColorCorrectionSupport")}(flash||(flash={}));var flash;!function(t){function e(t,e){return t.getBounds(new egret.Rectangle,!0)}function n(t,e){return t.globalToLocal(e.x,e.y,e)}function i(t,e){return t.localToGlobal(e.x,e.y,e)}function r(e){u||(t.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,s,null),t.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,o,null));for(var n=0;n<c.length;n++)if(c[n][0]==e)return;c.push([e,e.x,e.y])}function a(t){for(var e=0;e<c.length;e++)if(c[e][0]==t){c.splice(e,1);break}}function s(t){for(var e=0;e<c.length;e++)c[e][1]=c[e][0].x,c[e][2]=c[e][0].y;l=t.$stageX,h=t.$stageY}function o(t){for(var e=t.stageX-l,n=t.stageY-h,i=0;i<c.length;i++)c[i][0].x=c[i][1]+e,c[i][0].y=c[i][2]+n}t.getBounds=e,t.globalToLocal=n,t.localToGlobal=i;var l,h,u=!1,c=[];t.startDrag=r,t.stopDrag=a,t.onDragBegin=s,t.onDragMove=o}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.LINEAR="linear",t.RADIAL="radial",t}();t.GradientType=e,egret.registerClass(e,"flash.GradientType")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(){t.call(this)}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(egret.DisplayObject);t.InteractiveObject=e,egret.registerClass(e,"flash.InteractiveObject")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.BEVEL="bevel",t.MITER="miter",t.ROUND="round",t}();t.JointStyle=e,egret.registerClass(e,"flash.JointStyle")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.VERTICAL="vertical",t.HORIZONTAL="horizontal",t.NONE="none",t.NORMAL="normal",t}();t.LineScaleMode=e,egret.registerClass(e,"flash.LineScaleMode")}(flash||(flash={}));var flash;!function(t){var e=function(e){function n(){e.call(this),this.$contentLoaderInfo=null,this.$context=null,this.$contentLoaderInfo=new t.LoaderInfo,this.$contentLoaderInfo.addEventListener(egret.Event.COMPLETE,this.loadComplete,this,!1,0),this.$uncaughtErrorEvents=new t.UncaughtErrorEvents}__extends(n,e);var i=__define,r=n;return p=r.prototype,i(p,"uncaughtErrorEvents",function(){return this.$uncaughtErrorEvents}),p.addEventListener_as3=function(t,e,n,i,r){this.addEventListener(t,e,null,n,i)},p.loadComplete=function(t){this.addChild(this.$contentLoaderInfo.content)},i(p,"content",function(){return this.$contentLoaderInfo.content}),i(p,"contentLoaderInfo",function(){return this.$contentLoaderInfo}),p.loadBytes=function(t,e){void 0===e&&(e=null)},p.load=function(e,n){void 0===n&&(n=null),(-1!=e.url.indexOf(".swf")||-1!=e.url.indexOf(".SWF"))&&(null==n&&(n=new t.LoaderContext(!1,t.ApplicationDomain.currentDomain)),null==n.applicationDomain&&(n.applicationDomain=t.ApplicationDomain.currentDomain),this.$context=n,this.$contentLoaderInfo.applicationDomain=n.applicationDomain),this.$contentLoaderInfo.initWidthLoader(this,e)},p.close=function(){},n}(egret.DisplayObjectContainer);t.Loader=e,egret.registerClass(e,"flash.Loader")}(flash||(flash={}));var flash;!function(flash){var LoaderInfo=function(_super){function LoaderInfo(){_super.call(this),this.$loadGroupName=""}__extends(LoaderInfo,_super);var d=__define,c=LoaderInfo;return p=c.prototype,d(p,"applicationDomain",function(){return this.$applicationDomain},function(t){this.$applicationDomain=t}),d(p,"content",function(){return this.$content}),p.initWidthLoader=function(t,e){this.loader=t;var n=e.url;n=n.split("?")[0];var i=n.split("."),r=i[i.length-1];if("png"==r||"jpg"==r||"PNG"==r||"JPG"==r)null==this.$urlLoader&&(this.$urlLoader=new egret.URLLoader,this.$urlLoader.addEventListener(egret.Event.COMPLETE,this.$onLoadComplete,this)),this.$urlLoader.dataFormat=egret.URLLoaderDataFormat.TEXTURE,this.$urlLoader.load(e);else if("swf"==r||"SWF"==r){var a=n.substring(0,n.length-4);this.$loadSWF(a)}},p.$onLoadComplete=function(t){var e=this.$urlLoader.data,n=new flash.BitmapData(e._bitmapWidth,e._bitmapHeight,!1,0,e);this.$content=new flash.Bitmap(n),this.dispatchEvent(new egret.Event(egret.Event.COMPLETE))},p.$loadSWF=function(t){t=encodeURI(t);var e=/\./g;t=t.replace(e,"_"),t="swfres/"+t,this.$loadGroupName=t.split("/").join("_")+"_";var n="resource/"+t+"/res.json";RES.getResByUrl(n,this.$getResComplete,this,RES.ResourceItem.TYPE_JSON)},p.$getResComplete=function(t){RES.parseConfig(t,""),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.$onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.CONFIG_LOAD_ERROR,this.$onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.$onResourceProgress,this),RES.loadGroup(this.$loadGroupName)},p.$onResourceLoadComplete=function(t){t.groupName==this.$loadGroupName&&(this.$removeEvents(),RES.getResAsync(t.groupName+"config",this.$onLoadConfig,this))},p.$onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.$onResourceLoadComplete(t)},p.$onResourceProgress=function(t){if(t.groupName==this.$loadGroupName){var e=new egret.ProgressEvent(egret.ProgressEvent.PROGRESS,!0,!0,t.itemsLoaded,t.itemsTotal);this.dispatchEvent(e)}},p.$removeEvents=function(){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.$onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.$onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.$onResourceProgress,this)},p.$onLoadConfig=function(obj){var resConfig=new egret.Resconfig(obj);resConfig.picMerge?resConfig.resNamePrefix=resConfig.relativeDir.split("/").join("_")+"pic.":resConfig.resNamePrefix=resConfig.relativeDir.split("/").join("_"),resConfig.resModule=resConfig.relativeDir.split("/").join("."),this.$applicationDomain==flash.ApplicationDomain.currentDomain?this.$applicationDomain.resModule="":(this.$applicationDomain.resModule=resConfig.resModule,this.$applicationDomain.name=resConfig.resModule);for(var key in resConfig.symbols)if(resConfig.symbols.hasOwnProperty(key)){var symbol=resConfig.symbols[key];this.$applicationDomain.defNames.push(symbol.className);var def=resConfig.resDefs[symbol.id];if(null!=def)if(egret.Config.RESSprite==def.t){var templateStr=SwfUtils.symbolTemplate,clsName=SwfUtils.getDefName(this.$applicationDomain.resModule,symbol.className),reg=new RegExp("TemplateClass1","g");templateStr=templateStr.replace(reg,clsName),eval(templateStr);var clsDefinition=__global[clsName];clsDefinition.resConfig=resConfig,clsDefinition.symbolName=symbol.className}else if(egret.Config.RESStage==def.t){var clsDefine=egret.getDefinitionByName(symbol.className);null!=clsDefine&&(clsDefine.prototype.resConfig=resConfig,clsDefine.prototype.symbolName=symbol.className)}else if(egret.Config.RESImage==def.t){var templateStr=SwfUtils.bitmapDataTemplate,clsName=SwfUtils.getDefName(this.$applicationDomain.resModule,symbol.className),reg=new RegExp("TemplateClass2","g");templateStr=templateStr.replace(reg,clsName),eval(templateStr);var clsDefinition=__global[clsName];clsDefinition.resConfig=resConfig,clsDefinition.symbolName=symbol.className}else if(egret.Config.RESButton==def.t){var templateStr=SwfUtils.buttonTemplate,clsName=SwfUtils.getDefName(this.$applicationDomain.resModule,symbol.className),reg=new RegExp("ButtonTemplate","g");templateStr=templateStr.replace(reg,clsName),eval(templateStr);var clsDefinition=__global[clsName];clsDefinition.resConfig=resConfig,clsDefinition.symbolName=symbol.className}else if(egret.Config.RESSound==def.t){var templateStr=SwfUtils.soundTemplate,clsName=SwfUtils.getDefName(this.$applicationDomain.resModule,symbol.className),reg=new RegExp("SoundTemplate","g");templateStr=templateStr.replace(reg,clsName),eval(templateStr);var clsDefinition=__global[clsName];clsDefinition.resConfig=resConfig,clsDefinition.symbolName=symbol.className}}this.$content=new egret.SwfMovie(resConfig,"",0),this.dispatchEvent(new egret.Event(egret.Event.COMPLETE))},p.addEventListener_as3=function(t,e,n,i,r){this.addEventListener(t,e,null,n,i)},LoaderInfo}(egret.EventDispatcher);flash.LoaderInfo=LoaderInfo,egret.registerClass(LoaderInfo,"flash.LoaderInfo")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(){t.call(this),this.items=null,this.numItems=0}__extends(e,t);var n=(__define,e);return p=n.prototype,p.parent=function(){return this.$_parent},p.containsItem=function(t){return!1},p.addItemAt=function(t){return null},p.getItemByName=function(t){return null},p.setItemIndex=function(t,e){},p.display=function(t,e,n){},p.addSubmenu=function(t,e){return null},p.getItemIndex=function(t){return 0},p.removeItemAt=function(t){return null},p.removeItem=function(t){return t},p.getItemAt=function(t){return null},p.removeAllItems=function(){},p.addSubmenuAt=function(t,e,n){return null},p.addItem=function(t){return null},e.isSupported=!1,e}(t.EventDispatcher);t.NativeMenu=e,egret.registerClass(e,"flash.NativeMenu")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(){t.call(this)}__extends(e,t);var n=(__define,e);return p=n.prototype,p.clone=function(){return this},p.toString=function(){return""},e}(t.EventDispatcher);t.NativeMenuItem=e,egret.registerClass(e,"flash.NativeMenuItem")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();t.NativeWindow=e,egret.registerClass(e,"flash.NativeWindow")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.NEVER="never",t.ALWAYS="always",t.AUTO="auto",t}();t.PixelSnapping=e,egret.registerClass(e,"flash.PixelSnapping")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.FLASH1=1,t.FLASH2=2,t.FLASH3=3,t.FLASH4=4,t.FLASH5=5,t.FLASH6=6,t.FLASH7=7,t.FLASH8=8,t.FLASH9=9,t.FLASH10=10,t}();t.SWFVersion=e,egret.registerClass(e,"flash.SWFVersion")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();t.Scene=e,egret.registerClass(e,"flash.Scene")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.REPEAT="repeat",t.PAD="pad",t.REFLECT="reflect",t}();t.SpreadMethod=e,egret.registerClass(e,"flash.SpreadMethod")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.BOTTOM="B",t.RIGHT="R",t.TOP_LEFT="TL",t.TOP="T",t.LEFT="L",t.TOP_RIGHT="TR",t.BOTTOM_LEFT="BL",t.BOTTOM_RIGHT="BR",t}();t.StageAlign=e,egret.registerClass(e,"flash.StageAlign")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.FULL_SCREEN_INTERACTIVE="fullScreenInteractive",t.NORMAL="normal",t.FULL_SCREEN="fullScreen",t}();t.StageDisplayState=e,egret.registerClass(e,"flash.StageDisplayState")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.UPSIDE_DOWN="upsideDown",t.UNKNOWN="unknown",t.ROTATED_RIGHT="rotatedRight",t.ROTATED_LEFT="rotatedLeft",t.DEFAULT="default",t}();t.StageOrientation=e,egret.registerClass(e,"flash.StageOrientation")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.HIGH_16X16_LINEAR="16x16linear",t.LOW="low",t.BEST="best",t.MEDIUM="medium",t.HIGH_8X8="8x8",t.HIGH="high",t.HIGH_8X8_LINEAR="8x8linear",t.HIGH_16X16="16x16",t}();t.StageQuality=e,egret.registerClass(e,"flash.StageQuality")}(flash||(flash={}));var flash;!function(t){var e=function(e){function n(){e.call(this),this.backBufferWidth=0,this.backBufferHeight=0,this.m_stencilRefVal=0,this.m_stencilWriteMask=255,this.m_originViewport=new egret.Rectangle(0,0,0,0),this.m_currentViewport=new egret.Rectangle(0,0,0,0),this.webglContext=t.WebGLUtils.webglContext,this.mAntiAlias=0,this.mEnableDepthAndStencil=!0,this.mWantsBestResolution=!1,this.mWantsBestResolutionOnBrowserZoom=!1,this.m_currentProgram=null,this.m_internal_rttFramebuffer=null,this.m_internal_defautFBO=null,this.enableErrorChecking=!1,this.initInternalObjects()}__extends(n,e);var i=__define,r=n;return p=r.prototype,p.initInternalObjects=function(){this.webglContext.enable(this.webglContext.BLEND),this.webglContext.blendFunc(this.webglContext.SRC_ALPHA,this.webglContext.ONE_MINUS_SRC_ALPHA),this.webglContext.enable(this.webglContext.CULL_FACE),this.webglContext.cullFace(this.webglContext.BACK),this.m_internal_rttFramebuffer=this.webglContext.createFramebuffer(),this.m_internal_defautFBO=this.webglContext.getParameter(this.webglContext.FRAMEBUFFER_BINDING),this.webglContext.bindFramebuffer(this.webglContext.FRAMEBUFFER,this.m_internal_defautFBO)},p.clear=function(t,e,n,i,r,a,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=1),void 0===r&&(r=1),void 0===a&&(a=0),void 0===s&&(s=4294967295),this.webglContext.clearColor(1,0,0,1),this.webglContext.clear(this.webglContext.COLOR_BUFFER_BIT|this.webglContext.DEPTH_BUFFER_BIT)},p.configureBackBuffer=function(t,e,n,i,r,a){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===a&&(a=!1),this.backBufferWidth=t,this.backBufferHeight=e,this.m_originViewport.x=0,this.m_originViewport.y=0,this.m_originViewport.width=this.backBufferWidth,this.m_originViewport.height=this.backBufferHeight,this.m_currentViewport.x=0,this.m_currentViewport.y=0,this.m_currentViewport.width=this.backBufferWidth,this.m_currentViewport.height=this.backBufferHeight,this.mAntiAlias=n,this.mEnableDepthAndStencil=i,this.mWantsBestResolution=r,this.mWantsBestResolutionOnBrowserZoom=a,this.webglContext.viewport(0,0,t,e),1==i?(this.webglContext.enable(this.webglContext.DEPTH_TEST),this.webglContext.depthFunc(this.webglContext.LEQUAL),this.webglContext.depthMask(!0),this.webglContext.enable(this.webglContext.STENCIL_TEST),this.webglContext.stencilFunc(this.webglContext.ALWAYS,1,1),this.webglContext.stencilOp(this.webglContext.KEEP,this.webglContext.KEEP,this.webglContext.REPLACE)):(this.webglContext.depthMask(!1),this.webglContext.disable(this.webglContext.DEPTH_TEST),this.webglContext.disable(this.webglContext.STENCIL_TEST))},p.createCubeTexture=function(t,e,n,i){void 0===i&&(i=0)},p.createIndexBuffer=function(e,n){return void 0===n&&(n=t.Context3DBufferUsage.STATIC_DRAW),new t.IndexBuffer3D(e,n)},p.createProgram=function(){return new t.Program3D},p.createTexture=function(e,n,i,r,a){return void 0===a&&(a=0),new t.Texture(e,n,i,r,a)},p.createVertexBuffer=function(e,n,i){return void 0===i&&(i=t.Context3DBufferUsage.STATIC_DRAW),new t.VertexBuffer3D(e,n,i)},p.dispose=function(){},p.drawToBitmapData=function(t){},p.drawTriangles=function(e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=0;r=-1==i?e.m_numIndexes-n:n+3*i<=e.m_numIndexes?3*i:e.m_numIndexes-n,this.webglContext.bindBuffer(this.webglContext.ELEMENT_ARRAY_BUFFER,e.m_ibo),this.webglContext.drawElements(this.webglContext.TRIANGLES,r,t.WebGLUtils.drawElementSize,0),this.webglContext.bindBuffer(this.webglContext.ELEMENT_ARRAY_BUFFER,null)},p.present=function(){this.webglContext.bindTexture(this.webglContext.TEXTURE_2D,null),this.webglContext.bindBuffer(this.webglContext.ARRAY_BUFFER,null),this.webglContext.bindBuffer(this.webglContext.ELEMENT_ARRAY_BUFFER,null),this.webglContext.bindFramebuffer(this.webglContext.FRAMEBUFFER,this.m_internal_defautFBO),this.m_currentProgram=null},p.setBlendFactors=function(e,n){this.webglContext.blendFunc(t.Context3DBlendFactor[e],t.Context3DBlendFactor[n])},p.setColorMask=function(t,e,n,i){this.webglContext.colorMask(t,e,n,i)},p.setCulling=function(e){e==t.Context3DTriangleFace.NONE?this.webglContext.disable(this.webglContext.CULL_FACE):(this.webglContext.enable(this.webglContext.CULL_FACE),this.webglContext.cullFace(t.Context3DTriangleFace[e]))},p.setDepthTest=function(e,n){this.webglContext.depthMask(e),this.webglContext.depthFunc(t.Context3DCompareMode[n])},p.setProgram=function(t){null!=t&&(this.webglContext.useProgram(t.m_programID),this.m_currentProgram=t)},p.setProgramConstantsFromByteArray=function(t,e,n,i,r){},p.setProgramConstantsFromMatrix=function(t,e,n,i){void 0===i&&(i=!1);var r;if(i)r=new Float32Array(n.rawData);else{var a;a=n.clone(),a.transpose(),r=new Float32Array(a.rawData)}var s=this.m_currentProgram.uniformLocations[e];s&&this.webglContext.uniformMatrix4fv(s,!1,r)},p.setProgramConstantsFromVector=function(t,e,n,i){if(void 0===i&&(i=-1),n&&0!=n.length&&null!=this.m_currentProgram){var r=new Float32Array(n),a=this.m_currentProgram.uniformLocations[e],s=this.m_currentProgram.uniformLocationFunc[e];a&&(-1!=s.indexOf("Matrix")?this.webglContext[s](a,!1,r):this.webglContext[s](a,r))}},p.setRenderToBackBuffer=function(){this.m_currentViewport.x=this.m_originViewport.x,this.m_currentViewport.y=this.m_originViewport.y,this.m_currentViewport.width=this.m_originViewport.width,this.m_currentViewport.height=this.m_originViewport.height,this.webglContext.viewport(0,0,this.m_currentViewport.width,this.m_currentViewport.height),this.webglContext.bindFramebuffer(this.webglContext.FRAMEBUFFER,this.m_internal_defautFBO)},p.setRenderToTexture=function(t,e,n,i,r){if(void 0===e&&(e=!1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),null==t)this.setRenderToBackBuffer();else{this.m_currentViewport.x=0,this.m_currentViewport.y=0,this.m_currentViewport.width=t.m_width,this.m_currentViewport.height=t.m_height,this.webglContext.viewport(0,0,this.m_currentViewport.width,this.m_currentViewport.height),this.webglContext.bindFramebuffer(this.webglContext.FRAMEBUFFER,this.m_internal_rttFramebuffer),this.webglContext.framebufferTexture2D(this.webglContext.FRAMEBUFFER,this.webglContext.COLOR_ATTACHMENT0,this.webglContext.TEXTURE_2D,t.m_texID,0);var a=this.webglContext.checkFramebufferStatus(this.webglContext.FRAMEBUFFER);if(a!=this.webglContext.FRAMEBUFFER_COMPLETE)return void this.setRenderToBackBuffer();this.webglContext.clearColor(0,0,0,0),e?this.webglContext.clear(this.webglContext.COLOR_BUFFER_BIT|this.webglContext.DEPTH_BUFFER_BIT):(this.webglContext.disable(this.webglContext.DEPTH_TEST),this.webglContext.clear(this.webglContext.COLOR_BUFFER_BIT))}},p.setSamplerStateAt=function(t,e,n,i){},p.setScissorRectangle=function(t){if(null==t)this.webglContext.disable(this.webglContext.SCISSOR_TEST);else{var e;this.m_currentViewport.x!=this.m_originViewport.x||this.m_currentViewport.y!=this.m_originViewport.y||this.m_currentViewport.width!=this.m_originViewport.width||this.m_currentViewport.height!=this.m_originViewport.height?e=t.y:(e=this.m_currentViewport.height-(t.y+t.height),0>e&&(e=0)),this.webglContext.scissor(t.x,e,t.width,t.height),this.webglContext.enable(this.webglContext.SCISSOR_TEST)}},p.setStencilActions=function(e,n,i,r,a){void 0===e&&(e=t.Context3DTriangleFace.FRONT_AND_BACK),void 0===n&&(n=t.Context3DCompareMode.ALWAYS),void 0===i&&(i=t.Context3DStencilAction.KEEP),void 0===r&&(r=t.Context3DStencilAction.KEEP),void 0===a&&(a=t.Context3DStencilAction.KEEP);var s=t.Context3DStencilAction[i],o=t.Context3DStencilAction[r],l=t.Context3DStencilAction[a];this.webglContext.stencilOp(l,o,s);var h=t.Context3DCompareMode[n];this.webglContext.stencilFunc(h,this.m_stencilRefVal,this.m_stencilWriteMask)},p.setStencilReferenceValue=function(t,e,n){void 0===e&&(e=255),void 0===n&&(n=255),this.m_stencilRefVal=t,this.m_stencilWriteMask=n,this.webglContext.stencilMask(n)},p.setTextureAt=function(t,e){null==e||null==e.m_texID?(this.webglContext.activeTexture(this.webglContext["TEXTURE"+t]),this.webglContext.bindTexture(this.webglContext.TEXTURE_2D,null)):(this.webglContext.activeTexture(this.webglContext["TEXTURE"+t]),this.webglContext.bindTexture(this.webglContext.TEXTURE_2D,e.m_texID))},p.setVertexBufferAt=function(e,n,i,r){if(void 0===i&&(i=0),void 0===r&&(r=t.Context3DVertexBufferFormat.FLOAT_4),n&&n.m_vbo){var a=t.Context3DVertexBufferFormat[r];this.webglContext.bindBuffer(this.webglContext.ARRAY_BUFFER,n.m_vbo);var s=Float32Array.BYTES_PER_ELEMENT,o=this.m_currentProgram.attribLocations[e];null!=o&&-1!=o&&(this.webglContext.enableVertexAttribArray(o),this.webglContext.vertexAttribPointer(o,a,this.webglContext.FLOAT,!1,n.m_data32PerVertex*s,i*s))}this.webglContext.bindBuffer(this.webglContext.ARRAY_BUFFER,null),null==n&&this.webglContext.disableVertexAttribArray(e)},i(p,"driverInfo",function(){return null}),n}(egret.EventDispatcher);t.Context3D=e,egret.registerClass(e,"flash.Context3D")}(flash||(flash={}));var flash;!function(t){var e;!function(t){function e(e){t.destinationAlpha=e.DST_ALPHA,t.destinationColor=e.DST_COLOR,t.one=e.ONE,t.oneMinusDestinationAlpha=e.ONE_MINUS_DST_ALPHA,t.oneMinusDestinationColor=e.ONE_MINUS_DST_COLOR,t.oneMinusSourceAlpha=e.ONE_MINUS_SRC_ALPHA,t.oneMinusSourceColor=e.ONE_MINUS_SRC_COLOR,t.sourceAlpha=e.SRC_ALPHA,t.sourceColor=e.SRC_COLOR,t.zero=e.ZERO}t.DESTINATION_ALPHA="destinationAlpha",t.DESTINATION_COLOR="destinationColor",t.ONE="one",t.ONE_MINUS_DESTINATION_ALPHA="oneMinusDestinationAlpha",t.ONE_MINUS_DESTINATION_COLOR="oneMinusDestinationColor",t.ONE_MINUS_SOURCE_ALPHA="oneMinusSourceAlpha",t.ONE_MINUS_SOURCE_COLOR="oneMinusSourceColor",t.SOURCE_ALPHA="sourceAlpha",t.SOURCE_COLOR="sourceColor",t.ZERO="zero",t.destinationAlpha=0,t.destinationColor=0,t.one=0,t.oneMinusDestinationAlpha=0,t.oneMinusDestinationColor=0,t.oneMinusSourceAlpha=0,t.oneMinusSourceColor=0,t.sourceAlpha=0,t.sourceColor=0,t.zero=0,t.init=e}(e=t.Context3DBlendFactor||(t.Context3DBlendFactor={}))}(flash||(flash={}));var flash;!function(t){var e;!function(t){function e(e){t.dynamicDraw=e.DYNAMIC_DRAW,t.staticDraw=e.STATIC_DRAW}t.DYNAMIC_DRAW="dynamicDraw",t.STATIC_DRAW="staticDraw",t.dynamicDraw=0,t.staticDraw=0,t.init=e}(e=t.Context3DBufferUsage||(t.Context3DBufferUsage={}))}(flash||(flash={}));var flash;!function(t){var e;!function(t){t.ALL=7,t.COLOR=1,t.DEPTH=2,t.STENCIL=4}(e=t.Context3DClearMask||(t.Context3DClearMask={}))}(flash||(flash={}));var flash;!function(t){var e;!function(t){function e(e){t.always=e.ALWAYS,t.equal=e.EQUAL,t.greater=e.GREATER,t.less=e.LESS,t.lessEqual=e.LEQUAL,t.never=e.NEVER,t.notEqual=e.NOTEQUAL}t.ALWAYS="always",t.EQUAL="equal",t.GREATER="greater",t.GREATER_EQUAL="greaterEqual",t.LESS="less",t.LESS_EQUAL="lessEqual",t.NEVER="never",t.NOT_EQUAL="notEqual",t.always=0,t.equal=0,t.greater=0,t.greaterEqual=0,t.less=0,t.lessEqual=0,t.never=0,t.notEqual=0,t.init=e}(e=t.Context3DCompareMode||(t.Context3DCompareMode={}))}(flash||(flash={}));var flash;!function(t){var e;!function(t){t.MIPLINEAR="miplinear",t.MIPNEAREST="mipnearest",t.MIPNONE="mipnone"}(e=t.Context3DMipFilter||(t.Context3DMipFilter={}))}(flash||(flash={}));var flash;!function(t){var e;!function(t){t.BASELINE="baseline",t.BASELINE_CONSTRAINED="baselineConstrained",t.BASELINE_EXTENDED="baselineExtended",t.STANDARD="standard",t.STANDARD_CONSTRAINED="standardConstrained"}(e=t.Context3DProfile||(t.Context3DProfile={}))}(flash||(flash={}));var flash;!function(t){var e;!function(t){t.FRAGMENT="fragment",t.VERTEX="vertex"}(e=t.Context3DProgramType||(t.Context3DProgramType={}))}(flash||(flash={}));var flash;!function(t){var e;!function(t){t.AUTO="auto",t.SOFTWARE="software"}(e=t.Context3DRenderMode||(t.Context3DRenderMode={}))}(flash||(flash={}));var flash;!function(t){var e;!function(t){function e(e){t.decrementSaturate=e.DECR,t.decrementWrap=e.DECR_WRAP,t.incrementSaturate=e.INCR,t.incrementWrap=e.INCR_WRAP,t.invert=e.INVERT,t.keep=e.KEEP,t.set=e.KEEP,t.zero=e.ZERO}t.DECREMENT_SATURATE="decrementSaturate",t.DECREMENT_WRAP="decrementWrap",t.INCREMENT_SATURATE="incrementSaturate",t.INCREMENT_WRAP="incrementWrap",t.INVERT="invert",t.KEEP="keep",t.SET="set",t.ZERO="zero",t.decrementSaturate=0,t.decrementWrap=0,t.incrementSaturate=0,t.incrementWrap=0,t.invert=0,t.keep=0,t.set=0,t.zero=0,t.init=e}(e=t.Context3DStencilAction||(t.Context3DStencilAction={}))}(flash||(flash={}));
var flash;!function(t){var e;!function(t){t.ANISOTROPIC16X="anisotropic16x",t.ANISOTROPIC2X="anisotropic2x",t.ANISOTROPIC4X="anisotropic4x",t.ANISOTROPIC8X="anisotropic8x",t.LINEAR="linear",t.NEAREST="nearest"}(e=t.Context3DTextureFilter||(t.Context3DTextureFilter={}))}(flash||(flash={}));var flash;!function(t){var e;!function(t){function e(e){t.bgra=e.RGBA,t.bgraPacked4444=e.UNSIGNED_SHORT_4_4_4_4,t.bgrPacked565=e.UNSIGNED_SHORT_5_6_5,t.compressed=e.ZERO,t.compressedAlpha=e.ZERO,t.rgbaHalfFloat=e.ZERO}t.BGRA="bgra",t.BGRA_PACKED="bgraPacked4444",t.BGR_PACKED="bgrPacked565",t.COMPRESSED="compressed",t.COMPRESSED_ALPHA="compressedAlpha",t.RGBA_HALF_FLOAT="rgbaHalfFloat",t.bgra=0,t.bgraPacked4444=0,t.bgrPacked565=0,t.compressed=0,t.compressedAlpha=0,t.rgbaHalfFloat=0,t.init=e}(e=t.Context3DTextureFormat||(t.Context3DTextureFormat={}))}(flash||(flash={}));var flash;!function(t){var e;!function(t){function e(e){t.back=e.BACK,t.front=e.FRONT,t.frontAndBack=e.FRONT_AND_BACK}t.BACK="back",t.FRONT="front",t.FRONT_AND_BACK="frontAndBack",t.NONE="none",t.back=1029,t.front=1028,t.frontAndBack=1032,t.init=e}(e=t.Context3DTriangleFace||(t.Context3DTriangleFace={}))}(flash||(flash={}));var flash;!function(t){var e;!function(t){t.BYTES_4="bytes4",t.FLOAT_1="float1",t.FLOAT_2="float2",t.FLOAT_3="float3",t.FLOAT_4="float4",t.bytes4=1,t.float1=1,t.float2=2,t.float3=3,t.float4=4}(e=t.Context3DVertexBufferFormat||(t.Context3DVertexBufferFormat={}))}(flash||(flash={}));var flash;!function(t){var e=function(e){function n(n,i){void 0===i&&(i="staticDraw"),e.call(this),this.m_numIndexes=0,this.bytesPerElement=0,this.m_ibo=null,this.bufferData=null,this.webglContext=t.WebGLUtils.webglContext,this.m_bufferUsage=i,this.m_numIndexes=n,this.createInternalBufferObject()}__extends(n,e);var i=(__define,n);return p=i.prototype,p.createInternalBufferObject=function(){switch(this.m_ibo&&this.dispose(),this.m_ibo=this.webglContext.createBuffer(),this.webglContext.bindBuffer(this.webglContext.ELEMENT_ARRAY_BUFFER,this.m_ibo),t.WebGLUtils.indexType){case"Uint8Array":this.bufferData=new Uint8Array(this.m_numIndexes),this.bytesPerElement=Uint8Array.BYTES_PER_ELEMENT;break;case"Uint16Array":this.bufferData=new Uint16Array(this.m_numIndexes),this.bytesPerElement=Uint16Array.BYTES_PER_ELEMENT;break;case"Uint32Array":this.bufferData=new Uint32Array(this.m_numIndexes),this.bytesPerElement=Uint32Array.BYTES_PER_ELEMENT}return this.webglContext.bufferData(this.webglContext.ELEMENT_ARRAY_BUFFER,this.m_numIndexes*this.bytesPerElement,t.Context3DBufferUsage[this.m_bufferUsage]),this.webglContext.bindBuffer(this.webglContext.ELEMENT_ARRAY_BUFFER,null),this.webglContext.isBuffer(this.m_ibo)},p.dispose=function(){this.m_ibo&&(this.webglContext.deleteBuffer(this.m_ibo),this.bufferData=null,this.m_ibo=null)},p.uploadFromByteArray=function(t,e,n,i){},p.uploadFromVector=function(t,e,n){this.bufferData.set(t,e),this.webglContext.bindBuffer(this.webglContext.ELEMENT_ARRAY_BUFFER,this.m_ibo),this.webglContext.bufferSubData(this.webglContext.ELEMENT_ARRAY_BUFFER,e*this.bytesPerElement,this.bufferData),this.webglContext.bindBuffer(this.webglContext.ELEMENT_ARRAY_BUFFER,null)},n}(egret.HashObject);t.IndexBuffer3D=e,egret.registerClass(e,"flash.IndexBuffer3D")}(flash||(flash={}));var flash;!function(t){var e=function(e){function n(){e.call(this),this.webglContext=t.WebGLUtils.webglContext,this.uniformLocations=[],this.uniformLocationFunc=[],this.attribLocations=[]}__extends(n,e);var i=(__define,n);return p=i.prototype,p.dispose=function(){this.m_programID&&(this.webglContext.deleteProgram(this.m_programID),this.m_programID=null)},p.upload=function(t,e){this.m_programID=0;for(var n=t.split("\n"),i=0;i<n.length;i++){var r=n[i];if(-1!=r.indexOf("main()"))break;var a=r.split(" "),s=a[a.length-1];if(s=s.slice(0,s.length-1),-1!=r.indexOf("uniform")){this.uniformLocations.push(this.webglContext.getUniformLocation(this.m_programID,s));var o;-1!=r.indexOf("mat2")?o="uniformMatrix2fv":-1!=r.indexOf("mat3")?o="uniformMatrix3fv":-1!=r.indexOf("mat4")?o="uniformMatrix4fv":-1!=r.indexOf("vec2")?o="uniform2fv":-1!=r.indexOf("vec3")?o="uniform3fv":-1!=r.indexOf("vec4")&&(o="uniform4fv"),this.uniformLocationFunc.push(o)}else-1!=r.indexOf("attribute")&&this.attribLocations.push(this.webglContext.getAttribLocation(this.m_programID,s))}this.vertexProgram=t,this.fragmentProgram=e},n}(egret.HashObject);t.Program3D=e,egret.registerClass(e,"flash.Program3D")}(flash||(flash={}));var flash;!function(t){var e=function(e){function n(){e.call(this),this._x=0,this._y=0,this._visible=!0}__extends(n,e);var i=__define,r=n;return p=r.prototype,p.requestContext3D=function(e,n){void 0===e&&(e=t.Context3DRenderMode.AUTO),void 0===n&&(n=t.Context3DProfile.BASELINE),egret.setTimeout(this.onCreateContext,this,1e3)},p.onCreateContext=function(){this._context3D=new t.Context3D,this.dispatchEventWith(t.Event.CONTEXT3D_CREATE)},i(p,"x",function(){return this._x},function(t){this._x=t}),i(p,"y",function(){return this._y},function(t){this._y=t}),i(p,"visible",function(){return this._visible},function(t){this._visible=t}),i(p,"context3D",function(){return this._context3D}),n}(egret.EventDispatcher);t.Stage3D=e,egret.registerClass(e,"flash.Stage3D")}(flash||(flash={}));var flash;!function(t){var e=function(e){function n(n,i,r){void 0===r&&(r="staticDraw"),e.call(this),this.m_numVertices=0,this.m_data32PerVertex=0,this.bytesPerElement=0,this.m_vbo=null,this.webglContext=t.WebGLUtils.webglContext,this.bufferData=null,this.m_bufferUsage=r,this.m_numVertices=n,this.m_data32PerVertex=i,this.createInternalBufferObject()}__extends(n,e);var i=(__define,n);return p=i.prototype,p.createInternalBufferObject=function(){return this.m_vbo&&this.dispose(),this.bufferData=new Float32Array(this.m_numVertices*this.m_data32PerVertex),this.bytesPerElement=Float32Array.BYTES_PER_ELEMENT,this.m_vbo=this.webglContext.createBuffer(),this.webglContext.bindBuffer(this.webglContext.ARRAY_BUFFER,this.m_vbo),this.webglContext.bufferData(this.webglContext.ARRAY_BUFFER,this.m_numVertices*this.m_data32PerVertex*this.bytesPerElement,t.Context3DBufferUsage[this.m_bufferUsage]),this.webglContext.bindBuffer(this.webglContext.ARRAY_BUFFER,null),this.webglContext.isBuffer(this.m_vbo)},p.dispose=function(){this.m_vbo&&(this.webglContext.deleteBuffer(this.m_vbo),this.m_vbo=null)},p.uploadFromByteArray=function(t,e,n,i){},p.uploadFromVector=function(t,e,n){n>this.m_numVertices,this.bufferData.set(t,0),this.webglContext.bindBuffer(this.webglContext.ARRAY_BUFFER,this.m_vbo),this.webglContext.bufferSubData(this.webglContext.ARRAY_BUFFER,e*this.m_data32PerVertex*this.bytesPerElement,this.bufferData),this.webglContext.bindBuffer(this.webglContext.ARRAY_BUFFER,null)},n}(egret.HashObject);t.VertexBuffer3D=e,egret.registerClass(e,"flash.VertexBuffer3D")}(flash||(flash={}));var flash;!function(t){var e=function(){function e(){}var n=__define,i=e;return p=i.prototype,e.initContext=function(n){for(var i,r={alpha:!1,stencil:!0},a=["experimental-webgl","webgl"],s=0;s<a.length;s++){try{i=n.getContext(a[s],r)}catch(o){}if(i)break}if(!i)throw new t.Error("Current browser does not support webgl");t.WebGLUtils.webglContext=i,e.current||(e.initConfig(),t.Context3DBlendFactor.init(i),t.Context3DBufferUsage.init(i),t.Context3DCompareMode.init(i),t.Context3DStencilAction.init(i),t.Context3DTextureFormat.init(i),t.Context3DTriangleFace.init(i))},e.initConfig=function(){var t,n,i={msie:!1,firefox:!1,opera:!1,safari:!1,chrome:!1,netscape:!1,appname:"unknown",version:0,platform:""},r=navigator.userAgent.toLowerCase(),a=new RegExp("(msie|firefox|opera|chrome|netscape)\\D+(\\d[\\d.]*)"),s=new RegExp("version\\D+(\\d[\\d.]*).*safari");switch(a.test(r)?(t=r.match(a)[1],n=r.match(a)[2],i[t]=!0,i.appname=t,i.version=n):s.test(r)&&(t=r.match(s)[1],n=r.match(s)[1],i.safari=!0,i.appname="safari",i.version=t),i.platform=navigator.platform,i.appname){case"firefox":e.current=e.firefox;break;case"opera":e.current=e.opera;break;case"chrome":e.current=e.chrome;break;case"netscape":e.current=e.netscape;break;case"safari":e.current=e.safari;break;default:e.current=e.msie}},n(e,"drawElementSize",function(){return e.current.drawElementSize}),n(e,"indexType",function(){return e.current.indexType}),e.getNextPowerOfTwo=function(t){if("number"==typeof t&&t>0&&0==(t&t-1))return t;var e=1;for(t-=1e-9;t>e;)e<<=1;return e},e.chrome={drawElementSize:5123,indexType:"Uint16Array"},e.msie={drawElementSize:5125,indexType:"Uint32Array"},e.firefox={drawElementSize:5123,indexType:"Uint16Array"},e.opera={drawElementSize:5123,indexType:"Uint16Array"},e.netscape={drawElementSize:5123,indexType:"Uint16Array"},e.safari={drawElementSize:5123,indexType:"Uint16Array"},e.current=null,e.webglContext=null,e}();t.WebGLUtils=e,egret.registerClass(e,"flash.WebGLUtils")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(){t.call(this),this.m_width=0,this.m_height=0,this.m_internalFormat=0,this.m_width=0,this.m_height=0,this.m_internalFormat=0,this.m_texID=null}__extends(e,t);var n=(__define,e);return p=n.prototype,p.dispose=function(){},e}(egret.EventDispatcher);t.TextureBase=e,egret.registerClass(e,"flash.TextureBase")}(flash||(flash={}));var flash;!function(t){var e=function(e){function n(n,i,r,a,s){e.call(this),this.m_optimizeForRenderToTexture=!1,this.m_streamingLevels=0,this.m_format=0,this.webglContext=t.WebGLUtils.webglContext,this.m_width=t.WebGLUtils.getNextPowerOfTwo(n),this.m_height=t.WebGLUtils.getNextPowerOfTwo(i),this.m_format=t.Context3DTextureFormat[r],this.m_optimizeForRenderToTexture=a,this.m_streamingLevels=s,this.m_internalFormat=this.m_format,this.webglContext.pixelStorei(this.webglContext.UNPACK_ALIGNMENT,1),this.m_texID=this.webglContext.createTexture(),null!=this.m_texID&&(this.webglContext.bindTexture(this.webglContext.TEXTURE_2D,this.m_texID),this.webglContext.texParameteri(this.webglContext.TEXTURE_2D,this.webglContext.TEXTURE_MIN_FILTER,this.webglContext.LINEAR),this.webglContext.texParameteri(this.webglContext.TEXTURE_2D,this.webglContext.TEXTURE_MAG_FILTER,this.webglContext.LINEAR),this.webglContext.texParameteri(this.webglContext.TEXTURE_2D,this.webglContext.TEXTURE_WRAP_S,this.webglContext.CLAMP_TO_EDGE),this.webglContext.texParameteri(this.webglContext.TEXTURE_2D,this.webglContext.TEXTURE_WRAP_T,this.webglContext.CLAMP_TO_EDGE),this.webglContext.texImage2D(this.webglContext.TEXTURE_2D,0,this.m_internalFormat,this.m_width,this.m_height,0,this.m_internalFormat,this.webglContext.UNSIGNED_BYTE,null),this.webglContext.bindTexture(this.webglContext.TEXTURE_2D,null))}__extends(n,e);var i=(__define,n);return p=i.prototype,p.uploadCompressedTextureFromByteArray=function(t,e,n){void 0===n&&(n=!1)},p.uploadFromBitmapData=function(t,e){void 0===e&&(e=0);var n=this.webglContext;this.webglContext.bindTexture(this.webglContext.TEXTURE_2D,this.m_texID),this.webglContext.pixelStorei(this.webglContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.webglContext.texSubImage2D(this.webglContext.TEXTURE_2D,0,0,0,this.webglContext.RGBA,this.webglContext.UNSIGNED_BYTE,t._bitmapData),n.bindTexture(n.TEXTURE_2D,null)},p.uploadFromByteArray=function(t,e,n){void 0===n&&(n=0)},n}(t.TextureBase);t.Texture=e,egret.registerClass(e,"flash.Texture")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n){t.call(this,e,n),this.name="DRMManagerError"}__extends(e,t);var n=__define,i=e;return p=i.prototype,n(p,"subErrorID",function(){return this.$_subErrorID}),p.toString=function(){return"[name :"+this.name+",message :"+this.message+",subErrorID"+this.$_subErrorID+"]"},e}(t.Error);t.DRMManagerError=e,egret.registerClass(e,"flash.DRMManagerError")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n){t.call(this,e,n),this.name="EOFError"}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(t.Error);t.EOFError=e,egret.registerClass(e,"flash.EOFError")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n){t.call(this,e,n),this.name="IOError"}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(t.Error);t.IOError=e,egret.registerClass(e,"flash.IOError")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n){t.call(this,e,n),this.name="IllegalOperationError"}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(t.Error);t.IllegalOperationError=e,egret.registerClass(e,"flash.IllegalOperationError")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n){t.call(this,e,n),this.name="InvalidSWFError"}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(t.Error);t.InvalidSWFError=e,egret.registerClass(e,"flash.InvalidSWFError")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n){t.call(this,e,n),this.name="MemoryError"}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(t.Error);t.MemoryError=e,egret.registerClass(e,"flash.MemoryError")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n){t.call(this,e,n),this.name="ReferenceError"}__extends(e,t);var n=(__define,e);return p=n.prototype,p.toString=function(){return JSON.stringify(this)},e}(t.Error);t.ReferenceError=e,egret.registerClass(e,"flash.ReferenceError")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n){void 0===e&&(e=""),void 0===n&&(n=0),t.call(this,e,n),this.detailID=0,this.details="",this.operation="",this.name="SQLErrorOperation"}__extends(e,t);var n=(__define,e);return p=n.prototype,p.toString=function(){return"[detailID"+this.detailID+",details"+this.details+",operation"+this.operation+",detailID"+this.message+",id"+this.errorId+",name"+this.name+"]"},e}(t.Error);t.SQLError=e,egret.registerClass(e,"flash.SQLError")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.ANALYZE="analyze",t.ATTACH="attach",t.BEGIN="begin",t.CLOSE="close",t.COMMIT="commit",t.COMPACT="compact",t.DEANALYZE="deanalyze",t.DETACH="detach",t.EXECUTE="execute",t.OPEN="open",t.REENCRYPT="reencrypt",t.RELEASE_SAVEPOINT="releaseSavepoint",t.ROLLBACK="rollback",t.ROLLBACK_TO_SAVEPOINT="rollbackToSavepoint",t.SCHEMA="schema",t.SET_SAVEPOINT="setSavepoint",t}();t.SQLErrorOperation=e,egret.registerClass(e,"flash.SQLErrorOperation")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n){void 0===e&&(e=""),void 0===n&&(n=0),t.call(this,e,n),this.name="ScriptTimeoutError"}__extends(e,t);var n=(__define,e);return p=n.prototype,p.toString=function(){return"[message :"+this.message+",errorId:"+this.errorId+" name :"+this.name+"]"},e}(t.Error);t.ScriptTimeoutError=e,egret.registerClass(e,"flash.ScriptTimeoutError")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n){void 0===e&&(e=""),void 0===n&&(n=0),t.call(this,e,n)}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(t.Error);t.StackOverflowError=e,egret.registerClass(e,"flash.StackOverflowError")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n,i){t.call(this,e,n,i)}__extends(e,t);var n=(__define,e);return p=n.prototype,e.CANCEL="cancel",e.FULLSCREEN="fullScreen",e.ID3="id3",e.INIT="init",e.MOUSE_LEAVE="mouseLeave",e.OPEN="open",e.SCROLL="scroll",e.SELECT="select",e.SOUND_COMPLETE="soundComplete",e.TAB_CHILDREN_CHANGE="tabChildrenChange",e.TAB_ENABLED_CHANGE="tabEnabledChange",e.TAB_INDEX_CHANGE="tabIndexChange",e.UNLOAD="unload",e.CONTEXT3D_CREATE="context3dCreate",e}(egret.Event);t.Event=e,egret.registerClass(e,"flash.Event")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n,i,r,a){void 0===r&&(r=null),void 0===a&&(a=null),t.call(this,e,n,i),this.isMouseTargetInaccessible=!1,this.mouseTarget=r,this.contextMenuOwner=a}__extends(e,t);var n=(__define,e);return p=n.prototype,e.MENU_ITEM_SELECT="menuItemSelect",e.MENU_SELECT="menuSelect",e}(t.Event);t.ContextMenuEvent=e,egret.registerClass(e,"flash.ContextMenuEvent")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),t.call(this,e,n,i),this.data=""}__extends(e,t);var n=(__define,e);return p=n.prototype,e.DATA="data",e.UPLOAD_COMPLETE_DATA="uploadCompleteData",e}(t.Event);t.DataEvent=e,egret.registerClass(e,"flash.DataEvent")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),t.call(this,e,n,i)}__extends(e,t);var n=(__define,e);return p=n.prototype,e.ERROR="error",e}(t.Event);t.ErrorEvent=e,egret.registerClass(e,"flash.ErrorEvent")}(flash||(flash={}));var flash;!function(t){function e(t){var e=new egret.TouchEvent("");return e.localX=t.localX,e.localY=t.localY,e.stageX=t.stageX,e.stageY=t.stageY,e.touchDown=t.touchDown,e.touchPointID=t.touchPointID,e}t.cloneMouseEvent=e}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n,i){t.call(this,e,n,i)}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(egret.HTTPStatusEvent);t.HTTPStatusEvent=e,egret.registerClass(e,"flash.HTTPStatusEvent")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n,i,r){t.call(this,e,n,i),this.text="",this.text=r}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(egret.IOErrorEvent);t.IOErrorEvent=e,egret.registerClass(e,"flash.IOErrorEvent")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n,i){t.call(this,e,n,i),this.charCode=0}__extends(e,t);var n=(__define,e);return p=n.prototype,e.KEY_DOWN="keyDown",e.KEY_UP="keyUp",e}(egret.Event);t.KeyboardEvent=e,egret.registerClass(e,"flash.KeyboardEvent")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n,i,r,a,s,o,l,h,u){void 0===n&&(n=!0),void 0===i&&(i=!0),void 0===r&&(r=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===o&&(o=!1),void 0===l&&(l=!1),void 0===h&&(h=!1),void 0===u&&(u=!1),t.call(this,e,n,i,a,s,r),this.touchPointID=r,this.$stageX=a,this.$stageY=s,this.touchDown=u}__extends(e,t);var n=(__define,e);return p=n.prototype,p.updateAfterEvent=function(){},e.DOUBLE_CLICK="doubleClick",e.MOUSE_OVER="mouseOver",e.MOUSE_WHEEL="mouseWheel",e.ROLL_OUT="rollOut",e.ROLL_OVER="rollOver",e}(egret.TouchEvent);t.MouseEvent=e,egret.registerClass(e,"flash.MouseEvent")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n,i){t.call(this,e,n,i)}__extends(e,t);var n=(__define,e);return p=n.prototype,e.SECURITY_ERROR="securityerror",e}(egret.Event);t.SecurityErrorEvent=e,egret.registerClass(e,"flash.SecurityErrorEvent")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(){t.call(this)}__extends(e,t);var n=(__define,e);return p=n.prototype,e.UNCAUGHT_ERROR="uncaughtError",e}(t.EventDispatcher);t.UncaughtErrorEvents=e,egret.registerClass(e,"flash.UncaughtErrorEvents")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.available=function(){return!0},t.call=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];console.log("调用js函数:"+t)},t.addCallback=function(t,e){console.log("设置js回调:"+t)},t}();t.ExternalInterface=e,egret.registerClass(e,"flash.ExternalInterface")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();t.BitmapFilter=e,egret.registerClass(e,"flash.BitmapFilter")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n,i,r,a,s,o,l,h,u,c,f){void 0===e&&(e=4),void 0===n&&(n=45),void 0===i&&(i=16777215),void 0===r&&(r=1),void 0===a&&(a=0),void 0===s&&(s=1),void 0===o&&(o=4),void 0===l&&(l=4),void 0===h&&(h=1),void 0===u&&(u=1),void 0===c&&(c="inner"),void 0===f&&(f=!1),t.call(this)}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(t.BitmapFilter);t.BevelFilter=e,egret.registerClass(e,"flash.BevelFilter")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.LOW=1,t.MEDIUM=2,t.HIGH=3,t}();t.BitmapFilterQuality=e,egret.registerClass(e,"flash.BitmapFilterQuality")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(t,e,n){void 0===t&&(t=4),void 0===e&&(e=4),void 0===n&&(n=1)}var e=(__define,t);return p=e.prototype,p.clone=function(){return null},t}();t.BlurFilter=e,egret.registerClass(e,"flash.BlurFilter")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(t){}var e=(__define,t);return p=e.prototype,p.clone=function(){return null},t}();t.ColorMatrixFilter=e,egret.registerClass(e,"flash.ColorMatrixFilter")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(t,e,n,i,r,a,s,o,l,h,u){void 0===t&&(t=4),void 0===e&&(e=45),void 0===n&&(n=0),void 0===i&&(i=1),void 0===r&&(r=4),void 0===a&&(a=4),void 0===s&&(s=1),void 0===o&&(o=1),void 0===l&&(l=!1),void 0===h&&(h=!1),void 0===u&&(u=!1)}var e=(__define,t);return p=e.prototype,p.clone=function(){return null},t}();t.DropShadowFilter=e,egret.registerClass(e,"flash.DropShadowFilter")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(t,e,n,i,r,a,s,o){void 0===t&&(t=16711680),void 0===e&&(e=1),void 0===n&&(n=6),void 0===i&&(i=6),void 0===r&&(r=2),void 0===a&&(a=1),void 0===s&&(s=!1),void 0===o&&(o=!1)}var e=(__define,t);return p=e.prototype,p.clone=function(){return null},t}();t.GlowFilter=e,egret.registerClass(e,"flash.GlowFilter")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(t,e,n,i,r,a,s,o){void 0===t&&(t=1),void 0===e&&(e=1),void 0===n&&(n=1),void 0===i&&(i=1),void 0===r&&(r=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===o&&(o=0),this.redMultiplier=1,this.greenMultiplier=1,this.blueMultiplier=1,this.alphaMultiplier=1,this.redOffset=0,this.greenOffset=0,this.blueOffset=0,this.alphaOffset=0,this.color=0}var e=(__define,t);return p=e.prototype,p.concat=function(t){},p.toString=function(){return""},t}();t.ColorTransform=e,egret.registerClass(e,"flash.ColorTransform")}(flash||(flash={}));var flash;!function(t){function e(t,e){return t.x==e.x&&t.y==e.y&&t.width==e.width&&t.height==e.height?!0:!1}function n(t){var e=new egret.Matrix;return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.tx=t.tx,e.ty=t.ty,e}function i(t,e){return t.append(e.a,e.b,e.c,e.d,e.tx,e.ty)}function r(t){t.a=t.d=1,t.b=t.c=t.tx=t.ty=0}t.equalsRectangle=e,t.cloneMatrix=n,t.concatMatrix=i,t.identityMatrix=r}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n,i,r,a,s){void 0===e&&(e=1),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===a&&(a=0),void 0===s&&(s=0),t.call(this,e,n,i,r,a,s)}__extends(e,t);var n=(__define,e);return p=n.prototype,p.copyColumnFrom=function(t,e){var n=this;t>>>=0,0===t?(n.a=e.x,n.c=e.y,n.tx=e.z):1===t&&(n.b=e.x,n.d=e.y,n.ty=e.z)},p.copyColumnTo=function(t,e){var n=this;t>>>=0,0===t?(e.x=n.a,e.y=n.b,e.z=0):1===t?(e.x=n.c,e.y=n.d,e.z=0):2===t&&(e.x=n.tx,e.y=n.ty,e.z=1)},p.copyRowFrom=function(t,e){var n=this;t>>>=0,0===t?(n.a=e.x,n.c=e.y,n.tx=e.z):1===t&&(n.b=e.x,n.d=e.y,n.ty=e.z)},p.copyRowTo=function(t,e){var n=this;t>>>=0,0===t?(e.x=n.a,e.y=n.c,e.z=n.tx):1===t?(e.x=n.b,e.y=n.d,e.z=n.ty):2===t&&(e.x=0,e.y=0,e.z=1)},e}(egret.Matrix);t.Matrix=e,egret.registerClass(e,"flash.Matrix")}(flash||(flash={}));var flash;!function(t){var e=function(e){function n(n){if(void 0===n&&(n=null),e.call(this),this.$vec=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.$transposeTransform=[0,4,8,12,1,5,9,13,2,6,10,14,3,7,11,15],null!=n){if(n.length!=this.$vec.length)throw new t.Error("Not equal length!");for(var i=0;i<this.$vec.length;i++)this.$vec[i]=n[i]}}__extends(n,e);var i=__define,r=n;return p=r.prototype,p.append=function(t){var e=t.rawData,n=this.$vec,i=e[0],r=e[4],a=e[8],s=e[12],o=e[1],l=e[5],h=e[9],u=e[13],c=e[2],f=e[6],p=e[10],d=e[14],g=e[3],m=e[7],v=e[11],_=e[15],C=n[0],E=n[4],x=n[8],y=n[12],T=n[1],S=n[5],b=n[9],w=n[13],D=n[2],M=n[6],I=n[10],A=n[14],$=n[3],R=n[7],N=n[11],O=n[15];this.$vec[0]=i*C+r*T+a*D+s*$,this.$vec[1]=o*C+l*T+h*D+u*$,this.$vec[2]=c*C+f*T+p*D+d*$,this.$vec[3]=g*C+m*T+v*D+_*$,this.$vec[4]=i*E+r*S+a*M+s*R,this.$vec[5]=o*E+l*S+h*M+u*R,this.$vec[6]=c*E+f*S+p*M+d*R,this.$vec[7]=g*E+m*S+v*M+_*R,this.$vec[8]=i*x+r*b+a*I+s*N,this.$vec[9]=o*x+l*b+h*I+u*N,this.$vec[10]=c*x+f*b+p*I+d*N,this.$vec[11]=g*x+m*b+v*I+_*N,this.$vec[12]=i*y+r*w+a*A+s*O,this.$vec[13]=o*y+l*w+h*A+u*O,this.$vec[14]=c*y+f*w+p*A+d*O,this.$vec[15]=g*y+m*w+v*A+_*O},p.appendRotation=function(t,e,n){void 0===n&&(n=null),this.append(this.getRotationMatrix(t/180*Math.PI,e.x,e.y,e.z,n?n.x:0,n?n.y:0,n?n.z:0))},p.appendScale=function(t,e,n){this.$vec[0]*=t,this.$vec[1]*=e,this.$vec[2]*=n,this.$vec[4]*=t,this.$vec[5]*=e,this.$vec[6]*=n,this.$vec[8]*=t,this.$vec[9]*=e,this.$vec[10]*=n,this.$vec[12]*=t,this.$vec[13]*=e,this.$vec[14]*=n},p.appendTranslation=function(t,e,n){var i=this.$vec,r=i[3],a=i[7],s=i[11],o=i[15];i[0]+=t*r,i[1]+=e*r,i[2]+=n*r,i[4]+=t*a,i[5]+=e*a,i[6]+=n*a,i[8]+=t*s,i[9]+=e*s,i[10]+=n*s,i[12]+=t*o,i[13]+=e*o,i[14]+=n*o},p.clone=function(){return new n(this.$vec)},p.copyColumnFrom=function(e,n){if(e>3)throw new t.Error("column number too bigger");var i=e<<2;this.$vec[i]=n.x,this.$vec[i+1]=n.y,this.$vec[i+2]=n.z,this.$vec[i+3]=n.w},p.copyColumnTo=function(e,n){if(e>3)throw new t.Error("column number too bigger");var i=e<<2;n.x=this.$vec[i],n.y=this.$vec[i+1],n.z=this.$vec[i+2],n.w=this.$vec[i+3]},p.copyFrom=function(t){for(var e=this.$vec.length,n=0;e>n;n++)this.$vec[n]=t.$vec[n]},p.copyRawDataFrom=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=!1);var i=0,r=0|e;if(n)for(;16>i;i++,r++)this.$vec[this.$transposeTransform[i]]=t[r]||0;else for(;16>i;i++,r++)this.$vec[i]=t[r]||0},p.copyRawDataTo=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=!1);var i=0,r=0|e;if(n)for(;16>i;i++,r++)t[r]=this.$vec[this.$transposeTransform[i]];else for(;16>i;i++,r++)t[r]=this.$vec[i]},p.copyRowFrom=function(e,n){if(e>3)throw new t.Error("row number too bigger");var i=0|e;this.$vec[i]=n.x,this.$vec[i+4]=n.y,this.$vec[i+8]=n.z,this.$vec[i+12]=n.w},p.copyRowTo=function(t,e){var n=0|t;e.x=this.$vec[n],e.y=this.$vec[n+4],e.z=this.$vec[n+8],e.w=this.$vec[n+12]},p.copyToMatrix3D=function(t){for(var e=0;16>e;e++)t.rawData[e]=this.$vec[e]},p.decompose=function(t){void 0===t&&(t="eulerAngles")},p.deltaTransformVector=function(e){var n=e.x,i=e.y,r=e.z;return new t.Vector3D(this.$vec[0]*n+this.$vec[4]*i+this.$vec[8]*r,this.$vec[1]*n+this.$vec[5]*i+this.$vec[9]*r,this.$vec[2]*n+this.$vec[6]*i+this.$vec[10]*r)},p.identity=function(){this.$vec[0]=this.$vec[5]=this.$vec[10]=this.$vec[15]=1,this.$vec[1]=this.$vec[2]=this.$vec[3]=this.$vec[4]=this.$vec[6]=this.$vec[7]=this.$vec[8]=this.$vec[9]=this.$vec[11]=this.$vec[12]=this.$vec[13]=this.$vec[14]=0},p.interpolate=function(t,e,n){},p.interpolateTo=function(t,e){},p.invert=function(){var t=this.$vec,e=t[0],i=t[4],r=t[8],a=t[12],s=t[1],o=t[5],l=t[9],h=t[13],u=t[2],c=t[6],f=t[10],p=t[14],d=t[3],g=t[7],m=t[11],v=t[15],_=u*g-c*d,C=u*m-f*d,E=u*v-p*d,x=c*m-f*g,y=c*v-p*g,T=f*v-p*m,S=+(T*o-y*l+x*h),b=-(T*s-E*l+C*h),w=+(y*s-E*o+_*h),D=-(x*s-C*o+_*l),M=1/(S*e+b*i+w*r+D*a),I=S*M,A=b*M,$=w*M,R=D*M,N=-(T*i-y*r+x*a)*M,O=+(T*e-E*r+C*a)*M,F=-(y*e-E*i+_*a)*M,L=+(x*e-C*i+_*r)*M;_=s*g-o*d,C=s*m-l*d,E=s*v-h*d,x=o*m-l*g,y=o*v-h*g,T=l*v-h*m;var U=+(T*i-y*r+x*a)*M,P=-(T*e-E*r+C*a)*M,B=+(y*e-E*i+_*a)*M,k=-(x*e-C*i+_*r)*M;_=c*s-u*o,C=f*s-u*l,E=p*s-u*h,x=f*o-c*l,y=p*o-c*h,T=p*l-f*h;var G=-(T*i-y*r+x*a)*M,j=+(T*e-E*r+C*a)*M,H=-(y*e-E*i+_*a)*M,Y=+(x*e-C*i+_*r)*M,W=new n([I,N,U,G,A,O,P,j,$,F,B,H,R,L,k,Y]);if(Math.abs(W.determinant)<1e-6)return!1;for(var V=0;V<this.$vec.length;V++)this.$vec[V]=W.rawData[V];return!0},p.pointAt=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null)},p.prepend=function(t){var e=this.$vec,n=t.rawData,i=e[0],r=e[4],a=e[8],s=e[12],o=e[1],l=e[5],h=e[9],u=e[13],c=e[2],f=e[6],p=e[10],d=e[14],g=e[3],m=e[7],v=e[11],_=e[15],C=n[0],E=n[4],x=n[8],y=n[12],T=n[1],S=n[5],b=n[9],w=n[13],D=n[2],M=n[6],I=n[10],A=n[14],$=n[3],R=n[7],N=n[11],O=n[15];this.$vec[0]=i*C+r*T+a*D+s*$,this.$vec[1]=o*C+l*T+h*D+u*$,this.$vec[2]=c*C+f*T+p*D+d*$,this.$vec[3]=g*C+m*T+v*D+_*$,this.$vec[4]=i*E+r*S+a*M+s*R,this.$vec[5]=o*E+l*S+h*M+u*R,this.$vec[6]=c*E+f*S+p*M+d*R,this.$vec[7]=g*E+m*S+v*M+_*R,this.$vec[8]=i*x+r*b+a*I+s*N,this.$vec[9]=o*x+l*b+h*I+u*N,this.$vec[10]=c*x+f*b+p*I+d*N,this.$vec[11]=g*x+m*b+v*I+_*N,this.$vec[12]=i*y+r*w+a*A+s*O,this.$vec[13]=o*y+l*w+h*A+u*O,this.$vec[14]=c*y+f*w+p*A+d*O,this.$vec[15]=g*y+m*w+v*A+_*O},p.prependRotation=function(t,e,n){void 0===n&&(n=null),this.prepend(this.getRotationMatrix(t/180*Math.PI,e.x,e.y,e.z,n?n.x:0,n?n.y:0,n?n.z:0))},p.prependScale=function(t,e,n){this.$vec[0]*=t,this.$vec[1]*=t,this.$vec[2]*=t,this.$vec[3]*=t,this.$vec[4]*=e,this.$vec[5]*=e,this.$vec[6]*=e,this.$vec[7]*=e,this.$vec[8]*=n,this.$vec[9]*=n,this.$vec[10]*=n,this.$vec[11]*=n},p.prependTranslation=function(t,e,n){var i=this.$vec,r=i[0],a=i[4],s=i[8],o=i[1],l=i[5],h=i[9],u=i[2],c=i[6],f=i[10],p=i[3],d=i[7],g=i[11];i[12]+=r*t+a*e+s*n,i[13]+=o*t+l*e+h*n,i[14]+=u*t+c*e+f*n,i[15]+=p*t+d*e+g*n},p.recompose=function(t,e){void 0===e&&(e="eulerAngles")},p.transformVector=function(e){var n=e.x,i=e.y,r=e.z;return new t.Vector3D(this.$vec[0]*n+this.$vec[4]*i+this.$vec[8]*r+this.$vec[12],this.$vec[1]*n+this.$vec[5]*i+this.$vec[9]*r+this.$vec[13],this.$vec[2]*n+this.$vec[6]*i+this.$vec[10]*r+this.$vec[14])},p.transformVectors=function(t,e){for(var n=this.$vec,i=n[0],r=n[4],a=n[8],s=n[12],o=n[1],l=n[5],h=n[9],u=n[13],c=n[2],f=n[6],p=n[10],d=n[14],g=(n[3],n[7],n[11],n[15],0);g<t.length-2;g+=3){var m=t[g],v=t[g+1],_=t[g+2];e[g]=i*m+r*v+a*_+s,e[g+1]=o*m+l*v+h*_+u,e[g+2]=c*m+f*v+p*_+d}},p.transpose=function(){var t=0;t=this.$vec[1],this.$vec[1]=this.$vec[4],this.$vec[4]=t,t=this.$vec[2],this.$vec[2]=this.$vec[8],this.$vec[5]=t,t=this.$vec[3],this.$vec[3]=this.$vec[12],this.$vec[12]=t,t=this.$vec[6],this.$vec[6]=this.$vec[9],this.$vec[9]=t,t=this.$vec[7],this.$vec[7]=this.$vec[13],this.$vec[13]=t,t=this.$vec[11],this.$vec[11]=this.$vec[14],this.$vec[14]=t},i(p,"determinant",function(){var t=this.$vec,e=t[0],n=t[4],i=t[8],r=t[12],a=t[1],s=t[5],o=t[9],l=t[13],h=t[2],u=t[6],c=t[10],f=t[14],p=t[3],d=t[7],g=t[11],m=t[15];return e*(s*(c*m-g*f)-u*(o*m-g*l)+d*(o*f-c*l))-a*(n*(c*m-g*f)-u*(i*m-g*r)+d*(i*f-c*r))+h*(n*(o*m-g*l)-s*(i*m-g*r)+d*(i*l-o*r))-p*(n*(o*f-c*l)-s*(i*f-c*r)+u*(i*l-o*r))}),i(p,"position",function(){return new t.Vector3D(this.$vec[12],this.$vec[13],this.$vec[14])},function(t){this.$vec[12]=t.x,this.$vec[13]=t.y,this.$vec[14]=t.z}),i(p,"rawData",function(){return this.$vec},function(e){if(e.length!=this.$vec.length)throw new t.Error("Data Error");for(var n=0;n<e.length;n++)this.$vec[n]=e[n]}),p.getRotationMatrix=function(t,e,i,r,a,s,o){var l=e*e,h=i*i,u=r*r,c=l+h+u,f=Math.sqrt(c);e/=f,i/=f,r/=f,l/=c,h/=c,u/=c;var p=Math.cos(t),d=Math.sin(t),g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];return g[0]=l+(h+u)*p,g[1]=e*i*(1-p)+r*d,g[2]=e*r*(1-p)-i*d,g[3]=0,g[4]=e*i*(1-p)-r*d,g[5]=h+(l+u)*p,g[6]=i*r*(1-p)+e*d,g[7]=0,g[8]=e*r*(1-p)+i*d,g[9]=i*r*(1-p)-e*d,g[10]=u+(l+h)*p,g[11]=0,g[12]=(a*(h+u)-e*(s*i+o*r))*(1-p)+(s*r-o*i)*d,g[13]=(s*(l+u)-i*(a*e+o*r))*(1-p)+(o*e-a*r)*d,g[14]=(o*(l+h)-r*(a*e+s*i))*(1-p)+(a*i-s*e)*d,new n(g)},n}(egret.HashObject);t.Matrix3D=e,egret.registerClass(e,"flash.Matrix3D")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n,i,r){void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),t.call(this,e,n,i,r)}__extends(e,t);var n=__define,i=e;return p=i.prototype,n(p,"topLeft",function(){return new egret.Point(this.left,this.top)},function(t){this.top=t.y,this.left=t.x}),n(p,"bottomRight",function(){return new egret.Point(this.right,this.bottom)},function(t){this.bottom=t.y,this.right=t.x}),e}(egret.Rectangle);t.Rectangle=e,egret.registerClass(e,"flash.Rectangle")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(t){this.$matrix=new egret.Matrix,this.$owner=t}var e=__define,n=t;return p=n.prototype,e(p,"matrix",function(){return this.$matrix},function(t){this.$owner.matrix=t}),t}();t.Transform=e,egret.registerClass(e,"flash.Transform")
}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e,n,i,r){void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),t.call(this),this.$x=0,this.$y=0,this.$z=0,this.$w=0,this.$x=e,this.$y=n,this.$z=i,this.$w=r}__extends(e,t);var n=__define,i=e;return p=i.prototype,p.add=function(t){return new e(this.$x+t.x,this.$y+t.y,this.$z+t.z)},e.angleBetween=function(t,e){return Math.acos(t.dotProduct(e)/(t.length*e.length))},p.clone=function(){return new e(this.$x,this.$y,this.$z,this.$w)},p.copyFrom=function(t){this.$x=t.x,this.$y=t.y,this.$z=t.z},p.crossProduct=function(t){return new e(this.$y*t.z-this.$z*t.y,this.$z*t.x-this.$x*t.z,this.$x*t.y-this.$y*t.x,1)},p.decrementBy=function(t){this.$x-=t.x,this.$y-=t.y,this.$z-=t.z},e.distance=function(t,e){return t.subtract(e).length},p.dotProduct=function(t){return this.$x*t.x+this.$y*t.y+this.$z*t.z},p.equals=function(t,e){return void 0===e&&(e=!1),this.$x==t.x&&this.$y==t.y&&this.$z==t.z&&(!e||this.$w==t.w)},p.incrementBy=function(t){this.$x+=t.x,this.$y+=t.y,this.$z+=t.z},p.nearEquals=function(t,e,n){return void 0===n&&(n=!1),Math.abs(this.$x-t.x)<e&&Math.abs(this.$y-t.y)<e&&Math.abs(this.$z-t.z)<e&&(!n||Math.abs(this.$w-t.w)<e)},p.negate=function(){this.$x=-this.$x,this.$y=-this.$y,this.$z=-this.$z},p.normalize=function(){var t=this.length;return 0!==t?(this.$x/=t,this.$y/=t,this.$z/=t):this.$x=this.$y=this.$z=0,t},p.project=function(){this.$x/=this.$w,this.$y/=this.$w,this.$z/=this.$w},p.scaleBy=function(t){this.$x*=t,this.$y*=t,this.$z*=t},p.setTo=function(t,e,n){this.$x=t,this.$y=e,this.$z=n},p.subtract=function(t){return new e(this.$x-t.x,this.$y-t.y,this.$z-t.z)},p.toString=function(){return"Vector3D("+this.$x+", "+this.$y+", "+this.$z+")"},n(p,"x",function(){return this.$x},function(t){this.$x=t}),n(p,"y",function(){return this.$y},function(t){this.$y=t}),n(p,"z",function(){return this.$z},function(t){this.$z=t}),n(p,"w",function(){return this.$w},function(t){this.$w=t}),n(p,"length",function(){return Math.sqrt(this.lengthSquared)}),n(p,"lengthSquared",function(){return this.$x*this.$x+this.$y*this.$y+this.$z*this.$z}),e.X_AXIS=new e(1,0,0),e.Y_AXIS=new e(0,1,0),e.Z_AXIS=new e(0,0,1),e}(egret.HashObject);t.Vector3D=e,egret.registerClass(e,"flash.Vector3D")}(flash||(flash={}));var flash;!function(t){var e=function(){function e(e,n,i){void 0===n&&(n="long"),void 0===i&&(i="long"),this._dataStyle="long",this._timeStyle="long",this._pattern="yyyy/M/d",this.masks={"default":"MM dd yyyy HH:MM:ss",shortDate:"M/d/yy",mediumDate:"MMM d, yyyy",longDate:"MMMM d, yyyy",fullDate:"dddd, MMMM d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-MM-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-MM-dd'T'HH:MM:ss'Z'"},this._requestedLocaleIDName=e,this._dataStyle=n,this._timeStyle=i,t.DateTimeStyle.SHORT==n?this._pattern="yyyy/M/d":t.DateTimeStyle.LONG==n&&i==t.DateTimeStyle.LONG&&(this._pattern="yyyy'年'M'月'd'日', EEEE HH:mm:ss")}var n=__define,i=e;return p=i.prototype,n(p,"actualLocaleIDName",function(){return this._actualLocaleIDName}),n(p,"lastOperationStatus",function(){return this._lastOperationStatus}),n(p,"requestedLocaleIDName",function(){return this._requestedLocaleIDName}),p.format=function(e){this._date=e;var n=new RegExp("'[^\"]*'|'[^']*'|\\b(?:d{1,4}|M{1,4}|yy(?:yy)?|([hHmstT])\\1?|[lLZ])\\b","g"),i=this;return this._pattern.replace(n,function(e){switch(e){case"d":return i._date.getDate();case"dd":return i.zeroize(i._date.getDate());case"ddd":return["Sun","Mon","Tue","Wed","Thr","Fri","Sat"][this._date.getDay()];case"dddd":return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][this._date.getDay()];case"M":return i._date.getMonth()+1;case"MM":return i.zeroize(this._date.getMonth()+1);case"MMM":return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][this._date.getMonth()];case"MMMM":return["January","February","March","April","May","June","July","August","September","October","November","December"][this._date.getMonth()];case"yy":return t.String(i._date.getFullYear()).substr(2);case"yyyy":return i._date.getFullYear();case"h":return i._date.getHours()%12||12;case"hh":return i.zeroize(i._date.getHours()%12||12);case"H":return i._date.getHours();case"HH":return i.zeroize(i._date.getHours());case"m":return i._date.getMinutes();case"mm":return i.zeroize(i._date.getMinutes());case"s":return i._date.getSeconds();case"ss":return i.zeroize(i._date.getSeconds());case"l":return i.zeroize(i._date.getMilliseconds(),3);case"L":var n=this._date.getMilliseconds();return n>99&&(n=Math.round(n/10)),this.zeroize(n);case"tt":return i._date.getHours()<12?"am":"pm";case"TT":return i._date.getHours()<12?"AM":"PM";case"Z":return i._date.toUTCString().match(/[A-Z]+$/);default:return e.substr(1,e.length-2)}})},p.formatUTC=function(e){this._date=e;var n=new RegExp("'[^\"]*'|'[^']*'|\\b(?:d{1,4}|M{1,4}|yy(?:yy)?|([hHmstT])\\1?|[lLZ])\\b","g"),i=this;return this._pattern.replace(n,function(e){switch(e){case"d":return i._date.getDate();case"dd":return i.zeroize(i._date.getDate());case"ddd":return["Sun","Mon","Tue","Wed","Thr","Fri","Sat"][this._date.getDay()];case"dddd":return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][this._date.getDay()];case"M":return i._date.getMonth()+1;case"MM":return i.zeroize(this._date.getMonth()+1);case"MMM":return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][this._date.getMonth()];case"MMMM":return["January","February","March","April","May","June","July","August","September","October","November","December"][this._date.getMonth()];case"yy":return t.String(i._date.getFullYear()).substr(2);case"yyyy":return i._date.getFullYear();case"h":return i._date.getHours()%12||12;case"hh":return i.zeroize(i._date.getHours()%12||12);case"H":return i._date.getHours();case"HH":return i.zeroize(i._date.getHours());case"m":return i._date.getMinutes();case"mm":return i.zeroize(i._date.getMinutes());case"s":return i._date.getSeconds();case"ss":return i.zeroize(i._date.getSeconds());case"l":return i.zeroize(i._date.getMilliseconds(),3);case"L":var n=this._date.getMilliseconds();return n>99&&(n=Math.round(n/10)),this.zeroize(n);case"tt":return i._date.getHours()<12?"am":"pm";case"TT":return i._date.getHours()<12?"AM":"PM";case"Z":return i._date.toUTCString().match(/[A-Z]+$/);default:return e.substr(1,e.length-2)}})},p.zeroize=function(e,n){n||(n=2);for(var i=t.String(e),r=0,a="";r<n-i.length;r++)a+="0";return a+e},p.getAvailableLocaleIDNames=function(){for(var e=["af-ZA","am-ET","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LB","ar-LY","ar-MA","ar-OM","ar-QA","ar-SA","ar-SY","ar-TN","ar-YE","arn-CL","as-IN","az-Cyrl-AZ","az-Latn-AZ","ba-RU","be-BY","bg-BG","bn-BD","bn-IN","bo-CN","br-FR","bs-Cyrl-BA","bs-Latn-BA","ca-ES","ca-ES-VALENCIA","chr","chr-Cher","chr-Cher-US","co-FR","cs-CZ","cy-GB","da-DK","de-AT","de-CH","de-DE","de-DE@collation=phonebook","de-LI","de-LU","dsb-DE","dv-MV","el-GR","en-029","en-AU","en-BZ","en-CA","en-GB","en-HK","en-IE","en-IN","en-JM","en-MY","en-NZ","en-PH","en-SG","en-TT","en-US","en-ZA","en-ZW","es-419","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-ES","es-ES@collation=traditional","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-PY","es-SV","es-US","es-UY","es-VE","et-EE","eu-ES","fa-IR","ff","ff-Latn","ff-Latn-SN","fi-FI","fil-PH","fo-FO","fr-BE","fr-CA","fr-CD","fr-CH","fr-CI","fr-CM","fr-FR","fr-HT","fr-LU","fr-MA","fr-MC","fr-ML","fr-RE","fr-SN","fy-NL","ga-IE","gd-GB","gl-ES","gn-PY","gsw-FR","gu-IN","ha-Latn-NG","haw-US","he-IL","hi-IN","hr-BA","hr-HR","hsb-DE","hu-HU","hu-HU@collation=technical","hy-AM","id-ID","ig-NG","ii-CN","is-IS","it-CH","it-IT","iu-Cans-CA","iu-Latn-CA","ja-JP","ja-JP@collation=stroke","jv-Latn-ID","ka-GE","ka-GE@collation=modern","kk-KZ","kl-GL","km-KH","kn-IN","ko-KR","kok-IN","ku-Arab-IQ","ky-KG","lb-LU","lo-LA","lt-LT","lv-LV","mg-MG","mi-NZ","mk-MK","ml-IN","mn-MN","mn-Mong-CN","mn-Mong-MN","moh-CA","mr-IN","ms-BN","ms-MY","mt-MT","my-MM","nb-NO","ne-IN","ne-NP","nl-BE","nl-NL","nn-NO","no","nqo","nqo-GN","nso-ZA","oc-FR","om-ET","or-IN","pa-Arab-PK","pa-IN","pl-PL","prs-AF","ps-AF","pt-AO","pt-BR","pt-PT","qut-GT","quz-BO","quz-EC","quz-PE","rm-CH","ro-MD","ro-RO","ru-RU","rw-RW","sa-IN","sah-RU","sd","sd-Arab-PK","se-FI","se-NO","se-SE","si-LK","sk-SK","sl-SI","sma-NO","sma-SE","smj-NO","smj-SE","smn-FI","sms-FI","sn-Latn-ZW","so-SO","sq-AL","sr-Cyrl-BA","sr-Cyrl-CS","sr-Cyrl-ME","sr-Cyrl-RS","sr-Latn-BA","sr-Latn-CS","sr-Latn-ME","sr-Latn-RS","st-ZA","sv-FI","sv-SE","sw","sw-KE","syr-SY","ta-IN","ta-LK","te-IN","tg-Cyrl-TJ","th-TH","ti-ER","ti-ET","tk-TM","tn-BW","tn-ZA","tr-TR","ts-ZA","tt-RU","tzm-Latn-DZ","tzm-Tfng","tzm-Tfng-MA","ug-CN","uk-UA","ur-IN","ur-PK","uz-Cyrl-UZ","uz-Latn-UZ","vi-VN","wo-SN","x-iv_mathan","xh-ZA","yo-NG","zgh","zgh-Tfng","zgh-Tfng-MA","zh-CN","zh-CN@collation=stroke","zh-HK","zh-HK@collation=stroke","zh-MO","zh-MO@collation=stroke","zh-MO@collation=stroke","zh-SG","zh-SG@collation=stroke","zh-TW","zh-TW@collation=pinyin","zh-TW@collation=stroke","zu-ZA"],n=new t.Vector,i=0;i<e.length;i++)n[i]=e[i];return n},p.getDateStyle=function(){return this._dataStyle},p.getDateTimePattern=function(){return this._pattern},p.getFirstWeekday=function(){return 0},p.getMonthNames=function(e,n){void 0===e&&(e="full"),void 0===n&&(n="standalone");for(var i="full"==e?["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],r=new t.Vector,a=0;a<i.length;a++)r[a]=i[a];return r},p.getTimeStyle=function(){return this._timeStyle},p.getWeekdayNames=function(e,n){void 0===e&&(e="full"),void 0===n&&(n="standalone");var i=new t.Vector;return e==t.DateTimeNameStyle.FULL?(i[0]="星期日",i[1]="星期一",i[2]="星期二",i[3]="星期三",i[4]="星期四",i[5]="星期五",i[6]="星期六"):e==t.DateTimeNameStyle.LONG_ABBREVIATION&&(i[0]="周日",i[1]="周一",i[2]="周二",i[3]="周三",i[4]="周四",i[5]="周五",i[6]="周六"),i},p.setDateTimePattern=function(t){this._pattern=t},p.setDateTimeStyles=function(t,e){this._dataStyle=t,this._timeStyle=e},e}();t.DateTimeFormatter=e,egret.registerClass(e,"flash.DateTimeFormatter")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.FORMAT="format",t.STANDALONE="standalone",t}();t.DateTimeNameContext=e,egret.registerClass(e,"flash.DateTimeNameContext")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.FULL="full",t.LONG_ABBREVIATION="longAbbreviation",t.SHORT_ABBREVIATION="shortAbbreviation",t}();t.DateTimeNameStyle=e,egret.registerClass(e,"flash.DateTimeNameStyle")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.CUSTOM="custom",t.LONG="long",t.MEDIUM="medium",t.NONE="none",t.SHORT="short",t}();t.DateTimeStyle=e,egret.registerClass(e,"flash.DateTimeStyle")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.BUFFER_OVERFLOW_ERROR="bufferOverflowError",t.ERROR_CODE_UNKNOWN="errorCodeUnknown",t.ILLEGAL_ARGUMENT_ERROR="illegalArgumentError",t.INDEX_OUT_OF_BOUNDS_ERROR="indexOutOfBoundsError",t.INVALID_ATTR_VALUE="invalidAttrValue",t.INVALID_CHAR_FOUND="invalidCharFound",t.MEMORY_ALLOCATION_ERROR="memoryAllocationError",t.NO_ERROR="noError",t.NUMBER_OVERFLOW_ERROR="numberOverflowError",t.PARSE_ERROR="parseError",t.PATTERN_SYNTAX_ERROR="patternSyntaxError",t.PLATFORM_API_FAILED="platformAPIFailed",t.TRUNCATED_CHAR_FOUND="truncatedCharFound",t.UNEXPECTED_TOKEN="unexpectedToken",t.UNSUPPORTED_ERROR="unsupportedError",t.USING_DEFAULT_WARNING="usingDefaultWarning",t.USING_FALLBACK_WARNING="usingFallbackWarning",t}();t.LastOperationStatus=e,egret.registerClass(e,"flash.LastOperationStatus")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(t){}var e=(__define,t);return p=e.prototype,t.determinePreferredLocales=function(t,e,n){return void 0===n&&(n="userinterface"),null},p.getKeysAndValues=function(){return null},p.getLanguage=function(){return""},p.getRegion=function(){return""},p.getScript=function(){return""},p.getVariant=function(){return""},p.isRightToLeft=function(){return!1},t.DEFAULT="i-default",t}();t.LocaleID=e,egret.registerClass(e,"flash.LocaleID")}(flash||(flash={}));var flash;!function(t){var e=function(){function e(){this.bindDisplayObject(),this.bindMatrix(),this.bindDisplayObjectContainer(),this.bindSprite(),this.bindStage(),t.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchHandle,this),t.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandle,this)}var n=(__define,e);return p=n.prototype,p.bindEvent=function(){egret.Event.prototype.clone=function(){return new egret.Event(this.type,this.bubbles,this.cancelable)},egret.Event.prototype.toString=function(){return"[Event type="+this.type+" bubbles="+this.bubbles+" cancelable="+this.cancelable+"]"},egret.Event.prototype.formatToString=function(){return JSON.stringify(this)}},p.bindDisplayObject=function(){egret.DisplayObject.prototype.hasOwnProperty("mouseX")||Object.defineProperty(egret.DisplayObject.prototype,"mouseX",{get:function(){return this.globalToLocal(e.stageX,e.stageY).x},enumerable:!0,configurable:!0}),egret.DisplayObject.prototype.hasOwnProperty("root")||Object.defineProperty(egret.DisplayObject.prototype,"root",{get:function(){return this},enumerable:!0,configurable:!0}),egret.DisplayObject.prototype.hasOwnProperty("transform")||Object.defineProperty(egret.DisplayObject.prototype,"transform",{get:function(){var e=new t.Transform(this);return e},set:function(t){this.transform=t},enumerable:!0,configurable:!0}),Object.defineProperty(egret.DisplayObject.prototype.transform,"matrix",{get:function(){return this.matrix},set:function(t){this.matrix=t},enumerable:!0,configurable:!0}),egret.DisplayObject.prototype.hasOwnProperty("mouseY")||Object.defineProperty(egret.DisplayObject.prototype,"mouseY",{get:function(){return this.globalToLocal(e.stageX,e.stageY).y},enumerable:!0,configurable:!0}),egret.DisplayObject.prototype.hasOwnProperty("loaderInfo")||Object.defineProperty(egret.DisplayObject.prototype,"loaderInfo",{get:function(){var e=new t.LoaderInfo;return e.applicationDomain=new t.ApplicationDomain,e},enumerable:!0,configurable:!0})},p.bindSprite=function(){},p.bindStage=function(){egret.Stage.prototype.hasOwnProperty("invalidate")||(egret.Stage.prototype.invalidate=function(){}),egret.Stage.prototype.hasOwnProperty("focus")||(egret.Stage.prototype.invalidate=function(){}),egret.Stage.prototype.hasOwnProperty("quality")||(egret.Stage.prototype.invalidate=function(){}),egret.Stage.prototype.hasOwnProperty("isFocusInaccessible")||(egret.Stage.prototype.isFocusInaccessible=function(){return!1}),egret.Stage.prototype.hasOwnProperty("allowsFullScreen")||Object.defineProperty(egret.Stage.prototype,"allowsFullScreen",{get:function(){return!1},enumerable:!0,configurable:!0})},p.bindDisplayObjectContainer=function(){egret.DisplayObjectContainer.prototype.hasOwnProperty("tabChildren")||Object.defineProperty(egret.DisplayObjectContainer.prototype,"tabChildren",{get:function(){return!1},set:function(t){},enumerable:!0,configurable:!0})},p.bindMatrix=function(){egret.Matrix.prototype.hasOwnProperty("concat")||(egret.Matrix.prototype.concat=function(t){this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty)})},p.bindBitmap=function(){t.Bitmap.prototype.hasOwnProperty("pixelSnapping")||Object.defineProperty(t.Bitmap.prototype,"pixelSnapping",{get:function(){return!1},set:function(t){},enumerable:!0,configurable:!0})},p.touchHandle=function(t){e.stageX=t.stageX,e.stageY=t.stageY},e.stageX=0,e.stageY=0,e}();t.BindManager=e,egret.registerClass(e,"flash.BindManager")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();t.ID3Info=e,egret.registerClass(e,"flash.ID3Info")}(flash||(flash={}));var flash;!function(t){var e=function(e){function n(t,n){void 0===t&&(t=null),void 0===n&&(n=null),e.call(this),this.musicLoad(t)}__extends(n,e);var i=__define,r=n;return p=r.prototype,i(p,"bytesLoaded",function(){return this.$bytesLoaded}),i(p,"bytesTotal",function(){return this.$bytesTotal}),i(p,"id3",function(){return this.$id3}),p.isBuffering=function(){return this.$isBuffering},i(p,"length",function(){return this.$length}),i(p,"url",function(){return this.$url}),p.musicLoad=function(t){if(void 0===t&&(t=null),null!=t){this.$url=t.url;new RES.ResourceItem(this.$url,this.$url,RES.ResourceItem.TYPE_SOUND);RES.getResByUrl(this.$url,this.completeFun,this,RES.ResourceItem.TYPE_SOUND)}},p.id3Fun=function(t){},p.completeFun=function(t,e){this.$sound=t;var n=new egret.Event(egret.Event.COMPLETE,!1,!1);n.data=t,this.dispatchEvent(new egret.Event(egret.Event.COMPLETE))},p.progressFun=function(t){this.$bytesLoaded=t.bytesLoaded,this.$bytesTotal=t.bytesTotal,this.dispatchEvent(t)},p.close=function(){this.$sound.close()},p.load=function(t,e){void 0===e&&(e=null),this.musicLoad(t)},p.play=function(e,n,i){void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=null),null==i&&(i=new t.SoundTransform(.6,0));var r=this.$sound.play(e,n),a=new t.SoundChannel(r);return a.soundTransform=i,null==i?r.volume=1:r.volume=i.volume,a},n}(egret.EventDispatcher);t.Sound=e,egret.registerClass(e,"flash.Sound")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e){t.call(this),this.$sound=e}__extends(e,t);var n=__define,i=e;return p=i.prototype,n(p,"leftPeak",function(){return this.$leftPeak}),n(p,"position",function(){return this.$position}),n(p,"rightPeak",function(){return this.$rightPeak}),n(p,"soundTransform",function(){return this.$soundTransform},function(t){null!=this.$sound&&(this.$sound.volume=t.volume)}),p.scompleteFun=function(t){this.dispatchEvent(t)},p.stop=function(){null!=this.$sound&&this.$sound.stop()},e}(egret.EventDispatcher);t.SoundChannel=e,egret.registerClass(e,"flash.SoundChannel")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(t,e){void 0===t&&(t=1e3),void 0===e&&(e=!1),this.bufferTime=1e3,this.checkPolicyFile=!1,this.bufferTime=t,this.checkPolicyFile=e}var e=(__define,t);return p=e.prototype,t}();t.SoundLoaderContext=e,egret.registerClass(e,"flash.SoundLoaderContext")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(t,e){void 0===t&&(t=1),void 0===e&&(e=0),this.pan=e,this.volume=t}var e=(__define,t);return p=e.prototype,t}();t.SoundTransform=e,egret.registerClass(e,"flash.SoundTransform")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e){t.call(this,e),this.$domain="localhost"}__extends(e,t);var n=__define,i=e;return p=i.prototype,n(p,"client",function(){return this.$client}),n(p,"domain",function(){return this.$domain}),p.allowDomain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e]},p.allowInsecureDomain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e]},p.close=function(){},p.connect=function(t){},p.send=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e]},e}(egret.EventDispatcher);t.LocalConnection=e,egret.registerClass(e,"flash.LocalConnection")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();t.NetConnection=e,egret.registerClass(e,"flash.NetConnection")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(t,e){void 0===e&&(e=null),this.$result=t,this.$status=e}var e=(__define,t);return p=e.prototype,t}();t.Responder=e,egret.registerClass(e,"flash.Responder")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){null==t.shareds&&(t.shareds=new Object),this.$data=new Object}var e=__define,n=t;return p=n.prototype,e(p,"lname",function(){return this.$lname},function(t){this.$lname=t}),e(p,"data",function(){return this.$data}),e(p,"fps",void 0,function(t){this._fps=t}),e(p,"objectEncoding",function(){return this._objectEncoding},function(t){this._objectEncoding=t}),p.close=function(){},p.clear=function(){egret.localStorage.removeItem(this.lname),delete t.shareds[this.lname]},p.connect=function(t,e){},p.flush=function(t){void 0===t&&(t=0);for(var e in this.$data)console.log("myObject."+e+" = "+this.$data[e]);egret.localStorage.setItem(this.lname,JSON.stringify(this.$data)),console.log(JSON.stringify(this.$data)+"完成")},t.getLocal=function(e,n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var r;null==t.shareds&&(t.shareds=new Object),(void 0==t.shareds[e]||null==t.shareds[e])&&(t.shareds[e]=new t),r=t.shareds[e];var a=egret.localStorage.getItem(e);if(null!=a&&void 0!=a){var s=JSON.parse(a);for(var o in s)console.log("obj."+o+" = "+s[o]),r.data[o]=s[o]}return r.lname=e,r},t.getRemote=function(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1)},p.send=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e]},p.setDirty=function(t){},p.setProperty=function(t,e){void 0===e&&(e=null)},t.shareds=null,t}();t.SharedObject=e,egret.registerClass(e,"flash.SharedObject")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e){t.call(this,e),this.bytesLoaded=0,this.bytesTotal=0}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(egret.URLLoader);t.URLLoader=e,egret.registerClass(e,"flash.URLLoader")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e){t.call(this,e)}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(egret.URLRequest);t.URLRequest=e,egret.registerClass(e,"flash.URLRequest")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(e){t.call(this,e),this.dataFormat=egret.URLLoaderDataFormat.BINARY}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(t.URLLoader);t.URLStream=e,egret.registerClass(e,"flash.URLStream")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(t){this.$parentDomain=null,this.domainMemory=null,this.defNames=[],this.resModule="",this.$parentDomain=t}var e=__define,n=t;return p=n.prototype,e(p,"parentDomain",function(){return this.$parentDomain}),p.getDefinition=function(t){var e=SwfUtils.getDefName(this.resModule,t),n=this.hasDefinition(t);if(n){var i=egret.getDefinitionByName(e);return i}return n=egret.hasDefinition(t),n?egret.getDefinitionByName(t):null},p.hasDefinition=function(t){var e=SwfUtils.getDefName(this.resModule,t),n=egret.hasDefinition(e);return n},p.getQualifiedDefinitionNames=function(){return this.defNames},t.MIN_DOMAIN_MEMORY_LENGTH=0,t}();t.ApplicationDomain=e,egret.registerClass(e,"flash.ApplicationDomain")}(flash||(flash={})),flash.ApplicationDomain.currentDomain=new flash.ApplicationDomain,flash.ApplicationDomain.currentDomain.name="SWFGlobalDomain";var flash;!function(t){var e=function(){function t(){}var e=__define,n=t;return p=n.prototype,e(t,"avHardwareDisable",function(){return!1}),e(t,"hasAccessibility",function(){return!1}),e(t,"hasAudio",function(){return!1}),e(t,"hasAudioEncoder",function(){return!1}),e(t,"hasEmbeddedVideo",function(){return!1}),e(t,"hasIME",function(){return!1}),e(t,"hasMP3",function(){return!1}),e(t,"hasPrinting",function(){return!1}),e(t,"hasScreenBroadcast",function(){return!1}),e(t,"hasScreenPlayback",function(){return!1}),e(t,"hasStreamingAudio",function(){return!1}),e(t,"hasStreamingVideo",function(){return!1}),e(t,"hasTLS",function(){return!1}),e(t,"hasVideoEncoder",function(){return!1}),e(t,"isDebugger",function(){return!1}),e(t,"language",function(){return""}),e(t,"localFileReadDisable",function(){return!1}),e(t,"manufacturer",function(){return""}),e(t,"os",function(){return""}),e(t,"pixelAspectRatio",function(){return 1}),e(t,"playerType",function(){return"Desktop"}),e(t,"screenColor",function(){return""}),e(t,"screenDPI",function(){return 0}),e(t,"screenResolutionX",function(){return 0}),e(t,"screenResolutionY",function(){return 1}),e(t,"serverString",function(){return""}),e(t,"version",function(){return""}),t}();t.Capabilities=e,egret.registerClass(e,"flash.Capabilities")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(t,e,n){void 0===t&&(t=!1),void 0===e&&(e=null),void 0===n&&(n=null),this.checkPolicyFile=!1,this.applicationDomain=null,this.securityDomain=null,this.allowLoadBytesCodeExcution=!1,this.imageDecodingPolicy="",this.parameters=null,this.allowCodeImport=!1,this.checkPolicyFile=t,this.applicationDomain=e,this.securityDomain=n}var e=(__define,t);return p=e.prototype,t}();t.LoaderContext=e,egret.registerClass(e,"flash.LoaderContext")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.allowDomain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e]},t.allowInsecureDomain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e]},t.loadPolicyFile=function(t){},t.showSettings=function(t){void 0===t&&(t="default")},t.LOCAL_TRUSTED="localTrusted",t.LOCAL_WITH_FILE="localWithFile",t.LOCAL_WITH_NETWORK="localWithNetwork",t.REMOTE="remote",t}();t.Security=e,egret.registerClass(e,"flash.Security")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();t.SecurityDomain=e,egret.registerClass(e,"flash.SecurityDomain")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();t.System=e,egret.registerClass(e,"flash.System")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.ADVANCED="advanced",t.NORMAL="normal",t}();t.AntiAliasType=e,egret.registerClass(e,"flash.AntiAliasType")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){this.$fontName="",this.$fontStyle=""}var e=__define,n=t;return p=n.prototype,e(p,"fontName",function(){return this.$fontName}),e(p,"fontStyle",function(){return this.$fontStyle}),e(p,"fontType",function(){return this.$fontType}),t.enumerateFonts=function(t){return void 0===t&&(t=!1),[]},p.hasGlyphs=function(t){return!1},t.registerFont=function(t){},t}();t.Font=e,egret.registerClass(e,"flash.Font")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.NONE="none",t.PIXEL="pixel",t.SUBPIXEL="subpixel",t}();t.GridFitType=e,egret.registerClass(e,"flash.GridFitType")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(){t.apply(this,arguments),this.$text=""}__extends(e,t);var n=__define,i=e;return p=i.prototype,n(p,"text",function(){return this.$text}),e}(egret.DisplayObject);t.StaticText=e,egret.registerClass(e,"flash.StaticText")}(flash||(flash={}));var flash;!function(t){var e=function(e){function n(){e.call(this),this.$textFormat=new t.TextFormat}__extends(n,e);var i=__define,r=n;return p=r.prototype,i(p,"alwaysShowSelection",function(){return this.$alwaysShowSelection},function(t){this.$alwaysShowSelection=t}),i(p,"antiAliasType",function(){return this.$antiAliasType},function(t){this.$antiAliasType=t}),i(p,"autoSize",function(){return this.textAlign},function(t){this.textAlign=t}),i(p,"bottomScrollV",function(){return 0}),i(p,"condenseWhite",function(){return this.$condenseWhite},function(t){this.$condenseWhite=t}),i(p,"defaultTextFormat",function(){return null==this.$textFormat&&(this.$textFormat=new t.TextFormat),this.$textFormat},function(t){this.$textFormat=t,this.setTextFormat(t)}),i(p,"embedFonts",function(){return this.$embedFonts},function(t){this.$embedFonts=t}),i(p,"gridFitType",function(){return this.$gridFitType},function(t){this.$gridFitType=t}),i(p,"htmlText",function(){return this.$htmlTxt},function(t){this.$htmlTxt=t;var e=new egret.HtmlTextParser,n=e.parser(t);this.textFlow=n}),i(p,"length",function(){return this.text.length}),i(p,"maxScrollH",function(){return this.$maxScrollH},function(t){this.$maxScrollH=t}),i(p,"mouseWheelEnabled",function(){return this.$mouseWheelEnabled},function(t){this.$mouseWheelEnabled=t}),i(p,"restrict",function(){return this.$restrict},function(t){this.$restrict=t}),i(p,"scrollH",function(){return 0}),i(p,"selectable",function(){return this.$selectable},function(t){this.$selectable=t}),i(p,"sharpness",function(){return this.$sharpness},function(t){this.$sharpness=t}),i(p,"styleSheet",function(){return this.$styleSheet},function(t){this.$styleSheet=t}),i(p,"thickness",function(){return this.$thickness},function(t){this.$thickness=t}),i(p,"useRichTextClipboard",function(){return this.$useRichTextClipboard},function(t){this.$useRichTextClipboard=t}),i(p,"wordWrap",function(){return this.$wordWrap},function(t){this.$wordWrap=t}),p.getCharBoundaries=function(t){return null},p.getCharIndexAtPoint=function(t,e){return 0},p.getFirstCharInParagraph=function(t){return 0},p.getImageReference=function(t){return null},p.getLineIndexAtPoint=function(t,e){return 0},p.getLineIndexOfChar=function(t){return 0},p.getLineLength=function(t){return 0},p.getLineMetrics=function(t){return null},p.getLineOffset=function(t){return 0},p.getLineText=function(t){return null},p.getParagraphLength=function(t){return 0},p.getTextFormat=function(t,e){return void 0===t&&(t=-1),void 0===e&&(e=-1),this.$textFormat},p.replaceSelectedText=function(t){},p.replaceText=function(t,e,n){},p.setSelection=function(t,e){this.$setSelection(t,e)},p.setTextFormat=function(t,e,n){void 0===e&&(e=-1),void 0===n&&(n=-1),this.$textFormat&&this.$textFormat.clearText(this),t.setText(this),this.$textFormat=t,null!=t.font&&(this.fontFamily=t.font),null!=t.size&&(this.size=t.size),null!=t.color&&(this.textColor=t.color),null!=t.bold&&(this.bold=t.bold),null!=t.italic&&(this.italic=t.italic),null!=t.align&&(this.autoSize=t.align),null!=t.leading&&(this.lineSpacing=t.leading)},n}(egret.TextField);t.TextField=e,egret.registerClass(e,"flash.TextField")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.CENTER="center",t.LEFT="left",t.NONE="none",t.RIGHT="right",t}();t.TextFieldAutoSize=e,egret.registerClass(e,"flash.TextFieldAutoSize")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.DYNAMIC="dynamic",t.INPUT="input",t}();t.TextFieldType=e,egret.registerClass(e,"flash.TextFieldType")}(flash||(flash={}));var flash;!function(t){var e=function(){function e(e,n,i,r,a,s,o,l,h,u,c,f,p){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===a&&(a=null),void 0===s&&(s=null),void 0===o&&(o=null),void 0===l&&(l=null),void 0===h&&(h=null),void 0===u&&(u=null),void 0===c&&(c=null),void 0===f&&(f=null),void 0===p&&(p=null),this.$align=t.TextFormatAlign.LEFT,this.$blockIndent=null,this.$bold=null,this.$bullet=null,this.$color=null,this.$font=null,this.$indent=null,this.$italic=null,this.$kerning=null,this.$leading=null,this.$leftMargin=null,this.$letterSpacing=null,this.$rightMargin=null,this.$size=null,this.$tabStops=null,this.$target="",this.$underline=null,this.$url=null,this.$textFields=new Array,this.$font=e,this.$size=n,this.$color=i,this.$bold=r,this.$italic=a,this.$underline=s,this.$url=o,this.$target=l,this.$align=h,this.$leftMargin=u,this.$rightMargin=c,this.$indent=f,this.$leading=p}var n=__define,i=e;return p=i.prototype,n(p,"align",function(){return this.$align},function(t){this.$align=t,this.freash()}),p.freash=function(){for(var t,e=this.$textFields.length,n=0;e>n;n++)t=this.$textFields[n],null!=t?t.setTextFormat(this):(this.$textFields.splice(n,1),e-=1,n-=1)},n(p,"blockIndent",function(){return this.$blockIndent},function(t){this.$blockIndent=t,this.freash()}),n(p,"bold",function(){return this.$bold},function(t){this.$bold=t,this.freash()}),n(p,"bullet",function(){return this.$bullet},function(t){this.$bullet=t,this.freash()}),n(p,"color",function(){return this.$color},function(t){this.$color=t,this.freash()
}),n(p,"font",function(){return this.$font},function(t){this.$font=t,this.freash()}),n(p,"indent",function(){return this.$indent},function(t){this.$indent=t,this.freash()}),n(p,"italic",function(){return this.$italic},function(t){this.$italic=t,this.freash()}),n(p,"kerning",function(){return this.$kerning},function(t){this.$kerning=t,this.freash()}),n(p,"leading",function(){return this.$leading},function(t){this.$leading=t,this.freash()}),n(p,"leftMargin",function(){return this.$leftMargin},function(t){this.$leftMargin=t,this.freash()}),n(p,"letterSpacing",function(){return this.$letterSpacing},function(t){this.$letterSpacing=t,this.freash()}),n(p,"rightMargin",function(){return this.$rightMargin},function(t){this.$rightMargin=t,this.freash()}),n(p,"size",function(){return this.$size},function(t){this.$size=t,this.freash()}),n(p,"tabStops",function(){return this.$tabStops},function(t){this.$tabStops=t,this.freash()}),n(p,"target",function(){return this.$target},function(t){this.$target=t,this.freash()}),n(p,"underline",function(){return this.$underline},function(t){this.$underline=t,this.freash()}),n(p,"url",function(){return this.$url},function(t){this.$url=t,this.freash()}),p.setText=function(t){this.$textFields.push(t)},p.clearText=function(t){var e=this.$textFields.indexOf(t);-1!=e&&this.$textFields.splice(e,1)},e}();t.TextFormat=e,egret.registerClass(e,"flash.TextFormat")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.CENTER="center",t.JUSTIFY="justify",t.LEFT="left",t.RIGHT="right",t}();t.TextFormatAlign=e,egret.registerClass(e,"flash.TextFormatAlign")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(t,e,n,i,r,a){this.ascent=i,this.x=t,this.width=e,this.height=n,this.descent=r,this.leading=a}var e=(__define,t);return p=e.prototype,t}();t.TextLineMetrics=e,egret.registerClass(e,"flash.TextLineMetrics")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();t.TextSnapshot=e,egret.registerClass(e,"flash.TextSnapshot")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,p.addItemAt=function(t,e){return null},p.clone=function(){return null},p.containsItem=function(t){return!1},p.display=function(t,e,n){},p.getItemAt=function(t){return null},p.getItemIndex=function(t){return 0},p.hideBuiltInItems=function(){},p.removeAllItems=function(){},p.removeItemAt=function(t){return null},t}();t.ContextMenu=e,egret.registerClass(e,"flash.ContextMenu")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();t.ContextMenuBuiltInItems=e,egret.registerClass(e,"flash.ContextMenuBuiltInItems")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();t.ContextMenuClipboardItems=e,egret.registerClass(e,"flash.ContextMenuClipboardItems")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.STRING_CLEARLINE="",t.STRING_CLEARDISPLAY="",t.STRING_INSERTLINE="",t.STRING_DELETELINE="",t.STRING_INSERTCHAR="",t.STRING_DELETECHAR="",t.STRING_PREV="",t.STRING_NEXT="",t.STRING_SELECT="",t.STRING_EXECUTE="",t.STRING_UNDO="",t.STRING_REDO="",t.STRING_FIND="",t.STRING_HELP="",t.STRING_MODESWITCH="",t.NUMBER_0=48,t.NUMBER_1=49,t.NUMBER_2=50,t.NUMBER_3=51,t.NUMBER_4=52,t.NUMBER_5=53,t.NUMBER_6=54,t.NUMBER_7=55,t.NUMBER_8=56,t.NUMBER_9=57,t.RED=16777216,t.GREEN=16777217,t.EQUAL=187,t.BLUE=16777219,t.COMMA=188,t.MINUS=189,t.PERIOD=190,t.SLASH=191,t.BACKQUOTE=192,t.LEFTBRACKET=219,t.BACKSLASH=220,t.RIGHTBRACKET=221,t.QUOTE=222,t.ALTERNATE=18,t.BACKSPACE=8,t.CAPS_LOCK=20,t.KEYNAME_DOWNARROW="Down",t.KEYNAME_LEFTARROW="Left",t.KEYNAME_UPARROW="Up",t.KEYNAME_RIGHTARROW="Right",t.COMMAND=15,t.KEYNAME_F1="F1",t.CONTROL=17,t.KEYNAME_F2="F2",t.DELETE=46,t.KEYNAME_F3="F3",t.DOWN=40,t.KEYNAME_F4="F4",t.END=35,t.KEYNAME_F5="F5",t.ENTER=13,t.KEYNAME_F6="F6",t.ESCAPE=27,t.KEYNAME_F7="F7",t.F1=112,t.KEYNAME_F8="F8",t.F2=113,t.KEYNAME_F9="F9",t.F3=114,t.KEYNAME_F10="F10",t.F4=115,t.KEYNAME_F11="F11",t.F5=116,t.KEYNAME_F12="F12",t.F6=117,t.KEYNAME_F13="F13",t.F7=118,t.KEYNAME_F14="F14",t.F8=119,t.KEYNAME_F15="F15",t.F9=120,t.KEYNAME_F16="F16",t.F10=121,t.KEYNAME_F17="F17",t.F11=122,t.KEYNAME_F18="F18",t.F12=123,t.KEYNAME_F19="F19",t.F13=124,t.KEYNAME_F20="F20",t.F14=125,t.KEYNAME_F21="F21",t.F15=126,t.KEYNAME_F22="F22",t.HOME=36,t.KEYNAME_F23="F23",t.INSERT=45,t.KEYNAME_F24="F24",t.LEFT=37,t.KEYNAME_F25="F25",t.NUMPAD=21,t.KEYNAME_F26="F26",t.NUMPAD_0=96,t.KEYNAME_F27="F27",t.NUMPAD_1=97,t.KEYNAME_F28="F28",t.NUMPAD_2=98,t.KEYNAME_F29="F29",t.NUMPAD_3=99,t.NUMPAD_4=100,t.KEYNAME_F31="F31",t.NUMPAD_5=101,t.KEYNAME_F32="F32",t.KEYNAME_F30="F30",t.KEYNAME_F33="F33",t.NUMPAD_7=102,t.KEYNAME_F34="F34",t.NUMPAD_8=103,t.NUMPAD_6=104,t.NUMPAD_9=105,t.KEYNAME_INSERT="Insert",t.NUMPAD_ADD=107,t.KEYNAME_DELETE="Delete",t.KEYNAME_F35="F35",t.KEYNAME_HOME="Home",t.NUMPAD_DIVIDE=111,t.NUMPAD_SUBTRACT=109,t.NUMPAD_ENTER=109,t.KEYNAME_END="End",t.NUMPAD_MULTIPLY=106,t.KEYNAME_PAGEUP="PgUp",t.KEYNAME_BEGIN="Begin",t.KEYNAME_PAGEDOWN="PgDn",t.PAGE_DOWN=34,t.KEYNAME_PRINTSCREEN="PrntScrn",t.PAGE_UP=33,t.KEYNAME_SCROLLLOCK="ScrlLck",t.RIGHT=39,t.KEYNAME_PAUSE="Pause",t.SHIFT=16,t.KEYNAME_SYSREQ="SysReq",t.SPACE=32,t.KEYNAME_BREAK="Break",t.TAB=9,t.KEYNAME_RESET="Reset",t.UP=38,t.KEYNAME_STOP="Stop",t.YELLOW=16777218,t.KEYNAME_MENU="Menu",t.CHANNEL_UP=16777220,t.KEYNAME_USER="User",t.CHANNEL_DOWN=16777221,t.KEYNAME_SYSTEM="Sys",t.RECORD=16777222,t.KEYNAME_PRINT="Print",t.PLAY=16777223,t.KEYNAME_CLEARLINE="ClrLn",t.PAUSE=16777224,t.KEYNAME_CLEARDISPLAY="ClrDsp",t.STOP="Stop",t.KEYNAME_INSERTLINE="InsLn",t.FAST_FORWARD=16777226,t.KEYNAME_DELETELINE="DelLn",t.REWIND=16777227,t.KEYNAME_INSERTCHAR="InsChr",t.SKIP_FORWARD=16777228,t.KEYNAME_DELETECHAR="DelChr",t.SKIP_BACKWARD=16777229,t.KEYNAME_PREV="Prev",t.NEXT="Next",t.KEYNAME_NEXT="Next",t.PREVIOUS=16777231,t.KEYNAME_SELECT="Select",t.LIVE=16777232,t.KEYNAME_EXECUTE="Exec",t.LAST=16777233,t.KEYNAME_UNDO="Undo",t.MENU=16777234,t.KEYNAME_REDO="Redo",t.INFO=16777235,t.KEYNAME_FIND="Find",t.GUIDE=16777236,t.KEYNAME_HELP="Help",t.EXIT=16777237,t.KEYNAME_MODESWITCH="ModeSw",t.AUDIO=16777239,t.STRING_UPARROW="",t.SUBTITLE=16777240,t.STRING_DOWNARROW="",t.DVR=16777241,t.STRING_LEFTARROW="",t.VOD=16777242,t.STRING_RIGHTARROW="",t.INPUT=16777243,t.STRING_F1="",t.SETUP=16777244,t.STRING_F2="",t.HELP=16777245,t.STRING_F3="",t.MASTER_SHELL=16777246,t.STRING_F4="",t.SEARCH=16777247,t.STRING_F5="",t.STRING_F6="",t.NUMPAD_DECIMAL=110,t.STRING_F8="",t.STRING_F9="",t.STRING_F7="",t.STRING_F10="",t.STRING_F11="",t.STRING_F13="",t.STRING_F14="",t.STRING_F12="",t.STRING_F15="",t.B=66,t.STRING_F16="",t.C=67,t.A=65,t.D=68,t.STRING_F18="",t.E=69,t.STRING_F19="",t.STRING_F17="",t.STRING_F20="",t.G=71,t.STRING_F21="",t.H=72,t.F=70,t.I=73,t.STRING_F23="",t.J=74,t.STRING_F24="",t.STRING_F22="",t.STRING_F25="",t.L=76,t.STRING_F26="",t.M=77,t.K=75,t.N=78,t.STRING_F28="",t.O=79,t.STRING_F29="",t.STRING_F27="",t.STRING_F30="",t.Q=81,t.STRING_F31="",t.R=82,t.P=80,t.S=83,t.STRING_F33="",t.T=84,t.STRING_F34="",t.STRING_F32="",t.STRING_F35="",t.V=86,t.STRING_INSERT="",t.W=87,t.U=85,t.X=88,t.STRING_HOME="",t.Y=89,t.STRING_BEGIN="",t.STRING_DELETE="",t.STRING_END="",t.STRING_PAGEUP="",t.BACK=16777238,t.Z=90,t.STRING_PRINTSCREEN="",t.STRING_SCROLLLOCK="",t.STRING_PAGEDOWN="",t.STRING_PAUSE="",t.STRING_SYSREQ="",t.STRING_BREAK="",t.STRING_RESET="",t.STRING_STOP="",t.STRING_MENU="",t.STRING_USER="",t.STRING_SYSTEM="",t.STRING_PRINT="",t}();t.Keyboard=e,egret.registerClass(e,"flash.Keyboard")}(flash||(flash={}));var flash;!function(t){var e=function(){function e(e){this.BUFFER_EXT_SIZE=0,this.EOF_byte=-1,this.EOF_code_point=-1,this._setArrayBuffer(e||new ArrayBuffer(this.BUFFER_EXT_SIZE)),this.endian=t.Endian.BIG_ENDIAN}var n=__define,i=e;return p=i.prototype,p.compress=function(){},p.readObject=function(){},p.readMultiByte=function(t,e){return""},p.uncompress=function(){},p.writeMultiByte=function(t,e){},p.writeObject=function(t){},p._setArrayBuffer=function(t){this.write_position=t.byteLength,this.data=new DataView(t),this._position=0},n(p,"buffer",function(){return this.data.buffer},function(t){this.data=new DataView(t)}),n(p,"dataView",function(){return this.data},function(t){this.data=t,this.write_position=t.byteLength}),n(p,"bufferOffset",function(){return this.data.byteOffset}),n(p,"position",function(){return this._position},function(t){this._position<t&&!this.validate(t-this._position)||(this._position=t,this.write_position=t>this.write_position?t:this.write_position)}),n(p,"length",function(){return this.write_position},function(t){this.write_position=t;var e=new Uint8Array(new ArrayBuffer(t)),n=this.data.buffer.byteLength;n>t&&(this._position=t);var i=Math.min(n,t);e.set(new Uint8Array(this.data.buffer,0,i)),this.buffer=e.buffer,this.$check()}),n(p,"bytesAvailable",function(){return this.data.byteLength-this._position}),p.clear=function(){this._setArrayBuffer(new ArrayBuffer(this.BUFFER_EXT_SIZE))},p.readBoolean=function(){return this.validate(e.SIZE_OF_BOOLEAN)?0!=this.data.getUint8(this.position++):null},p.readByte=function(){return this.validate(e.SIZE_OF_INT8)?this.data.getInt8(this.position++):null},p.readBytes=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=0),0==i)i=this.bytesAvailable;else if(!this.validate(i))return null;t?t.validateBuffer(i):t=new e(new ArrayBuffer(i));for(var r=0;i>r;r++)t.data.setUint8(r+n,this.data.getUint8(this.position++))},p.readDouble=function(){if(!this.validate(e.SIZE_OF_FLOAT64))return null;var n=this.data.getFloat64(this.position,this.endian==t.Endian.LITTLE_ENDIAN);return this.position+=e.SIZE_OF_FLOAT64,n},p.readFloat=function(){if(!this.validate(e.SIZE_OF_FLOAT32))return null;var n=this.data.getFloat32(this.position,this.endian==t.Endian.LITTLE_ENDIAN);return this.position+=e.SIZE_OF_FLOAT32,n},p.readInt=function(){if(!this.validate(e.SIZE_OF_INT32))return null;var n=this.data.getInt32(this.position,this.endian==t.Endian.LITTLE_ENDIAN);return this.position+=e.SIZE_OF_INT32,n},p.readShort=function(){if(!this.validate(e.SIZE_OF_INT16))return null;var n=this.data.getInt16(this.position,this.endian==t.Endian.LITTLE_ENDIAN);return this.position+=e.SIZE_OF_INT16,n},p.readUnsignedByte=function(){return this.validate(e.SIZE_OF_UINT8)?this.data.getUint8(this.position++):null},p.readUnsignedInt=function(){if(!this.validate(e.SIZE_OF_UINT32))return null;var n=this.data.getUint32(this.position,this.endian==t.Endian.LITTLE_ENDIAN);return this.position+=e.SIZE_OF_UINT32,n},p.readUnsignedShort=function(){if(!this.validate(e.SIZE_OF_UINT16))return null;var n=this.data.getUint16(this.position,this.endian==t.Endian.LITTLE_ENDIAN);return this.position+=e.SIZE_OF_UINT16,n},p.readUTF=function(){if(!this.validate(e.SIZE_OF_UINT16))return null;var n=this.data.getUint16(this.position,this.endian==t.Endian.LITTLE_ENDIAN);return this.position+=e.SIZE_OF_UINT16,n>0?this.readUTFBytes(n):""},p.$check=function(){for(var t=0;void 0!=this[e];)null!=this[t]&&delete this[t],t++;this.position=0;for(var e=0;e<this.length;e++)this[e]=this.readUnsignedByte()},p.readUTFBytes=function(t){if(!this.validate(t))return null;var e=new Uint8Array(this.buffer,this.bufferOffset+this.position,t);return this.position+=t,this.decodeUTF8(e)},p.writeBoolean=function(t){this.validateBuffer(e.SIZE_OF_BOOLEAN),this.data.setUint8(this.position++,t?1:0),this.$check()},p.writeByte=function(t){this.validateBuffer(e.SIZE_OF_INT8),this.data.setInt8(this.position++,t),this.$check()},p.writeBytes=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var i;if(!(0>e||0>n)){if(i=0==n?t.length-e:Math.min(t.length-e,n),i>0){this.validateBuffer(i);for(var r=new DataView(t.buffer),a=e;i+e>a;a++)this.data.setUint8(this.position++,r.getUint8(a))}this.$check()}},p.writeDouble=function(n){this.validateBuffer(e.SIZE_OF_FLOAT64),this.data.setFloat64(this.position,n,this.endian==t.Endian.LITTLE_ENDIAN),this.position+=e.SIZE_OF_FLOAT64,this.$check()},p.writeFloat=function(n){this.validateBuffer(e.SIZE_OF_FLOAT32),this.data.setFloat32(this.position,n,this.endian==t.Endian.LITTLE_ENDIAN),this.position+=e.SIZE_OF_FLOAT32,this.$check()},p.writeInt=function(n){this.validateBuffer(e.SIZE_OF_INT32),this.data.setInt32(this.position,n,this.endian==t.Endian.LITTLE_ENDIAN),this.position+=e.SIZE_OF_INT32,this.$check()},p.writeShort=function(n){this.validateBuffer(e.SIZE_OF_INT16),this.data.setInt16(this.position,n,this.endian==t.Endian.LITTLE_ENDIAN),this.position+=e.SIZE_OF_INT16,this.$check()},p.writeUnsignedInt=function(n){this.validateBuffer(e.SIZE_OF_UINT32),this.data.setUint32(this.position,n,this.endian==t.Endian.LITTLE_ENDIAN),this.position+=e.SIZE_OF_UINT32,this.$check()},p.writeUTF=function(n){var i=this.encodeUTF8(n),r=i.length;this.validateBuffer(e.SIZE_OF_UINT16+r),this.data.setUint16(this.position,r,this.endian===t.Endian.LITTLE_ENDIAN),this.position+=e.SIZE_OF_UINT16,this._writeUint8Array(i,!1),this.$check()},p.writeUTFBytes=function(t){this._writeUint8Array(this.encodeUTF8(t)),this.$check()},p.toString=function(){return"[ByteArray] length:"+this.length+", bytesAvailable:"+this.bytesAvailable},p._writeUint8Array=function(t,e){void 0===e&&(e=!0),e&&this.validateBuffer(this.position+t.length);for(var n=0;n<t.length;n++)this.data.setUint8(this.position++,t[n]);this.$check()},p.validate=function(t){return this.data.byteLength>0&&this._position+t<=this.data.byteLength?!0:void egret.$error(1025)},p.validateBuffer=function(t,e){if(void 0===e&&(e=!1),this.write_position=t>this.write_position?t:this.write_position,t+=this._position,this.data.byteLength<t||e){var n=new Uint8Array(new ArrayBuffer(t+this.BUFFER_EXT_SIZE)),i=Math.min(this.data.buffer.byteLength,t+this.BUFFER_EXT_SIZE);n.set(new Uint8Array(this.data.buffer,0,i)),this.buffer=n.buffer}},p.encodeUTF8=function(t){for(var e=0,n=this.stringToCodePoints(t),i=[];n.length>e;){var r=n[e++];if(this.inRange(r,55296,57343))this.encoderError(r);else if(this.inRange(r,0,127))i.push(r);else{var a,s;for(this.inRange(r,128,2047)?(a=1,s=192):this.inRange(r,2048,65535)?(a=2,s=224):this.inRange(r,65536,1114111)&&(a=3,s=240),i.push(this.div(r,Math.pow(64,a))+s);a>0;){var o=this.div(r,Math.pow(64,a-1));i.push(128+o%64),a-=1}}}return new Uint8Array(i)},p.decodeUTF8=function(e){for(var n,i=!1,r=0,a="",s=0,o=0,l=0,h=0;e.length>r;){var u=e[r++];if(u===this.EOF_byte)n=0!==o?this.decoderError(i):this.EOF_code_point;else if(0===o)this.inRange(u,0,127)?n=u:(this.inRange(u,194,223)?(o=1,h=128,s=u-192):this.inRange(u,224,239)?(o=2,h=2048,s=u-224):this.inRange(u,240,244)?(o=3,h=65536,s=u-240):this.decoderError(i),s*=Math.pow(64,o),n=null);else if(this.inRange(u,128,191))if(l+=1,s+=(u-128)*Math.pow(64,o-l),l!==o)n=null;else{var c=s,f=h;s=0,o=0,l=0,h=0,n=this.inRange(c,f,1114111)&&!this.inRange(c,55296,57343)?c:this.decoderError(i,u)}else s=0,o=0,l=0,h=0,r--,n=this.decoderError(i,u);null!==n&&n!==this.EOF_code_point&&(65535>=n?n>0&&(a+=t.String.fromCharCode(n)):(n-=65536,a+=t.String.fromCharCode(55296+(n>>10&1023)),a+=t.String.fromCharCode(56320+(1023&n))))}return a},p.encoderError=function(t){egret.$error(1026,t)},p.decoderError=function(t,e){return t&&egret.$error(1027),e||65533},p.inRange=function(t,e,n){return t>=e&&n>=t},p.div=function(t,e){return Math.floor(t/e)},p.stringToCodePoints=function(t){for(var e=[],n=0,i=t.length;n<t.length;){var r=t.charCodeAt(n);if(this.inRange(r,55296,57343))if(this.inRange(r,56320,57343))e.push(65533);else if(n===i-1)e.push(65533);else{var a=t.charCodeAt(n+1);if(this.inRange(a,56320,57343)){var s=1023&r,o=1023&a;n+=1,e.push(65536+(s<<10)+o)}else e.push(65533)}else e.push(r);n+=1}return e},e.SIZE_OF_BOOLEAN=1,e.SIZE_OF_INT8=1,e.SIZE_OF_INT16=2,e.SIZE_OF_INT32=4,e.SIZE_OF_UINT8=1,e.SIZE_OF_UINT16=2,e.SIZE_OF_UINT32=4,e.SIZE_OF_FLOAT32=4,e.SIZE_OF_FLOAT64=8,e}();t.ByteArray=e,egret.registerClass(e,"flash.ByteArray")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.BIG_ENDIAN="bigEndian",t.LITTLE_ENDIAN="littleEndian",t}();t.Endian=e,egret.registerClass(e,"flash.Endian")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();t.Proxy=e,egret.registerClass(e,"flash.Proxy")}(flash||(flash={}));var flash;!function(t){var e=function(t){function e(){t.call(this),this._parser=null,this._xmlDict=null,this._isSupportDOMParser=null,this._xmlDict={},window.DOMParser?(this._isSupportDOMParser=!0,this._parser=new DOMParser):this._isSupportDOMParser=!1}__extends(e,t);var n=(__define,e);return p=n.prototype,e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},p.parserXML=function(t){for(var e=0;"\n"==t.charAt(e)||"	"==t.charAt(e)||"\r"==t.charAt(e)||" "==t.charAt(e);)e++;0!=e&&(t=t.substring(e,t.length));var n;return this._isSupportDOMParser?n=this._parser.parseFromString(t,"text/xml"):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t)),n},e._instance=null,e}(egret.HashObject);t.SAXParser=e,egret.registerClass(e,"flash.SAXParser")}(flash||(flash={}));var SwfUtils=function(){function t(){}var e=(__define,t);return p=e.prototype,t.getDefName=function(e,n){var i=e+"_"+n;i=encodeURI(i);for(var r=t.illegalNameChars.length,a=0;r>a;a++)i=i.split(t.illegalNameChars[a]).join("_");return i=i.split("%").join("_"),"_swfSymbols_"+i},t.illegalNameChars=[".","-","~","*","(",")","!","'"],t.symbolTemplate="",t.bitmapDataTemplate="",t.buttonTemplate="",t}();egret.registerClass(SwfUtils,"SwfUtils"),SwfUtils.symbolTemplate='var __extends = this.__extends || function (d, b) {\n     for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n     function __() { this.constructor = d; }\n     __.prototype = b.prototype;\n     d.prototype = new __();\n };\n var TemplateClass1 = (function (_super) {\n     __extends(TemplateClass1, _super);\n     function TemplateClass1() {\n         _super.call(this, TemplateClass1.resConfig, TemplateClass1.symbolName);\n     }\n     TemplateClass1.resConfig = null;\n     TemplateClass1.symbolName = "";\n     return TemplateClass1;\n })(egret.SwfMovie);\n TemplateClass1.prototype.__class__ = "TemplateClass1";\n__global.TemplateClass1 = TemplateClass1;\n',SwfUtils.bitmapDataTemplate='var __extends = this.__extends || function (d, b) {\n     for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n     function __() { this.constructor = d; }\n     __.prototype = b.prototype;\n     d.prototype = new __();\n };\n var TemplateClass2 = (function (_super) {\n     __extends(TemplateClass2, _super);\n     function TemplateClass2() {\n         _super.call(this, 0, 0);\n         this.texture = null;\n         if (null == TemplateClass2.resConfig.symbols[TemplateClass2.symbolName]) {\n             console.warn("symbolName is null!");\n             return;\n         }\n         var symbol = (TemplateClass2.resConfig.symbols[TemplateClass2.symbolName]);\n         var def = (TemplateClass2.resConfig.resDefs[symbol.id]);\n         var imgDis = egret.SwfRes.Pool_getByID(TemplateClass2.resConfig.path, TemplateClass2.resConfig, def.id);\n         var bitmap = imgDis;//.getChildAt(0);\n         this.texture = bitmap.texture;\n         this.initWidthTexture(this.texture._bitmapWidth, this.texture._bitmapHeight, true, 0xffffffff, this.texture);\n     }\n     TemplateClass2.resConfig = null;\n     TemplateClass2.symbolName = "";\n     return TemplateClass2;\n })(flash.BitmapData);\n TemplateClass2.prototype.__class__ = "TemplateClass2";\n__global.TemplateClass2 = TemplateClass2;',SwfUtils.buttonTemplate='var __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar ButtonTemplate = (function (_super) {\n    __extends(ButtonTemplate, _super);\n    function ButtonTemplate() {\n        if (null == ButtonTemplate.resConfig.symbols[ButtonTemplate.symbolName]) {\n            console.warn("symbolName is null! " + ButtonTemplate.symbolName);\n            return;\n        }\n        var symbol = (ButtonTemplate.resConfig.symbols[ButtonTemplate.symbolName]);\n        var def = (ButtonTemplate.resConfig.resDefs[symbol.id]);\n        this.conf = ButtonTemplate.resConfig;\n        this.define = def;\n        _super.call(this);\n    }\n    ButtonTemplate.resConfig = null;\n    ButtonTemplate.symbolName = "";\n    return ButtonTemplate;\n})(egret.SwfButton);\nButtonTemplate.prototype.__class__ = "ButtonTemplate";\n__global.ButtonTemplate = ButtonTemplate;\n',SwfUtils.soundTemplate='var SoundTemplate = (function (_super) {\n    __extends(SoundTemplate, _super);\n    function SoundTemplate() {\n        if (null == SoundTemplate.resConfig.symbols[SoundTemplate.symbolName]) {\n            console.warn("symbolName is null! " + SoundTemplate.symbolName);\n            return;\n        }\n        var symbol = (SoundTemplate.resConfig.symbols[SoundTemplate.symbolName]);\n        var def = (SoundTemplate.resConfig.resDefs[symbol.id]);\n        this.conf = SoundTemplate.resConfig;\n        this.define = def;\n        _super.call(this);\n    }\n    var __egretProto__ = SoundTemplate.prototype;\n    SoundTemplate.resConfig = null;\n    SoundTemplate.symbolName = "";\n    return SoundTemplate;\n})(flash.SwfSound);\nSoundTemplate.prototype.__class__ = "SoundTemplate";\n__global.SoundTemplate = SoundTemplate;\n';var flash;!function(t){var e=function(t){function e(e,n){void 0===e&&(e=0),void 0===n&&(n=0),t.call(this,e,n)}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(egret.Timer);t.Timer=e,egret.registerClass(e,"flash.Timer")}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.getTransClassDefName=function(e){if(!t.table){var n=JSON.parse(t.tableStr);t.table={},t.table=n}for(var i=e,r=0;r<this.splitter.length;r++)i=i.split(t.splitter[r]).join("_");return i=t.table[i],null!=i&&(i=i.split("_").join(".")),i},t.tableStr='{"flash_display3D_textures_TextureBase":"flash_TextureBase","flash_display_Stage":"egret_Stage","flash_errors_MemoryError":"flash_MemoryError","flash_display_Shape":"egret_Shape","flash_display3D_Context3DRenderMode":"flash_Context3DRenderMode","Boolean":"boolean","flash_errors_SQLError":"flash_SQLError","flash_ui_ContextMenuItem":"flash_ContextMenuItem","flash_net_URLLoader":"egret_URLLoader","flash_events_MouseEvent":"flash_MouseEvent","flash_text_TextFormatAlign":"flash_TextFormatAlign","flash_text_TextLineMetrics":"flash_TextLineMetrics","flash_text_TextFieldAutoSize":"flash_TextFieldAutoSize","flash_display3D_Context3DVertexBufferFormat":"flash_Context3DVertexBufferFormat","flash_display_DisplayObjectContainer":"egret_DisplayObjectContainer","flash_utils_Timer":"egret_Timer","flash_utils_IDataInput":"flash_IDataInput","flash_net_SharedObject":"flash_SharedObject","flash_errors_StackOverflowError":"flash_StackOverflowError","flash_display_DisplayObject":"egret_DisplayObject","flash_system_IME":"flash_IME","flash_display3D_Context3DProgramType":"flash_Context3DProgramType","flash_display_Bitmap":"flash_Bitmap","flash_system_LoaderContext":"flash_LoaderContext","flash_display_BlendMode":"egret_BlendMode","flash_errors_IllegalOperationError":"flash_IllegalOperationError","flash_desktop_NativeApplication":"flash_NativeApplication","flash_net_Socket":"flash_Socket","flash_display3D_textures_Texture":"flash_Texture","flash_display_InteractiveObject":"egret_DisplayObject","flash_media_SoundLoaderContext":"flash_SoundLoaderContext","flash_errors_IOError":"flash_IOError","flash_desktop_DockIcon":"flash_DockIcon","flash_desktop_NativeProcess":"flash_NativeProcess","String":"string","flash_filters_ColorMatrixFilter":"flash_ColorMatrixFilter","flash_display_PixelSnapping":"flash_PixelSnapping","flash_display3D_Program3D":"flash_Program3D","flash_display_Sprite":"egret_Sprite","flash_display3D_Context3DTextureFormat":"flash_Context3DTextureFormat","flash_text_StaticText":"flash_StaticText","flash_display_StageDisplayState":"flash_StageDisplayState","Array":"Array","flash_system_System":"flash_System","flash_display3D_textures_RectangleTexture":"flash_RectangleTexture","flash_accessibility_Accessibility":"flash_Accessibility","flash_display_LineScaleMode":"flash_LineScaleMode","flash_display_Graphics":"egret_Graphics","flash_events_ErrorEvent":"flash_ErrorEvent","flash_events_HTTPStatusEvent":"flash_HTTPStatusEvent","flash_events_Event":"egret_Event","flash_text_Font":"flash_Font","flash_net_URLLoaderDataFormat":"egret_URLLoaderDataFormat","flash_geom_Rectangle":"egret_Rectangle","ArgumentError":"flash_ArgumentError","flash_filters_BitmapFilterQuality":"flash_BitmapFilterQuality","flash_filters_BlurFilter":"flash_BlurFilter","flash_text_AntiAliasType":"flash_AntiAliasType","flash_display_StageScaleMode":"egret_StageScaleMode","flash_text_TextField":"flash_TextField","flash_events_IEventDispatcher":"flash_IEventDispatcher","flash_net_URLRequestMethod":"egret_URLRequestMethod","org_osflash_signals_IOnceSignal":"signals_IOnceSignal","flash_display_StageOrientation":"flash_StageOrientation","flash_net_URLRequest":"egret_URLRequest","flash_display3D_IndexBuffer3D":"flash_IndexBuffer3D","flash_events_KeyboardEvent":"flash_KeyboardEvent","flash_display3D_Context3DBufferUsage":"flash_Context3DBufferUsage","flash_display3D_Context3DTriangleFace":"flash_Context3DTriangleFace","flash_media_Sound":"flash_Sound","flash_events_ProgressEvent":"egret_ProgressEvent","flash_display_JointStyle":"flash_JointStyle","flash_desktop_InteractiveIcon":"flash_InteractiveIcon","flash_display_SpreadMethod":"flash_SpreadMethod","flash_display_SimpleButton":"egret_SwfButton","flash_display_ColorCorrection":"flash_ColorCorrection","flash_media_ID3Info":"as3_ID3Info","flash_errors_DRMManagerError":"flash_DRMManagerError","flash_text_TextSnapshot":"flash_TextSnapshot","flash_display3D_Context3DMipFilter":"flash_Context3DMipFilter","flash_desktop_SystemTrayIcon":"flash_SystemTrayIcon","flash_utils_ByteArray":"flash_ByteArray","flash_display_CapsStyle":"flash_CapsStyle","flash_net_LocalConnection":"flash_LocalConnection","flash_display_StageAlign":"flash_StageAlign","flash_display_NativeMenuItem":"flash_NativeMenuItem","flash_display_Loader":"flash_Loader","flash_display3D_textures_CubeTexture":"flash_CubeTexture","flash_display3D_Context3DTextureFilter":"flash_Context3DTextureFilter","flash_display3D_Context3D":"flash_Context3D","flash_display_MovieClip":"egret_SwfMovie","flash_accessibility_AccessibilityProperties":"egret_AccessibilityProperties","flash_events_ContextMenuEvent":"flash_ContextMenuEvent","flash_display_Stage3D":"flash_Stage3D","flash_desktop_Icon":"flash_Icon","Math":"Math","Date":"flash_As3Date","flash_display3D_Context3DCompareMode":"flash_Context3DCompareMode","flash_ui_ContextMenuBuiltInItems":"flash_ContextMenuBuiltInItems","flash_errors_InvalidSWFError":"flash_InvalidSWFError","flash_display3D_Context3DStencilAction":"flash_Context3DStencilAction","flash_events_UncaughtErrorEvents":"flash_UncaughtErrorEvents","flash_text_TextFieldType":"egret_TextFieldType","flash_events_SecurityErrorEvent":"flash_SecurityErrorEvent","flash_errors_ScriptTimeoutError":"flash_ScriptTimeoutError","flash_desktop_NativeProcessStartupInfo":"flash_NativeProcessStartupInfo","flash_system_SecurityDomain":"flash_SecurityDomain","flash_geom_Matrix3D":"flash_Matrix3D","flash_external_ExternalInterface":"flash_ExternalInterface","flash_events_IOErrorEvent":"flash_IOErrorEvent","flash_geom_Matrix":"egret_Matrix","flash_display_BitmapData":"flash_BitmapData","flash_ui_ContextMenu":"flash_ContextMenu","flash_events_TextEvent":"egret_TextEvent","flash_events_FocusEvent":"egret_FocusEvent","flash_display3D_Context3DProfile":"flash_Context3DProfile","flash_net_URLRequestHeader":"flash_URLRequestHeader","flash_filters_GlowFilter":"flash_GlowFilter","flash_events_TimerEvent":"egret_TimerEvent","RegExp":"RegExp","flash_display_ColorCorrectionSupport":"flash_ColorCorrectionSupport","flash_display3D_Context3DWrapMode":"flash_Context3DWrapMode","Number":"Number","flash_net_URLVariables":"egret_URLVariables","flash_net_URLStream":"flash_URLStream","flash_system_Capabilities":"flash_Capabilities","flash_geom_Point":"egret_Point","flash_display3D_VertexBuffer3D":"flash_VertexBuffer3D","flash_system_Security":"flash_Security","flash_ui_Keyboard":"flash_Keyboard","flash_text_TextFormat":"flash_TextFormat","flash_display_Scene":"flash_Scene","flash_geom_Transform":"egret_Transform","flash_display_NativeMenu":"flash_NativeMenu","Error":"flash_Error","flash_utils_IDataOutput":"flash_IDataOutput","flash_utils_Endian":"flash_Endian","flash_text_GridFitType":"flash_GridFitType","Object":"Object","flash_display3D_Context3DBlendFactor":"flash_Context3DBlendFactor","flash_display_GradientType":"flash_GradientType","flash_errors_SQLErrorOperation":"flash_SQLErrorOperation","flash_ui_ContextMenuClipboardItems":"flash_ContextMenuClipboardItems","XML":"flash_XML","flash_geom_ColorTransform":"egret_ColorTransform","JSON":"JSON","flash_net_NetConnection":"flash_NetConnection","flash_system_ApplicationDomain":"flash_ApplicationDomain","flash_display3D_Context3DClearMask":"flash_Context3DClearMask","flash_media_SoundTransform":"flash_SoundTransform","flash_display_LoaderInfo":"flash_LoaderInfo","flash_media_SoundChannel":"flash_SoundChannel","flash_display_StageQuality":"flash_StageQuality","flash_errors_EOFError":"flash_EOFError","XMLList":"flash_XMLList","flash_filters_DropShadowFilter":"flash_DropShadowFilter","flash_filters_BitmapFilter":"flash_BitmapFilter","Namespace":"flash_Namespace","flash_events_EventDispatcher":"egret_EventDispatcher"}',t.splitter=[".","::"],t}();t.TransTable=e,egret.registerClass(e,"flash.TransTable")}(flash||(flash={}));var flash;!function(t){function e(t){var e=egret.getQualifiedClassName(t);return"egret.Sprite"==e?"flash.display::Sprite":(e.split(".").length>1&&(e=e.slice(0,e.length-e.split(".")[e.split(".").length-1].length-1)+"::"+e.split(".")[e.split(".").length-1]),e)}function n(t){if(t.hasOwnProperty("prototype")&&t.prototype.hasOwnProperty("__class__"))return t.prototype.__class__;var e=t.toString(),n=e.indexOf("("),i=e.substring(9,n);return Object.defineProperty(t,"__class__",{value:i,enumerable:!1,writable:!0}),i}function i(t){return t.hasOwnProperty("__proto__")?t.__proto__:null}function r(e){var n=egret.getDefinitionByName(e);if(n)return n;var i=t.TransTable.getTransClassDefName(e);if(n=egret.getDefinitionByName(i))return n;var n=t.ApplicationDomain.currentDomain.getDefinition(e);return null!=n?n:null}t.getQualifiedClassName=e,t.getClassName=n,t.getClassSuper=i,t.getDefinitionByName=r}(flash||(flash={}));var flash;!function(t){var e=function(){function e(){}var n=(__define,e);return p=n.prototype,e.parse=function(n){var i=t.SAXParser.getInstance().parserXML(n);if(!i||!i.childNodes)return null;for(var r=i.childNodes.length,a=!1,s=0;r>s;s++){var o=i.childNodes[s];if(1==o.nodeType){a=!0;break}}if(!a)return null;var l=e.parseNode(o);return l},e.parseNode=function(t){if(!t||1!=t.nodeType)return null;var n={};n.localName=t.localName,n.name=t.nodeName,t.namespaceURI&&(n.namespace=t.namespaceURI),t.prefix&&(n.prefix=t.prefix);for(var i=t.attributes,r=i.length,a=0;r>a;a++){var s=i[a],o=s.name;0!=o.indexOf("xmlns:")&&(n["$"+o]=s.value)}var l=t.childNodes;for(r=l.length,a=0;r>a;a++){var h=l[a],u=e.parseNode(h);u&&(n.children||(n.children=[]),u.parent=n,n.children.push(u))}if(!n.children){var c=t.textContent.trim();c&&(n.text=c)}return n},e.findChildren=function(t,n,i){return i?i.length=0:i=[],e.findByPath(t,n,i),i},e.findByPath=function(t,n,i){var r,a,s=n.indexOf(".");
-1==s?(r=n,a=!0):(r=n.substring(0,s),n=n.substring(s+1),a=!1);var o=t.children;if(o)for(var l=o.length,h=0;l>h;h++){var u=o[h];u.localName==r&&(a?i.push(u):e.findByPath(u,n,i))}},e.getAttributes=function(t,e){e?e.length=0:e=[];for(var n in t)"$"==n.charAt(0)&&e.push(n.substring(1));return e},e}();t.XMLUtils=e,egret.registerClass(e,"flash.XMLUtils")}(flash||(flash={}));var AllExportSymbolClass=function(){function t(){}var e=(__define,t);return p=e.prototype,t}();egret.registerClass(AllExportSymbolClass,"AllExportSymbolClass");var egret;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.GetResName=function(e,n,i){void 0===i&&(i=null);var r="";return r=n+"_"+e,r+=t.GetExtendString(i)},t.GetExtendString=function(t){void 0===t&&(t=null);var e="";if(null!=t)if(t instanceof Array)for(var n=t,i=n.length,r=0;i>r;r++){var a=n[r];e+="-"+a}else e+="-"+t;return e},t.poolMaxItemNumber=10,t.RESImage=0,t.RESShape=1,t.RESSprite=2,t.RESText=3,t.RESFont=4,t.RESStage=5,t.RESButton=6,t.RESSound=7,t.ConfigStage="stage",t}();t.Config=e,t.registerClass(e,"egret.Config")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){this.sx=1,this.sy=1,this.r=0,this.tx=0,this.ty=0,this.color=null}var n=(__define,e);return p=n.prototype,p.createFromObject=function(e){if(null!=e){if(e instanceof Array)return void this.fromSlimData(e);for(var n in e)if("m"==n&&null!=e[n]){var i=new t.Matrix;t.S2PUtils.TransFromObject(i,e[n]),this.hasOwnProperty(n)&&(this[n]=i)}else if("color"==n&&null!=e[n]){var r=new t.EColorTransform;t.S2PUtils.TransFromObject(r,e[n]),this.hasOwnProperty(n)&&(this[n]=r)}else this[n]=e[n]}},p.fromSlimData=function(e){e instanceof Array&&(this.tx=e[0],this.ty=e[1],this.r=e[2],this.sx=e[3],this.sy=e[4],this.color=new t.EColorTransform(e[5]))},e}();t.TransformInfo=e,t.registerClass(e,"egret.TransformInfo")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.bitmapId=0,this.createFromObject(e)}__extends(e,t);var n=(__define,e);return p=n.prototype,p.toString=function(){return JSON.stringify(this)},e}(t.TransformInfo);t.FillStyle=e,t.registerClass(e,"egret.FillStyle")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.id=0,this.depth=0,this.instanceName="",this.createFromObject(e)}__extends(e,t);var n=(__define,e);return p=n.prototype,p.createFromObject=function(e){t.prototype.createFromObject.call(this,e),null!=e&&e instanceof Array&&(this.id=e[6],this.depth=e[7],this.instanceName=e[8])},e}(t.TransformInfo);t.PlaceObject=e,t.registerClass(e,"egret.PlaceObject")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(t){void 0===t&&(t=null),this.path="",this.relativeDir="",this.resNamePrefix="",this.picMerge=!1,this.resModule="",this.resDefs={},this.symbols={},this.scalingGrids={},this.createFromObject(t)}var n=(__define,e);return p=n.prototype,p.createFromObject=function(e){if(null!=e)for(var n in e)if("symbols"==n){var i=e[n];if(i instanceof Array)for(var r=0;r<i.length;r++){var a=new t.SymbolClass(i[r]);this.symbols[a.className]=a}else for(var s in i){var o=new t.SymbolClass(i[s]);this.symbols[s]=o}}else if("resDefs"==n){var l={},h=e[n];for(var u in h){var c=h[u];if(c instanceof Array)var f=c[0];else f=c.t;switch(f){case t.Config.RESImage:var p=new t.DefineImage(c);l[u]=p;break;case t.Config.RESShape:var d=new t.DefineShape(c);l[u]=d;break;case t.Config.RESSprite:var g=new t.DefineSprite(c);l[u]=g;break;case t.Config.RESStage:var m=new t.DefineStage(c);l[u]=m;break;case t.Config.RESText:var v=new t.DefineText(c);l[u]=v;break;case t.Config.RESFont:var _=new t.DefineFont(c);l[u]=_;break;case t.Config.RESButton:var C=new t.DefineButton(c);l[u]=C;break;case t.Config.RESSound:var E=new t.DefineSound(c);l[u]=E}}this.resDefs=l}else this[n]=e[n]},p.getScalingGridInfo=function(t){return null==this.scalingGrids?null:this.scalingGrids[t]},e}();t.Resconfig=e,t.registerClass(e,"egret.Resconfig")}(egret||(egret={}));var egret;!function(t){var e=function(e){function n(t,n,i,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null),e.call(this),this.$upState=t,this.$overState=n,this.$downState=i,this.$hitTestState=r,this.enabled=!0,this.$init()}__extends(n,e);var i=__define,r=n;return p=r.prototype,i(p,"enabled",function(){return this.$enabled},function(t){this.touchChildren=t,this.touchEnabled=t,this.$enabled=t}),i(p,"instanceName",function(){return this.$instanceName},function(t){this.name=t,this.$instanceName=t}),p.$init=function(){null!=this.define&&null!=this.conf?this.initWithDefine(this.define):this.initWithDefine(null)},p.initWithDefine=function(t){this.define=t,this.$addHit(),this.$addUp(),this.$addDown(),this.$showState(n.STATE_UP)},p.$addHit=function(){if(null!=this.define){var e=this.$addStateChildrenFromDefine(this.define.hit);this.$hitTestState=e}else this.$hitTestState=this.$addStateFromConstructor(this.$hitTestState);this.$hitTestState.name="hitTestState",this.$hitTestState.touchEnabled=!0,this.$hitTestState.alpha=.01,this.$hitTestState.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.$hitTestState.addEventListener(t.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchReleaseOutside,this),this.$hitTestState.addEventListener(t.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},p.onTouchBegin=function(t){this.$showState(n.STATE_DOWN)},p.onTouchEnd=function(t){this.$showState(n.STATE_UP)},p.onTouchReleaseOutside=function(t){this.$showState(n.STATE_UP)},p.onTouchTap=function(t){this.$showState(n.STATE_UP)},p.$addUp=function(){null!=this.define?this.$upState=this.$addStateChildrenFromDefine(this.define.up):this.$upState=this.$addStateFromConstructor(this.$upState),this.$upState.alpha=1,this.$upState.name="upState"},p.$addDown=function(){null!=this.define?this.$downState=this.$addStateChildrenFromDefine(this.define.down):this.$downState=this.$addStateFromConstructor(this.$downState),this.$downState.alpha=1,this.$downState.name="downState"},p.$addStateFromConstructor=function(e){return null==e&&(e=new t.Sprite),this.addChild(e),e},p.$addStateChildrenFromDefine=function(e){var n=new t.Sprite;if(n.touchChildren=n.touchEnabled=!1,this.addChild(n),null==e||0==e.length)return n;for(var i=0;i<e.length;i++){var r=e[i],a=this.conf.resDefs[r.characterId];if(a)switch(a.t){case t.Config.RESImage:this.$addImage(a,n,r);break;case t.Config.RESShape:this.$addShape(a,n,r);break;case t.Config.RESSprite:this.$addSprite(a,n,r)}}return n},p.$showState=function(t){this.$upState.visible=!1,this.$downState.visible=!1,this.$hitTestState.visible=!0,this.$hitTestState.alpha=.01,n.STATE_UP==t?(this.$upState.visible=!0,this.$upState.alpha=1):n.STATE_DOWN==t?(this.$downState.visible=!0,this.$downState.alpha=1):(this.$upState.visible=!0,this.$upState.alpha=1)},p.$addImage=function(e,n,i){var r=t.SwfRes.Pool_getByID(this.conf.path,this.conf,e.id);n.addChild(r),t.S2PUtils.SetMatrixAndColorTransform(r,i)},p.$addShape=function(e,n,i){var r=new t.Sprite;if(n.addChild(r),t.S2PUtils.SetTransform(r,i),e.isexportpng){var a=t.SwfRes.Pool_getByID(this.conf.path,this.conf,e.id);r.addChild(a),a.x=e.x,a.y=e.y}if(e.hasOwnProperty(t.DefineShape.Dynamic_Fillstyles))for(var s=e[t.DefineShape.Dynamic_Fillstyles],o=s.length,l=0;o>l;l++){var h=s[l];this.$addImage(this.conf.resDefs[h.bitmapId],r,h)}},p.$addSprite=function(e,n,i){var r=null;r=new t.SwfMovie(this.conf,"",e.id),n.addChild(r),t.S2PUtils.SetTransform(r,i)},n.STATE_UP="up",n.STATE_DOWN="down",n}(t.Sprite);t.SwfButton=e,t.registerClass(e,"egret.SwfButton")}(egret||(egret={}));var egret;!function(t){var e=function(e){function n(t,n){void 0===n&&(n=""),e.call(this),this.$instanceName="",this.conf=null,this.symbolName="",this.conf=t,this.symbolName=n,this.$init()}__extends(n,e);var i=__define,r=n;return p=r.prototype,i(p,"instanceName",function(){return this.$instanceName},function(t){this.name=t,this.$instanceName=t}),p.$init=function(){if(null==this.conf.symbols[this.symbolName])return void console.warn("symbolName is null!");var e=this.conf.symbols[this.symbolName],n=this.conf.resDefs[e.id],i=t.SwfRes.Pool_getByID(this.conf.path,this.conf,n.id);this.addChild(i)},n}(t.DisplayObjectContainer);t.SwfImage=e,t.registerClass(e,"egret.SwfImage")}(egret||(egret={}));var egret;!function(t){var e=function(e){function n(){e.call(this),this.conf=null,this.symbolName="",this.extendinfo=null,this.$instanceName=""}__extends(n,e);var i=__define,r=n;return p=r.prototype,i(p,"instanceName",function(){return this.$instanceName},function(t){this.name=t,this.$instanceName=t}),i(p,"scale9Grid",function(){return this.$scale9Grid},function(t){this.$scale9Grid=t,null!=t&&this.$setChildBitmapScale9Grid(this,this.$scale9Grid)}),p.$setChildBitmapScale9Grid=function(e,n){if(e instanceof flash.Bitmap){var i=e;return i.scale9Grid=n,i.cacheAsBitmap=!0,!0}if(e instanceof t.DisplayObjectContainer)for(var r=e,a=0;a<r.numChildren;a++){var s=this.$setChildBitmapScale9Grid(r.getChildAt(a),n);if(s)return!0}return!1},n}(t.Sprite);t.SwfSprite=e,t.registerClass(e,"egret.SwfSprite")}(egret||(egret={}));var egret;!function(t){var e=function(e){function n(t,n,i){void 0===t&&(t=null),void 0===n&&(n=""),void 0===i&&(i=-1),e.call(this),this.$frameRate=24,this.$frameIntervalTime=1e3/24,this.$passedTime=0,this.$totalFrames=1,this.$currentFrame=1,this.$isPlaying=!1,this.$isStopped=!0,this.$isAddedToStage=!1,this.$defId=-1,this.__scale9BG_hasChecked=!1,this.__scale9BG_tag=!1,this.$nextEnablePlayTime=0,this.$curFrameObjs={},this.init(t,n,i)}__extends(n,e);var i=__define,r=n;return p=r.prototype,i(p,"frameRate",function(){return this.$frameRate},function(t){t=Math.floor(t),1>t&&(t=1),t>60&&(t=60),t!=this.$frameRate&&(this.$frameRate=t,this.$frameIntervalTime=1e3/this.$frameRate)}),i(p,"totalFrames",function(){return this.$totalFrames}),i(p,"currentFrame",function(){return this.$currentFrame}),i(p,"isPlaying",function(){return this.$isPlaying}),p.gotoAndPlay=function(t){this.$isPlaying=!0,null!=this.conf&&(this.$currentFrame=t,this.$playFrame(),this.$totalFrames>1&&this.$isAddedToStage&&this.setIsStopped(!1))},p.gotoAndStop=function(t){this.$isPlaying=!1,null!=this.conf&&(this.$currentFrame=t,this.$playFrame(),this.setIsStopped(!0))},p.prevFrame=function(){this.$isPlaying=!1,null!=this.conf&&(this.$currentFrame-=1,this.$currentFrame=this.$currentFrame<1?this.$currentFrame:1,this.$playFrame(),this.setIsStopped(!0))},p.nextFrame=function(){this.$isPlaying=!1,null!=this.conf&&(this.$currentFrame+=1,this.$currentFrame=this.$currentFrame>this.$totalFrames?1:this.$currentFrame,this.$playFrame(),this.setIsStopped(!0))},p.play=function(){this.$isPlaying=!0,this.$playFrame(),this.$totalFrames>1&&this.$isAddedToStage&&this.setIsStopped(!1)},p.stop=function(){this.$isPlaying=!1,this.setIsStopped(!0)},p.$onAddToStage=function(t,n){e.prototype.$onAddToStage.call(this,t,n),this.$isAddedToStage=!0,this.frameRate=this.stage.frameRate,this.$isPlaying&&this.$totalFrames>1&&this.setIsStopped(!1)},p.$onRemoveFromStage=function(){e.prototype.$onRemoveFromStage.call(this),this.$isAddedToStage=!1,this.setIsStopped(!0)},p.setIsStopped=function(e){this.$isStopped!=e&&(this.$isStopped=e,e?t.Ticker.getInstance().unregister(this.$advanceTime,this):t.Ticker.getInstance().register(this.$advanceTime,this))},i(p,"defId",function(){return this.$defId},function(t){this.$defId=t}),p.init=function(t,e,n){if(void 0===t&&(t=null),void 0===e&&(e=""),void 0===n&&(n=-1),this.$setConf(t,e),-1!=n&&(this.$defId=n),-1!=this.$defId){var i=this.conf.resDefs[this.$defId];this.$totalFrames=i.f,this.frameRate=24,this.$currentFrame=1,this.play()}},p.$setConf=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=""),null!=t?(this.conf=t,""!=e&&(this.symbolName=e)):null!=this.resConfig&&(this.conf=this.resConfig,""!=this.symbolName&&(this.symbolName=this.symbolName)),this.conf)if(""!=this.symbolName&&null!=this.conf.symbols[this.symbolName]){var n=this.conf.symbols[this.symbolName];this.defId=n.id}else this.defId=0},p.setBackGroundScale9Bitmap=function(){var t,e=this;if(!this.__scale9BG_hasChecked){for(;e&&e.numChildren&&1==e.numChildren&&(t=e.getChildAt(0),!(t instanceof flash.Bitmap));)e=t;if(this.__scale9BG_hasChecked=!0,t instanceof flash.Bitmap&&t.scale9Grid&&(this.__scale9BG_tag=!0),this.__scale9BG_tag&&(1!=this.scaleX||1!=this.scaleY)){var n=1,i=1;for(e=this;e&&e.numChildren&&1==e.numChildren;){if(t=e.getChildAt(0),t instanceof flash.Bitmap){t.scaleX=n,t.scaleY=i;break}n*=e.scaleX,i*=e.scaleY,e.scaleX=1,e.scaleY=1,e=t}}}},p.$advanceTime=function(t){if(void 0===t&&(t=0),this.$passedTime+=t,this.$passedTime>this.$nextEnablePlayTime)for(this.$toPlayNextFrame();this.$passedTime>this.$nextEnablePlayTime;)this.$nextEnablePlayTime+=this.$frameIntervalTime},p.$onEnterFrame=function(t){void 0===t&&(t=null),this.$toPlayNextFrame()},p.$toPlayNextFrame=function(){var t=this.$currentFrame+1;t=t>this.$totalFrames?1:t,t!=this.$currentFrame&&(this.$currentFrame=t,this.$playFrame())},p.$playFrame=function(){this.$createFrame(this.$currentFrame)},p.$createFrame=function(t){void 0===t&&(t=0);var e=this.$getFrameData(this.$currentFrame,this.defId);this.$recycleRemovedObjs(e),this.$placeObjects(e,this,t)},p.$recycleRemovedObjs=function(t){for(var e={},n=t.length,i=0;n>i;i++){var r=t[i];e[r.depth]=r.id}for(var a in this.$curFrameObjs)e[a]==this.$curFrameObjs[a].__def_id||(this.$recycleInnerObj(this.$curFrameObjs[a]),delete this.$curFrameObjs[a])},p.$recycleInnerObj=function(e){if(null!=e){if(e.parent&&this.$removeChildRef(e,e.parent),e.parent&&e.parent.removeChild(e),"egret.SwfSprite"==e.__type_name)var n=t.SwfRes.Pool_recycle(t.SwfRes.PoolName_Common,null,e,"egret.SwfSprite");else if("egret.Sprite"==e.__type_name)var n=t.SwfRes.Pool_recycle(t.SwfRes.PoolName_Common,null,e,"egret.Sprite");else if(e instanceof flash.Bitmap){var n=t.SwfRes.Pool_recycle(this.conf.path,this.conf,e,e.defId,e.extendinfo);if(n)return}else if(e instanceof t.SwfMovie){var n=t.SwfRes.Pool_recycle(this.conf.path,this.conf,e,e.defId);if(n)return}else if(e instanceof t.SwfButton){var n=t.SwfRes.Pool_recycle(this.conf.path,this.conf,e,e.defId);if(n)return}else if(e instanceof t.SwfText){var n=t.SwfRes.Pool_recycle(this.conf.path,this.conf,e,e.defId);if(n)return}if(e.numChildren&&e.numChildren>0){var i=e.removeChildAt(0);this.$recycleInnerObj(i)}}},p.$getFrameData=function(t,e){void 0===e&&(e=0);var n,i=this.conf.resDefs[e];return n=i.fd[t-1]},p.$addImage=function(e,n,i){var r=null;null!=this.$curFrameObjs[i.depth]?r=this.$curFrameObjs[i.depth]:(r=t.SwfRes.Pool_getByID(this.conf.path,this.conf,e.id),this.$curFrameObjs[i.depth]=r),n.addChild(r),t.S2PUtils.SetTransform(r,i)},p.$addShape=function(e,n,i){var r;if(null!=this.$curFrameObjs[i.depth])r=this.$curFrameObjs[i.depth];else if(r=t.SwfRes.Pool_getByID(t.SwfRes.PoolName_Common,null,"egret.Sprite"),this.$curFrameObjs[i.depth]=r,e.isexportpng){var a=t.SwfRes.Pool_getByID(this.conf.path,this.conf,e.id);r.addChild(a),a.x=e.x,a.y=e.y}n.addChild(r),t.S2PUtils.SetTransform(r,i)},p.$addSprite=function(e,n,i){var r=null;null!=this.$curFrameObjs[i.depth]?r=this.$curFrameObjs[i.depth]:(r=t.SwfRes.Pool_getByID(this.conf.path,this.conf,e.id),this.$curFrameObjs[i.depth]=r),n.addChild(r),t.S2PUtils.SetTransform(r,i),r instanceof t.SwfMovie&&r.setBackGroundScale9Bitmap(),this.$saveChildRef(r,n,i)},p.$addText=function(e,n,i){var r=null;null!=this.$curFrameObjs[i.depth]?r=this.$curFrameObjs[i.depth]:(r=t.SwfRes.Pool_getByID(this.conf.path,this.conf,e.id),this.$curFrameObjs[i.depth]=r),n.addChild(r),t.S2PUtils.SetTransform(r,i),this.$saveChildRef(r,n,i)},p.$addButton=function(e,n,i){var r=null;null!=this.$curFrameObjs[i.depth]?r=this.$curFrameObjs[i.depth]:(r=t.SwfRes.Pool_getByID(this.conf.path,this.conf,e.id),this.$curFrameObjs[i.depth]=r),n.addChild(r),t.S2PUtils.SetTransform(r,i),this.$saveChildRef(r,n,i)},p.$saveChildRef=function(t,e,n){null!=n.instanceName&&""!=n.instanceName&&(t.instanceName=n.instanceName,e[n.instanceName]=t)},p.$removeChildRef=function(t,e){null!=t.instanceName&&e[t.instanceName]&&delete e[t.instanceName]},p.$addDisplayObject=function(e,n,i){void 0===i&&(i=1);var r=this.conf.resDefs[e.id];if(null==r)return void console.warn("defbase is null.",e);switch(r.t){case t.Config.RESImage:this.$addImage(r,n,e);break;case t.Config.RESShape:this.$addShape(r,n,e);break;case t.Config.RESSprite:this.$addSprite(r,n,e);break;case t.Config.RESText:this.$addText(r,n,e);break;case t.Config.RESButton:this.$addButton(r,n,e)}},n.sortOnDepth=function(t,e){return t.depth>e.depth?1:t.depth<e.depth?-1:0},p.$placeObjects=function(e,i,r){void 0===i&&(i=null),void 0===r&&(r=1),null==i&&(i=t.SwfRes.Pool_getByID(t.SwfRes.PoolName_Common,null,"egret.SwfSprite")),e.sort(n.sortOnDepth);for(var a=e.length,s=0;a>s;s++){var o=e[s];this.$addDisplayObject(o,i,r)}return i},p.clear=function(){this.gotoAndStop(1)},p.reset=function(){this.play()},n}(t.SwfSprite);t.SwfMovie=e,t.registerClass(e,"egret.SwfMovie")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){}var n=(__define,e);return p=n.prototype,p.instance=function(){return null==e.$instance&&(e.$instance=new e),e.$instance},e.hasPool=function(t){return null!=e.resPools[t]},e.getPool=function(t){return e.resPools[t]},e.Pool_recycle=function(n,i,r,a,s){if(void 0===a&&(a=null),void 0===s&&(s=null),0==a)return!1;var o=null;return o=e.hasPool(n)?e.getPool(n):new t.SwfResPool(n,i),e.resPools[n]=o,o.Pool_recycle(r,a,s),!0},e.Pool_getByID=function(n,i,r,a){void 0===i&&(i=null),void 0===r&&(r=null),void 0===a&&(a=null);var s=null;return s=e.hasPool(n)?e.getPool(n):new t.SwfResPool(n,i),e.resPools[n]=s,s.Pool_getByID(r,a)},e.resPools={},e.PoolName_Common="common",e}();t.SwfRes=e,t.registerClass(e,"egret.SwfRes")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(t,e){void 0===e&&(e=null),this.$resconf=null,this.$poolname="",this.$loadedResPool={},this.$poolname=t,this.$resconf=e}var n=(__define,e);return p=n.prototype,p.Pool_recycle=function(e,n,i){void 0===i&&(i=null);var r=n+t.Config.GetExtendString(i),a=null;if(a=null!=this.$loadedResPool[r]?this.$loadedResPool[r]:[],-1==a.indexOf(e)&&(a.push(e),e.clear&&e.clear(),null!=e.__type_name))switch(e.__type_name){case"egret.Sprite":case"egret.SwfSprite":e.x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.rotation=0,e.alpha=1}null!=e.instanceName&&(e.instanceName=""),this.$loadedResPool[r]=a},p.Pool_getByID=function(e,n){void 0===n&&(n=null);var i=null,r=e+t.Config.GetExtendString(n);if(null!=this.$loadedResPool[r]){var a=this.$loadedResPool[r];if(a.length>0)return i=a.pop(),i.reset&&i.reset(),i}if(this.$resconf){var s=this.$resconf.resDefs[e];switch(s.t){case t.Config.RESImage:var o=s,l=t.Config.GetResName(o.id,t.Config.RESImage,n),h=this.$resconf.resNamePrefix+l;i=this.$createBitmap(h,s.id);break;case t.Config.RESShape:var u=s,c=t.Config.GetResName(u.id,t.Config.RESShape,n);h=this.$resconf.resNamePrefix+c,i=this.$createBitmap(h,s.id);break;case t.Config.RESFont:var f=s,p=t.Config.GetResName(f.id,t.Config.RESFont,n);h=this.$resconf.resNamePrefix+p,i=this.$createBitmap(h,s.id);break;case t.Config.RESButton:i=new t.SwfButton,i.conf=this.$resconf,i.initWithDefine(s);break;case t.Config.RESText:i=new t.SwfText(this.$resconf,s);break;case t.Config.RESSprite:i=new t.SwfMovie(this.$resconf,"",s.id)}null!=i&&(i.__pool_key=r,i.defId=s.id,i.__def_id=s.id,i.extendinfo=n)}else{switch(e){case"egret.Sprite":i=new t.Sprite,i.__type_name="egret.Sprite";break;case"egret.SwfSprite":i=new t.SwfSprite,i.__type_name="egret.SwfSprite"}null!=i&&(i.__pool_key=r)}return i},p.$createBitmap=function(e,n){var i=new flash.Bitmap;i.texture=RES.getRes(e),i.cacheAsBitmap=!0;var r=this.$resconf.getScalingGridInfo(n);return null!=r&&(i.scale9Grid=new t.Rectangle(r[0],r[1],r[2],r[3])),i},e}();t.SwfResPool=e,t.registerClass(e,"egret.SwfResPool")}(egret||(egret={}));var flash;!function(t){var e=function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null),t.call(this,e,n),this.$init()}__extends(e,t);var n=(__define,e);return p=n.prototype,p.$init=function(){null!=this.conf&&null!=this.define&&this.initWithDefine(this.define)},p.initWithDefine=function(t){this.define=t;var e=egret.Config.GetResName(this.define.id,egret.Config.RESSound);e=this.conf.resNamePrefix+e;var n=RES.getRes(e);n.type=egret.Sound.EFFECT,this._sound=n},e}(t.Sound);t.SwfSound=e,egret.registerClass(e,"flash.SwfSound")}(flash||(flash={}));var egret;!function(t){var e=function(e){function n(n,i){e.call(this),this.$instanceName="",this.resConf=null,this.$flashText=new t.TextField,this.resConf=n,i.wasstatic&&""==i.text&&null!=i.glyphText?this.$createBitmapText(i):this.$createStdText(i)}__extends(n,e);var i=__define,r=n;return p=r.prototype,i(p,"instanceName",function(){return this.$instanceName},function(t){this.name=t,this.$instanceName=t}),i(p,"text",function(){return null!=this.$flashText?this.$flashText.text:""},function(t){null!=this.$flashText&&(this.$flashText.text=t)}),i(p,"defaultTextFormat",function(){return null==this.$textFormat&&(this.$textFormat=new flash.TextFormat),this.$textFormat},function(t){this.$textFormat=t,console.log("待实现~~~")}),p.$createStdText=function(e){this.$flashText=new t.TextField,this.addChild(this.$flashText),e.readOnly?this.$flashText.type=t.TextFieldType.DYNAMIC:this.$flashText.type=t.TextFieldType.INPUT,this.$flashText.text=e.text,this.$flashText.x+=e.x,this.$flashText.y+=e.y,this.$flashText.height=e.h,this.$flashText.width=e.w,this.$flashText.multiline=e.multiline,this.$flashText.maxChars=e.maxLength,this.$flashText.size=e.size,this.$flashText.bold=e.tb,this.$flashText.italic=e.ti,this.$flashText.textAlign=e.ta,this.$flashText.textColor=16777215&e.tc,this.$flashText.border=e.border,this.$flashText.displayAsPassword=e.password,this.$flashText.textAlign=e.ta,this.$flashText.verticalAlign=t.VerticalAlign.TOP},p.$toColorString=function(t){(isNaN(t)||0>t)&&(t=0);for(var e=t.toString(16).toUpperCase();e.length>6;)e=e.slice(1,e.length);for(;e.length<6;)e="0"+e;return"#"+e},p.$createBitmapText=function(e){if(""==e.text&&null!=e.glyphText){var n=new t.DisplayObjectContainer;this.addChild(n),n.x+=e.x,n.y+=e.y;for(var i=0,r=0;r<e.glyphText.info.length;r++)for(var a=e.glyphText.info[r],s=0;s<a.glyp.length;s++){var o=t.SwfRes.Pool_getByID(this.resConf.path,this.resConf,a.fontId,a.glyp[s]);o.alpha=a.color.am,n.addChild(o),o.x=i,i+=a.advances[s]}}},p.clear=function(){this.text="",this.instanceName=""},n}(t.DisplayObjectContainer);t.SwfText=e,t.registerClass(e,"egret.SwfText")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(t){void 0===t&&(t=null),this.id=0,this.className="",this.createFromObject(t)}var e=(__define,t);return p=e.prototype,p.createFromObject=function(t){if(null!=t){if(t instanceof Array)return void this.fromSlimData(t);for(var e in t)this[e]=t[e]}},p.fromSlimData=function(t){this.id=t[0],this.className=t[1]},t}();t.SymbolClass=e,t.registerClass(e,"egret.SymbolClass")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){this.sx=1,this.sy=1,this.r=0,this.tx=0,this.ty=0}var n=(__define,e);return p=n.prototype,p.fromSlimData=function(e){e instanceof Array&&(this.characterId=e[0],this.tx=e[1],this.ty=e[2],this.r=e[3],this.sx=e[4],this.sy=e[5],this.color=new t.EColorTransform(e[6]))},e}();t.ButtonRecord=e,t.registerClass(e,"egret.ButtonRecord")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){this.alphaColormapTable=null,this.alphaColormapPixelData=null}var e=(__define,t);return p=e.prototype,t}();t.AlphaColorMapData=e,t.registerClass(e,"egret.AlphaColorMapData")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){this.colormapTable=null,this.colormapPixelData=null}var e=(__define,t);return p=e.prototype,t}();t.ColorMapData=e,t.registerClass(e,"egret.ColorMapData")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){this.red=0,this.green=0,this.blue=0}var e=(__define,t);return p=e.prototype,p.colorValue=function(){return this.red<<16|this.green<<8|this.blue},t}();t.RGBColor=e,t.registerClass(e,"egret.RGBColor")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(){t.call(this),this.alpha=0}__extends(e,t);var n=(__define,e);return p=n.prototype,p.colorValue=function(){return this.alpha<<24|this.red<<16|this.green<<8|this.blue},e}(t.RGBColor);t.RGBAColor=e,t.registerClass(e,"egret.RGBAColor")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(t){void 0===t&&(t=null),this.t=-1,this.id=-1}var e=(__define,t);return p=e.prototype,p.createFromObject=function(t){if(null!=t)if(t instanceof Array)this.t=t[0],this.id=t[1];else for(var e in t)this.saveKey(e,t[e])||(this[e]=t[e])},p.saveKey=function(t,e){return!1},p.toString=function(){return JSON.stringify(this)},t}();t.DefineBase=e,t.registerClass(e,"egret.DefineBase")}(egret||(egret={}));var egret;!function(t){var e=function(e){function n(t){void 0===t&&(t=null),e.call(this,t),this.createFromObject(t)}__extends(n,e);var i=(__define,n);return p=i.prototype,p.createFromObject=function(t){e.prototype.createFromObject.call(this,t),null!=t&&t instanceof Array&&(this.up=this.fromSlim(t[2]),this.down=this.fromSlim(t[4]),this.hit=this.fromSlim(t[5]))},p.fromSlim=function(e){var n=[];if(e instanceof Array)for(var i=0;i<e.length;i++){var r=new t.ButtonRecord;r.fromSlimData(e[i]),n.push(r)}return n},n}(t.DefineBase);t.DefineButton=e,t.registerClass(e,"egret.DefineButton")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.fn="",this.fi=!1,this.fb=!1,this.createFromObject(e)}__extends(e,t);var n=(__define,e);return p=n.prototype,p.createFromObject=function(e){t.prototype.createFromObject.call(this,e),null!=e&&e instanceof Array&&(this.fn=e[2],this.fi=e[3],this.fb=e[4])},e}(t.DefineBase);t.DefineFont=e,t.registerClass(e,"egret.DefineFont")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.w=0,this.h=0,this.createFromObject(e)}__extends(e,t);var n=(__define,e);return p=n.prototype,p.createFromObject=function(e){t.prototype.createFromObject.call(this,e),null!=e&&e instanceof Array&&(this.h=e[2],this.w=e[3])},e}(t.DefineBase);t.DefineImage=e,t.registerClass(e,"egret.DefineImage")}(egret||(egret={}));var egret;!function(t){var e=function(e){function n(n){void 0===n&&(n=null),e.call(this),this.x=0,this.y=0,this.w=0,this.h=0,this.isexportpng=!1,this.createFromObject(n),this.t=t.Config.RESShape}__extends(n,e);var i=(__define,n);return p=i.prototype,p.createFromObject=function(t){e.prototype.createFromObject.call(this,t),null!=t&&t instanceof Array&&(this.x=t[2],this.y=t[3],this.h=t[4],this.w=t[5],this.isexportpng=t[6])},n.Dynamic_Fillstyles="fillstyles",n}(t.DefineBase);t.DefineShape=e,t.registerClass(e,"egret.DefineShape")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e){void 0===e&&(e=null),t.call(this,e),this.createFromObject(e)}__extends(e,t);var n=(__define,e);return p=n.prototype,p.createFromObject=function(e){t.prototype.createFromObject.call(this,e),null!=e&&e instanceof Array},e}(t.DefineBase);t.DefineSound=e,t.registerClass(e,"egret.DefineSound")}(egret||(egret={}));var egret;!function(t){var e=function(e){function n(t){void 0===t&&(t=null),e.call(this),this.f=1,this.fd=[],this.createFromObject(t)}__extends(n,e);var i=(__define,n);return p=i.prototype,p.getObjByInstanceName=function(t,e){for(var n=this.fd[t],i=n.length,r=0;i>r;r++){var a=n[r];if(a.instanceName==e)return a}return null},p.checkLegal=function(){return this.f!=this.fd.length?!1:!0},p.createFromObject=function(t){e.prototype.createFromObject.call(this,t),null!=t&&t instanceof Array&&this.fromSlimData(t)},p.fromSlimData=function(e){this.f=e[2],this.fd=[];var n=e[3];if(n&&n.length>0)for(var i=0;i<n.length;i++){var r=n[i],a=[];this.fd[i]=a;for(var s=0;s<r.length;s++){var o=new t.PlaceObject(r[s]);a.push(o)}}},n}(t.DefineBase);t.DefineSprite=e,t.registerClass(e,"egret.DefineSprite")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.createFromObject(e)}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(t.DefineSprite);t.DefineStage=e,t.registerClass(e,"egret.DefineStage")}(egret||(egret={}));var egret;!function(t){var e=function(e){function n(n){void 0===n&&(n=null),e.call(this),this.text="",this.htmlText="",this.glyphText=null,this.wasstatic=!0,this.readOnly=!0,this.password=!1,this.maxLength=0,this.x=0,this.y=0,this.w=0,this.h=0,this.size=12,this.tc=0,this.tf="",this.fontId=0,this.tb=!1,this.ta="left",this.ti=!1,this.border=!1,this.createFromObject(n),this.t=t.Config.RESText}__extends(n,e);var i=(__define,n);return p=i.prototype,p.saveKey=function(e,n){if("glyphText"==e){var i=new t.GlyphText;if(null!=n){i.info=new Array;for(var r=n.info,a=0;a<r.length;a++){var s=new t.RecordInfo;s.fromObject(r[a]),i.info[a]=s}}return this.hasOwnProperty(e)&&(this[e]=i),!0}return!1},p.createFromObject=function(t){e.prototype.createFromObject.call(this,t),null!=t&&t instanceof Array&&(this.text=t[2],this.htmlText=t[3],this.wasstatic=t[5],this.readOnly=t[6],this.password=t[7],this.multiline=t[8],this.wordWrap=t[9],this.maxLength=t[10],this.x=t[11],this.y=t[12],this.w=t[13],this.h=t[14],this.size=t[15],this.tc=t[16],this.tf=t[17],this.fontId=t[18],this.tb=t[19],this.ta=t[20],this.ti=t[21],this.border=t[22])},n.Static=1,n.Dynamic=2,n}(t.DefineBase);t.DefineText=e,t.registerClass(e,"egret.DefineText")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(t){void 0===t&&(t=null),this.ro=0,this.go=0,this.bo=0,this.ao=0,this.rm=0,this.gm=0,this.bm=0,this.am=1,this.createFromObject(t)}var e=(__define,t);return p=e.prototype,p.createFromObject=function(t){null!=t&&(t instanceof Array?this.fromSlimData(t):""!=t&&t&&this.CopyFromColor(t))},p.fromSlimData=function(t){t instanceof Array&&(this.rm=t[0],this.gm=t[1],this.bm=t[2],this.am=t[3],this.ro=t[4],this.go=t[5],this.bo=t[6],this.ao=t[7])},p.CopyFromColor=function(t){void 0===t&&(t=null),null!=t&&(this.ro=t.blueMultiplier,this.go=t.greenOffset,this.bo=t.blueOffset,this.ao=t.alphaOffset,this.rm=t.redMultiplier,this.gm=t.greenMultiplier,this.bm=t.blueMultiplier,this.am=t.alphaMultiplier)},t}();t.EColorTransform=e,t.registerClass(e,"egret.EColorTransform")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){this.name="",this.keys=""}var e=(__define,t);return p=e.prototype,t}();t.EGroups=e,t.registerClass(e,"egret.EGroups")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(t){void 0===t&&(t=null),this.tx=0,this.ty=0,this.scaleX=1,this.rotateSkew0=0,this.rotateSkew1=0,this.scaleY=1,this.CopyFromMatrix(t)}var e=(__define,t);return p=e.prototype,p.CopyFromMatrix=function(t){void 0===t&&(t=null),null!=t&&(this.scaleX=t.a,this.rotateSkew0=t.b,this.rotateSkew1=t.c,this.scaleY=t.d,this.tx=t.tx,this.ty=t.ty)},t}();t.EMatrix=e,t.registerClass(e,"egret.EMatrix")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){this.name="",this.type="",this.url=""}var e=(__define,t);return p=e.prototype,t}();t.EResource=e,t.registerClass(e,"egret.EResource")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){this.info=new Array}var e=(__define,t);return p=e.prototype,t}();t.GlyphText=e,t.registerClass(e,"egret.GlyphText")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){this.fontId=0,this.color=null,this.textHeight=0,this.glyp=[],this.advances=[]}var n=(__define,e);return p=n.prototype,p.fromObject=function(e){for(var n in e)if("color"==n){if(this.hasOwnProperty(n)){var i=new t.EColorTransform;t.S2PUtils.TransFromObject(i,e[n]),this[n]=i}}else this[n]=e[n]},e}();t.RecordInfo=e,t.registerClass(e,"egret.RecordInfo")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.getDirectory=function(e){e=t.escapeUrl(e);
var n=e.lastIndexOf("/");return-1==n?"":e.substr(0,n+1)},t.getExtension=function(e){e=t.escapeUrl(e);var n=e.lastIndexOf(".");if(-1==n)return"";var i=e.lastIndexOf("/");return i>n?"":e.substring(n+1)},t.escapeUrl=function(t){return t?t.split("\\").join("/"):""},t}();t.FileUtil=e,t.registerClass(e,"egret.FileUtil")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){}var n=(__define,e);return p=n.prototype,e.TransFromObject=function(t,e){for(var n in e)t[n]=e[n]},e.SetTransform=function(t,n){e.SetMatrixAndColorTransform(t,n)},e.SetMatrixAndColorTransform=function(e,n){null!=n&&null!=e&&e instanceof t.DisplayObject&&(e.x=n.tx,e.y=n.ty,e.scaleX=n.sx,e.scaleY=n.sy,e.rotation=n.r,null!=n.color&&(e.alpha=n.color.am))},e}();t.S2PUtils=e,t.registerClass(e,"egret.S2PUtils")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){}var n=(__define,e);return p=n.prototype,e.CreateShapeFromString=function(n,i){void 0===i&&(i=!1);var r=[],a=new t.Shape,s=a.graphics;r.push(a),n=n.split(" ").join("");var o=/\/\/.*this.$/gm;n=n.replace(o,"");for(var l=n.split("\r"),h=l.length,u=0;h>u;u++){var c=l[u],f=e.DrawCommand(s,c);i&&"endFill"==f&&(a=new t.Shape,s=a.graphics,r.push(a))}return r},e.DrawCommand=function(e,n){if(null==n||""==n)return"empty";var i=n.indexOf("graphics.");if(-1==i)return"can not find key word 'graphics'!";var r,a=i+"graphics.".length,s=n.indexOf("(",i),o=n.substring(a,s),l=n.lastIndexOf(")"),h=n.substring(s+1,l);if("beginGradientFill"==o){r=[],r[0]="linear";var u=n.indexOf("linear"),c=n.indexOf("[",u),f=n.indexOf("]",c),p=n.substring(c+1,f),d=p.split(",");if(r[1]=d,c=n.indexOf("[",f),f=n.indexOf("]",c),p=n.substring(c+1,f),d=p.split(","),r[2]=d,c=n.indexOf("[",f),f=n.indexOf("]",c),p=n.substring(c+1,f),d=p.split(","),r[3]=d,c=n.indexOf("newMatrix",f),-1!=c){c=n.indexOf("(",c),f=n.indexOf(")",c),p=n.substring(c+1,f),d=p.split(",");var g=new t.Matrix(d[0],d[1],d[2],d[3],d[4],d[5]);r[4]=g}else r[4]=null,f+=2;if(c=n.indexOf(",",f),-1!=c){f=n.indexOf(")",c),p=n.substring(c+1,f),d=p.split(",");for(var m=r.length,v=d.length,_=0;v>_;_++){var C=d[_];r[m++]=C}}}else"beginBitmapFill"==o||(r=h.split(","),1==r.length&&""==r[0]&&r.pop());var E=e[o];return E.apply(e,r),null},e}();t.ShapeUtils=e,t.registerClass(e,"egret.ShapeUtils")}(egret||(egret={}));var game;!function(t){var e;!function(e){var n=function(e){function n(){e.call(this),this.container=new egret.Sprite,this.numData=12,this.numX=8,this.numY=10,this.TweenDue=.3,this.DelayDue=.05,this.space=35,this.margin=t.gameComp.Item.Radius,this._isLocked=!1;var n=this;n.addChild(this.container),t.gameComp.GameDebuger.setParent(this)}__extends(n,e);var i=__define,r=n;return p=r.prototype,p.initView=function(){var t=this;TweenMax.delayedCall(.1,function(){t.parent==t.stage&&(t.container.x=(t.stage.stageWidth-t.container.width)/2,t.container.y=(t.stage.stageHeight-t.container.height)/2)})},p.createItem=function(e){void 0===e&&(e=this.TweenDue);var n=new t.gameComp.Item(flash.tranint(this.numData*Math.random()));return TweenMax.from(n,e,{delay:0,scaleX:0,scaleY:0,ease:Bounce.easeOut}),this.container.addChild(n),n},p.setItemAt=function(t,e,n){e=flash.checkInt(e),n=flash.checkInt(n);var i=this.caculateYX([e,n]);t.y=i[0],t.x=i[1]},p.deleteItem=function(t,e,n){void 0===n&&(n=this.TweenDue),TweenMax.to(t,n,{scaleX:0,scaleY:0,ease:Bounce.easeIn}),TweenMax.delayedCall(n,flash.bind(this.container.removeChild,this.container),[t]),this.matix.setElementByPath(e,null)},p.tweeenTo=function(t,e,n,i,r){void 0===n&&(n=this.TweenDue),void 0===i&&(i=0),void 0===r&&(r=null),e=e.concat();var a=this.caculateYX(e);TweenMax.to(t,n,{delay:i,y:a[0],x:a[1],ease:r})},p.caculateYX=function(e){var n=e[0]*this.space+this.margin+t.gameComp.Item.Radius,i=e[1]*this.space+this.margin+t.gameComp.Item.Radius;return[n,i]},p.cacluateWH=function(){var e=this.caculateYX([this.matix.numJ-1,this.matix.numI-1]),n=e[1]+t.gameComp.Item.Radius+this.margin,i=e[0]+t.gameComp.Item.Radius+this.margin;return[i,n]},p.caculateJI=function(t,e){t=flash.checkInt(t),e=flash.checkInt(e);var n=[];return n[0]=Math.max(0,Math.min(this.numY-1,Math.round((t-this.margin)/this.space))),n[1]=Math.max(0,Math.min(this.numX-1,Math.round((e-this.margin)/this.space))),n},p.bindEvent=function(t){},i(p,"lock",function(){return this._isLocked},function(t){this._isLocked=t,this.bindEvent(!t)}),p.unLock=function(){this._isLocked=!1},n}(egret.Sprite);e.AbstractGameMatrix=n,egret.registerClass(n,"game.gameComp.AbstractGameMatrix")}(e=t.gameComp||(t.gameComp={}))}(game||(game={})),flash.extendsClass("game.gameComp.AbstractGameMatrix","egret.Sprite");var game;!function(t){var e=function(e){function n(){e.call(this),this.initMatrix(this.numX,this.numY),this.initView(),this.initCtrl(),this.bindEvent(!0),TweenMax.delayedCall(.1,flash.bind(this.complete,this))}__extends(n,e);var i=(__define,n);return p=i.prototype,p.initMatrix=function(e,n){e=flash.checkInt(e),n=flash.checkInt(n);var i=this;this.matix=new t.utils.MatrixNxM(n,e),this.matix.forEach(function(t,e,n){var r=i.createItem();i.matix.setElement(t,e,r),i.setItemAt(r,t,e)});var r=this.cacluateWH();this.gameHeight=r[0],this.gameWidth=r[1]},p.initCtrl=function(){this.drawCtrl=new t.gameComp.dotgame.DrawLineCtrl(this),this.droperCtrl=new t.gameComp.common.DeleteAndDropCtrl(this),this.validateCtrl=new t.gameComp.dotgame.ValidateCtrl(this),this.shulffCtrl=new t.gameComp.common.ShuffleCtrl(this),this.shulffCtrl.defaultValidate=flash.bind(this.validateCtrl.validate,this.validateCtrl),this.shulffCtrl.complete=flash.bind(this.complete,this),this.drawCtrl.addEventListener(t.gameComp.dotgame.DrawLineCtrl.NeedDeletedItemsEvent,flash.bind(this.needDelete,this),null)},p.bindEvent=function(t){this.drawCtrl.bindEvent(t)},p.onKey=function(e){e.ctrlKey&&(e.keyCode==flash.Keyboard.D?(t.gameComp.GameDebuger.trace("deleted  :"+this.droperCtrl.totalDeleted),t.gameComp.GameDebuger.trace("shulffle :"+this.shulffCtrl.shulfNum),t.gameComp.GameDebuger.trace(this.matix.toString())):this.lock||(e.keyCode==flash.Keyboard.S?this.shulffCtrl.shulf(flash.bind(this.validateCtrl.validate,this.validateCtrl)):e.keyCode==flash.Keyboard.A?(this.drawCtrl.isAuto=!0,this.drawCtrl.drawLines(this.validateCtrl.validate(this.matix))):e.keyCode==flash.Keyboard.V&&this.validateCtrl.validate(this.matix,!0)))},p.needDelete=function(t){this.lock=!0,this.droperCtrl.deleteAndDrop(this.drawCtrl.lineJIs,flash.bind(this.complete,this))},p.complete=function(){var e=this;this.lock=!1;var n=this.validateCtrl.validate(this.matix);n?(t.gameComp.GameDebuger.trace(this.matix.toString()),this.drawCtrl.isAuto&&this.drawCtrl.drawLines(n)):(this.lock=!0,TweenMax.delayedCall(.5,function(){e.lock=!1,e.shulffCtrl.shulf()}))},n}(t.gameComp.AbstractGameMatrix);t.DotsGame=e,egret.registerClass(e,"game.DotsGame")}(game||(game={})),flash.extendsClass("game.DotsGame","game.gameComp.AbstractGameMatrix");var game;!function(t){var e=function(e){function n(){e.call(this),this.isAutoClick=!0,this.initMatrix(this.numX,this.numY),this.initView(),this.initCtrl(),this.bindEvent(!0),this.autoDetecteMoreThan3Ctrl.autoDeleteMoreThan3()}__extends(n,e);var i=(__define,n);return p=i.prototype,p.initMatrix=function(e,n){e=flash.checkInt(e),n=flash.checkInt(n);var i=this;this.matix=new t.utils.MatrixNxM(n,e),this.matix.forEach(function(t,e,n){var r=i.createItem();i.matix.setElement(t,e,r),i.setItemAt(r,t,e)});var r=this.cacluateWH();this.gameHeight=r[0],this.gameWidth=r[1]},p.initCtrl=function(){this.validateCtrl=new t.gameComp.swapgame.SwapGameMatrixValidateCtrl(this),this.shuffleCtrl=new t.gameComp.common.ShuffleCtrl(this),this.droperCtrl=new t.gameComp.common.DeleteAndDropCtrl(this),this.swapCtrl=new t.gameComp.swapgame.SwapCtrl(this,this.droperCtrl),this.autoDetecteMoreThan3Ctrl=new t.gameComp.swapgame.AutoDeleteMoreThan3Ctrl(this,this.droperCtrl),this.swapCtrl.complete=flash.bind(this.autoDetecteMoreThan3Ctrl.autoDeleteMoreThan3,this.autoDetecteMoreThan3Ctrl),this.autoDetecteMoreThan3Ctrl.complete=flash.bind(this.autoDeleteMoreThan3CtrlComplete,this),this.shuffleCtrl.complete=flash.bind(this.autoDetecteMoreThan3Ctrl.autoDeleteMoreThan3,this.autoDetecteMoreThan3Ctrl),this.swapCtrl.addEventListener(this.swapCtrl.UserMouseDown,flash.bind(this.stopAutoClick,this),null)},p.bindEvent=function(t){this.swapCtrl.bindEvent(t)},p.onKey=function(e){e.ctrlKey&&(e.keyCode==flash.Keyboard.D?(t.gameComp.GameDebuger.trace("deleted  :"+this.droperCtrl.totalDeleted),t.gameComp.GameDebuger.trace("shulffle :"+this.shuffleCtrl.shulfNum),t.gameComp.GameDebuger.trace(this.matix.toString())):this.lock||(e.keyCode==flash.Keyboard.S?this.shuffleCtrl.shulf(flash.bind(this.validateCtrl.validate,this.validateCtrl)):e.keyCode==flash.Keyboard.A?this.autoClick(!0,this.validateCtrl.validate(this.matix,!0)):e.keyCode==flash.Keyboard.V&&this.validateCtrl.validate(this.matix,!0)))},p.autoDeleteMoreThan3CtrlComplete=function(){var t=this;this.unLock();var e=this.validateCtrl.validate(this.matix);e?this.isAutoClick&&this.autoClick(!0,e):(this.lock=!0,TweenMax.delayedCall(.5,function(){t.lock=!1,t.shuffleCtrl.shulf(flash.bind(t.validateCtrl.validate,t.validateCtrl))}))},p.autoClick=function(t,e){void 0===e&&(e=null),this.isAutoClick=t,TweenMax.killDelayedCallsTo(flash.bind(this.swapCtrl.swap,this.swapCtrl)),t&&TweenMax.delayedCall(.5,flash.bind(this.swapCtrl.swap,this.swapCtrl),[e])},p.stopAutoClick=function(t){this.autoClick(!1)},n}(t.gameComp.AbstractGameMatrix);t.SwapGame=e,egret.registerClass(e,"game.SwapGame")}(game||(game={})),flash.extendsClass("game.SwapGame","game.gameComp.AbstractGameMatrix");var game;!function(t){var e;!function(t){var e=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var n=(__define,e);return p=n.prototype,e.drawSolidArc=function(t,e,n,i,r,a,s,o){var l,h,u,c=2*Math.PI,f=s/o,p=e+Math.cos(a*c)*i,d=n+Math.sin(a*c)*i,g={x:p,y:d};for(t.moveTo(p,d),h=1;o>=h;h++)l=(a+h*f)*c,p=e+Math.cos(l)*i,d=n+Math.sin(l)*i,t.lineTo(p,d);for(u=a+s,h=0;o>=h;h++)l=(u-h*f)*c,p=e+Math.cos(l)*r,d=n+Math.sin(l)*r,t.lineTo(p,d);t.lineTo(g.x,g.y)},e}(egret.HashObject);t.ArcUtils=e,egret.registerClass(e,"game.circlular2048.ArcUtils")}(e=t.circlular2048||(t.circlular2048={}))}(game||(game={}));var game;!function(t){var e;!function(e){var n=function(e){function n(){e.call(this),this.i=0,this.j=0,this._radius=50,this._color=t.circlular2048.Circle.Colors[0],this._n=0,this._angleWidth=1,this._raiusWidth=1,this.text=""+t.circlular2048.Circle.uid++,this._vitualRotation=0,t.circlular2048.Circle.uid++,this.alpha=.3}__extends(n,e);var i=__define,r=n;return p=r.prototype,p.render=function(){var t=this;t.addEventListener(egret.Event.ENTER_FRAME,flash.bind(this.draw,this),null)},p.draw=function(e){var n=this;n.removeEventListener(egret.Event.ENTER_FRAME,flash.bind(this.draw,this),null),this.graphics.clear(),this.graphics.lineStyle(.1,13421772,1),this.graphics.beginFill(this._color,1),t.circlular2048.ArcUtils.drawSolidArc(this.graphics,t.circlular2048.Circle.Center.x,t.circlular2048.Circle.Center.y,this.radius,this.radius+this._raiusWidth,(-90-this._angleWidth/2)/360,this._angleWidth/360,30),this.label&&n.removeChild(this.label),this.label=this.textDraw(this.text),n.addChild(this.label),this.label.y=-this.label.height/2-(this.radius+this._raiusWidth/2),this.label.x=-this.label.width/2},p.textDraw=function(t){var e=new flash.TextField;e.textAlign=flash.TextFieldAutoSize.LEFT,e.setTextFormat(new flash.TextFormat("_sans",15,0)),e.htmlText="<b>"+t+"</b>",e.embedFonts=!1,e.cacheAsBitmap=!0;var n=new flash.BitmapData(e.width,e.height,!0,0);n.draw2(e);var i=new flash.Bitmap(n,"auto",!0);return i},i(p,"radius",function(){return this._radius},function(t){this._radius=t,this.render()}),i(p,"n",function(){return this._n},function(e){e=flash.checkInt(e),this.text=e+"",this._n=flash.checkInt(e),this._color=t.circlular2048.Circle.Colors[e],this.render()}),i(p,"angleWidth",function(){return this._angleWidth},function(t){this._angleWidth=t,this.render()}),i(p,"raiusWidth",function(){return this._raiusWidth},function(t){this._raiusWidth=t,this.render()}),i(p,"vitualRotation",function(){return this._vitualRotation},function(t){this.rotation=t,this._vitualRotation=t}),p.toString=function(){return this._n+"@"+this.i+","+this.j},n}(egret.Sprite);e.Circle=n,egret.registerClass(n,"game.circlular2048.Circle")}(e=t.circlular2048||(t.circlular2048={}))}(game||(game={})),game.circlular2048.Circle.uid=0,game.circlular2048.Circle.Colors=[1045759,784795,16569149,16772608,16763041,16360051,16753057,15968636,16666961,1045759,784795,16569149,16772608,16763041,16360051,16753057,15968636,16666961],game.circlular2048.Circle.PIToRadus=Math.PI/180,game.circlular2048.Circle.AngleWidth=50,game.circlular2048.Circle.RadiusWidth=25,game.circlular2048.Circle.Center=new egret.Point(0,0),flash.extendsClass("game.circlular2048.Circle","egret.Sprite");var game;!function(t){var e;!function(e){var n=function(e){function n(){e.call(this),this.init()}__extends(n,e);var i=(__define,n);return p=i.prototype,p.init=function(){this.startGame()},p.startGame=function(){var e=this;this._matrix&&(this._matrix.end(),e.removeChild(this._matrix)),this._matrix=new t.circlular2048.CircularMatrix(3,6),e.addChild(this._matrix),this._matrix.addEventListener(t.circlular2048.CircularMatrix.END_GAME,flash.bind(this.endGame,this),null)},p.endGame=function(e){this._matrix.removeEventListener(t.circlular2048.CircularMatrix.END_GAME,flash.bind(this.endGame,this),null),flash.setTimeout(function(){alert("Game end")},1e3),flash.setTimeout(flash.bind(this.startGame,this),3e3)},n}(egret.Sprite);e.Circular2048=n,egret.registerClass(n,"game.circlular2048.Circular2048")}(e=t.circlular2048||(t.circlular2048={}))}(game||(game={})),flash.extendsClass("game.circlular2048.Circular2048","egret.Sprite");var game;!function(t){var e;!function(t){var e=function(t){function e(e){t.call(this),this.keyCodes=["40","38","39","37"],this.dbug=new Array,this.gameMatrix=e}__extends(e,t);var n=(__define,e);return p=n.prototype,p.bindEvent=function(t){game.utils.DisplayTouchEventUtils.touchEnable(this.gameMatrix.container,t),t?(this.gameMatrix.container.addEventListener(egret.TouchEvent.TOUCH_BEGIN,flash.bind(this.onMouseDown,this),null),$("body").keydown(flash.bind(this.keyEventHandle,this))):(this.gameMatrix.container.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,flash.bind(this.onMouseDown,this),null),$("body").keydown(flash.bind(this.keyEventHandle,this)))},p.keyEventHandle=function(t){for(var e=flash.checkInt(0);e<game.circlular2048.CircularMatrix.dirs.length;e++)if(console.log(t),console.log(this.keyCodes),console.log(t.keyCode+","+this.keyCodes[e]),t.keyCode==this.keyCodes[e]){this.gameMatrix.move(game.circlular2048.CircularMatrix.dirs[e]);break}},p.detectGuesture=function(t,e){var n=Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))-Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2)),i=this.caculateAtan2(e.y,e.x)-this.caculateAtan2(t.y,t.x),r=n/game.circlular2048.Circle.RadiusWidth,a=i/(15/180*Math.PI);console.log(e+","+t),console.log("=========="+Math.atan2(e.y,e.x)+","+Math.atan2(t.y,t.x)+"========"),console.log("=========="+this.caculateAtan2(e.y,e.x)+","+this.caculateAtan2(t.y,t.x)+"========"),console.log("up:"+this.caculateAtan2(e.y,e.x)/Math.PI*180+",down:"+this.caculateAtan2(t.y,t.x)/Math.PI*180),console.log("dR:"+n+",dTheta:"+i),console.log("di:"+a+",dj:"+r);var s=Math.abs(r)<Math.abs(a)?!0:!1,o=flash.checkInt(s?game.utils.MathUtils.sign(a):game.utils.MathUtils.sign(r));if(0!=o){var l={"true":{"-1":2,1:3},"false":{"-1":0,1:1}},h=l[s.toString()][o];this.gameMatrix.move(game.circlular2048.CircularMatrix.dirs[h])}},p.caculateAtan2=function(t,e){var n=Math.atan2(t,e);for(0>n&&(n=2*Math.PI+n),n+=Math.PI/2;n>2*Math.PI;)n-=2*Math.PI;return n},p.onMouseDown=function(t){this.mouseDown=this.gameMatrix.container.globalToLocal(t.stageX,t.stageY),this.dbug&&(this.dbug.length&&(this.gameMatrix.removeChild(this.dbug[0]),this.gameMatrix.removeChild(this.dbug[1]),this.dbug.length=0),this.dbug[0]=this.createDebugSprite(),this.dbug[0].x=this.gameMatrix.container.x+this.mouseDown.x,this.dbug[0].y=this.gameMatrix.container.y+this.mouseDown.y,this.gameMatrix.addChild(this.dbug[0])),this.gameMatrix.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,flash.bind(this.onMouseMove,this),null),this.gameMatrix.stage.addEventListener(egret.TouchEvent.TOUCH_END,flash.bind(this.onMouseUp,this),null),this.gameMatrix.stage.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,flash.bind(this.onMouseUp,this),null)},p.onMouseMove=function(t){},p.onMouseUp=function(t){this.mouseUp=this.gameMatrix.container.globalToLocal(t.stageX,t.stageY),this.dbug&&(this.dbug[1]=this.createDebugSprite(65280),this.dbug[1].x=this.gameMatrix.container.x+this.mouseUp.x,this.dbug[1].y=this.gameMatrix.container.y+this.mouseUp.y,this.gameMatrix.addChild(this.dbug[1])),this.detectGuesture(this.mouseDown,this.mouseUp),this.gameMatrix.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,flash.bind(this.onMouseMove,this),null),this.gameMatrix.stage.removeEventListener(egret.TouchEvent.TOUCH_END,flash.bind(this.onMouseUp,this),null),this.gameMatrix.stage.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,flash.bind(this.onMouseUp,this),null)},p.createDebugSprite=function(t){void 0===t&&(t=16711680);var e=new egret.Sprite;return e.graphics.beginFill(t,1),e.graphics.drawCircle(0,0,5),e},e}(egret.EventDispatcher);t.CircularCtrl=e,egret.registerClass(e,"game.circlular2048.CircularCtrl")}(e=t.circlular2048||(t.circlular2048={}))}(game||(game={})),flash.extendsClass("game.circlular2048.CircularCtrl","egret.EventDispatcher");var game;!function(t){var e;!function(e){var n=function(e){function n(t,n){e.call(this),this.numY=0,this.numX=0,this.container=new egret.Sprite,this.line=new egret.Shape,this.lock=!1,t=flash.checkInt(t),n=flash.checkInt(n);var i=this;this.numY=flash.checkInt(t),this.numX=flash.checkInt(n),this.stage?this.addToStage(null):i.addEventListener(egret.Event.ADDED_TO_STAGE,flash.bind(this.addToStage,this),null)}__extends(n,e);var i=(__define,n);return p=i.prototype,p.addToStage=function(e){this.createMatrix(this.numY,this.numX),this.ctrl=new t.circlular2048.CircularCtrl(this),this.ctrl.bindEvent(!0);for(var n=flash.checkInt(0);5>n;n++)this.createAtRandomPos()},p.end=function(){var e=this;this.lock=!0,this.ctrl.bindEvent(!1),e.dispatchEvent(new egret.Event(t.circlular2048.CircularMatrix.END_GAME))},p.nextLoop=function(){var e=this;if(this.createAtRandomPos(),!this.getRandomEmpty()){for(var n=!1,i=flash.checkInt(0);i<t.circlular2048.CircularMatrix.dirs.length;i++){var r=this.findMoveCards(t.circlular2048.CircularMatrix.dirs[i],!0);if(r.length>0){n=!0;break}}if(!n)return void this.end()}flash.setTimeout(function(){e.lock=!1},200)},p.createMatrix=function(e,n){e=flash.checkInt(e),n=flash.checkInt(n);var i=this;i.addChild(this.container),this.matix=new t.utils.MatrixNxM(e,n),t.circlular2048.Circle.AngleWidth=360/n,this.container.graphics.beginFill(16711680,0),this.container.graphics.drawCircle(0,0,t.circlular2048.Circle.RadiusWidth*(e+3)),this.container.graphics.endFill(),this.matix.forEach(function(e,n,r){i.container.graphics.lineStyle(.1,0,1),t.circlular2048.ArcUtils.drawSolidArc(i.container.graphics,0,0,t.circlular2048.Circle.RadiusWidth*(e+3),t.circlular2048.Circle.RadiusWidth*(e+3)+t.circlular2048.Circle.RadiusWidth,(-90-t.circlular2048.Circle.AngleWidth/2+t.circlular2048.Circle.AngleWidth/2+n*t.circlular2048.Circle.AngleWidth)/360,t.circlular2048.Circle.AngleWidth/360,30)}),this.container.x=this.stage.stageWidth/2,this.container.y=this.stage.stageHeight/2,this.line.graphics.lineStyle(2,0,1),this.line.graphics.beginFill(0,1),this.line.graphics.drawRect(0,-t.circlular2048.Circle.RadiusWidth*(e+3),1,t.circlular2048.Circle.RadiusWidth*e),this.line.graphics.endFill(),this.line.x=this.container.x,this.line.y=this.container.y,this.addChild(this.line);var r=new egret.TextField;return r.text="Cicular 2048",r.fontFamily="Arial",r.textColor=3355443,r.x=this.container.x-r.width/2,r.y=this.container.y-this.container.height/2-r.height-15,this.addChild(r),this.matix},p.createAtRandomPos=function(){var e=this.getRandomEmpty(),n=this.createItem(e.y,e.x,flash.tranint(8*Math.random()));this.matix.setElement(e.y,e.x,n),n.i=flash.checkInt(e.x),n.j=flash.checkInt(e.y),this.animateCardTo(n,n.j,n.i,1,t.circlular2048.CircularMatrix.Due_Radus),this.container.addChild(n)},p.getRandomEmpty=function(){var t=this.getEmptyPoss();return t.length?t[Math.floor(t.length*Math.random())]:null},p.getEmptyPoss=function(){var t=new flash.Vector;return this.matix.forEach(function(e,n,i){null==i&&t.push(new egret.Point(n,e))}),t},p.createItem=function(e,n,i){i=flash.checkInt(i);var r=new t.circlular2048.Circle;return r.vitualRotation=this.caculateRotation(n),r.radius=this.caculateRadis(e),r.n=flash.checkInt(i),r},p.caculateRotation=function(e){return e=flash.checkInt(e),t.circlular2048.Circle.AngleWidth/2+e*t.circlular2048.Circle.AngleWidth},p.caculateRadis=function(e){return e=flash.checkInt(e),t.circlular2048.Circle.RadiusWidth*(e+3)},p.move=function(t){if(!this.lock){var e=this.findMoveCards(t,!1);if(e.length){this.lock=!0,this.moveCards(e,flash.bind(this.moveComplete,this));var n=this;setTimeout(function(){n.sound||(n.sound=RES.getRes("tip_mp3")),n.sound.play(0,1)},300)}}},p.moveComplete=function(){console.log(this.matix),this.nextLoop()},p.findMoveCards=function(e,n){console.log(e);var i=0==e.x?!1:!0,r=i?e.x:e.y,a=flash.checkInt(i?this.matix.numJ:this.matix.numI),s=flash.checkInt(i?this.matix.numI:this.matix.numJ);console.log("numN: "+a),console.log("numM: "+s),console.log("isMoveX: "+i),console.log("moveDir: "+r);for(var o=[],l=flash.checkInt(0);a>l;l++)for(var h=flash.checkInt(1==r?s-1:0),u=i?[l,h]:[h,l],c=[],f=null,p=0;s>p;p++){var d=this.matix.getElement(u[0],u[1]);if(void 0!=d){var g=!!f&&f.n==d.n;if(g){var m=flash.checkInt(f.n+1);if(o.push({item:f,n:-1}),o.push({item:d,n:m}),console.log("		合并: "+f.toString()+"> new N: -1"),console.log("		合并: "+d.toString()+"> new N:"+m),n)return console.log("len:"+o.length),o;c.pop()}c.push(d);var v=flash.checkInt(c.length-1);v=flash.checkInt(1==r?s-1-v:v);var _=i?"i":"j";if(d[_]!=v){var C={item:d};if(C[_]=v,console.log("		移动: "+d.toString()+"  > new "+_+": "+v),o.push(C),n)return console.log("len:"+o.length),o}f=g?null:d}u=t.utils.ArrayUtils.sub(u,e.step)}return console.log("len:"+o.length),o},p.moveCards=function(e,n){for(var i=this,r=t.circlular2048.CircularMatrix.Due_Radus,a=2*t.circlular2048.CircularMatrix.Due_Radus+.1,s=flash.checkInt(0);s<e.length;s++){var o=e[s],l=o.item,h="";for(var u in o)h+=u+": "+o[u].toString()+", ";var c=flash.checkInt("i"in o?o.i:l.i),f=flash.checkInt("j"in o?o.j:l.j),p=flash.checkInt("n"in o?o.n:l.n);console.log(c+" "+f+" "+p),"n"in o?(a=2.2*r,function(t,e){var n=t.item,a=flash.checkInt(-1==t.n?0:1),s=flash.checkInt(t.n);TweenMax.delayedCall(r,function(){e.animateCardTo(n,n.j,n.i,0,-1),n.n=flash.checkInt(s),a?e.animateCardTo(n,n.j,n.i,a,1.5*r):i.container.removeChild(n)})}(o,this)):this.animateCardTo(l,f,c,1,r),this.container.addChild(l),this.matix.setElement(l.j,l.i,null),l.i=flash.checkInt(c),l.j=flash.checkInt(f),-1!=p&&this.matix.setElement(f,c,l)}TweenMax.delayedCall(a,n)},p.animateCardTo=function(e,n,i,r,a,s){void 0===s&&(s=null),i=void 0==i?e.i:i,n=void 0==n?e.j:n,r=void 0==r?1:r,a=void 0==a?t.circlular2048.CircularMatrix.Due_Radus:a;var o=this.caculateRotation(i),l=this.caculateRadis(n),h=r*t.circlular2048.Circle.AngleWidth,u=r*t.circlular2048.Circle.RadiusWidth;0>=a?(e.vitualRotation=o,e.radius=l):TweenMax.to(e,a,{vitualRotation:o,radius:l,angleWidth:h,raiusWidth:u,ease:Bounce.easeOut})},n}(egret.Sprite);e.CircularMatrix=n,egret.registerClass(n,"game.circlular2048.CircularMatrix")}(e=t.circlular2048||(t.circlular2048={}))}(game||(game={})),game.circlular2048.CircularMatrix.END_GAME="END_GAME",game.circlular2048.CircularMatrix.dirs=[{x:0,y:-1,step:[-1,0],text:"↑"},{x:0,y:1,step:[1,0],text:"↓"},{x:-1,y:0,step:[0,-1],text:"←"},{x:1,y:0,step:[0,1],text:"→"}],game.circlular2048.CircularMatrix.Due_Rotate=.5,game.circlular2048.CircularMatrix.Due_Radus=.3,flash.extendsClass("game.circlular2048.CircularMatrix","egret.Sprite");var game;!function(t){var e;!function(e){var n=function(e){function n(){e.call(this),this.width=350}__extends(n,e);var i=__define,r=n;return p=r.prototype,i(n,"instance",function(){return t.gameComp.GameDebuger._instance}),i(p,"instance",void 0,function(e){flash.superSetter(t.gameComp.GameDebuger,this,"instance",e)}),n.trace=function(e){t.gameComp.GameDebuger._instance.text+=e+"\n",t.gameComp.GameDebuger._instance.scrollV=flash.checkInt(t.gameComp.GameDebuger._instance.numLines),t.gameComp.GameDebuger._instance.numLines>300&&(t.gameComp.GameDebuger._instance.text="")},n.setParent=function(e){e.addChild(t.gameComp.GameDebuger._instance),t.gameComp.GameDebuger._instance.visible=!1,e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.gameComp.GameDebuger.onMouseDown,null,!0,1)},n.onMouseDown=function(t){},n}(flash.TextField);e.GameDebuger=n,egret.registerClass(n,"game.gameComp.GameDebuger")}(e=t.gameComp||(t.gameComp={}))}(game||(game={})),game.gameComp.GameDebuger._instance=new game.gameComp.GameDebuger,flash.extendsClass("game.gameComp.GameDebuger","flash.TextField");var game;!function(t){var e;!function(e){var n=function(e){function n(t){e.call(this),this._d=0,t=flash.checkInt(t),this.data=flash.checkInt(t)}__extends(n,e);var i=__define,r=n;return p=r.prototype,i(p,"data",function(){return this._d},function(e){e=flash.checkInt(e);var n=this;this._d=flash.checkInt(e);var i=new egret.Sprite;i.graphics.beginFill(t.gameComp.Item.DotsColors[e],.8),i.graphics.drawCircle(0,0,t.gameComp.Item.Radius),i.graphics.endFill(),n.addChild(i);var r=new flash.TextField;r.setTextFormat(new flash.TextFormat("_sans",8)),r.text=""+e,r.textAlign=flash.TextFieldAutoSize.LEFT,r.x=-r.width/2,r.y=-r.height/2,this.addChild(r),this.touchEnabled=!0,this.touchChildren=!1}),p.toString=function(){return this.data+""},i(p,"selected",function(){return flash.superGetter(t.gameComp.Item,this,"selected")},function(e){e?(this.graphics.lineStyle(.1,16711680,1),this.graphics.drawCircle(0,0,t.gameComp.Item.Radius+1),this.graphics.endFill(),TweenMax.to(this,.3,{scaleX:1.2,scaleY:1.2})):(this.graphics.clear(),TweenMax.to(this,.3,{scaleX:1,scaleY:1}))}),n}(egret.Sprite);e.Item=n,egret.registerClass(n,"game.gameComp.Item")}(e=t.gameComp||(t.gameComp={}))}(game||(game={})),game.gameComp.Item.DotsColors=[8323072,8328960,8335104,8341248,8347392,8353536,7307008,5734144,4161280,2588416,1015552,32519,32543,32567,32591],game.gameComp.Item.Radius=10,flash.extendsClass("game.gameComp.Item","egret.Sprite");var game;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(e){t.call(this),this.game=e}__extends(e,t);var n=(__define,e);return p=n.prototype,e}(egret.EventDispatcher);t.AbstractGameCtrl=e,egret.registerClass(e,"game.gameComp.common.AbstractGameCtrl")}(e=t.common||(t.common={}))}(e=t.gameComp||(t.gameComp={}))}(game||(game={})),flash.extendsClass("game.gameComp.common.AbstractGameCtrl","egret.EventDispatcher");var game;!function(t){var e;!function(e){var n;!function(e){var n=function(e){function n(t){e.call(this,t),this.dropDir=[0,-1],this.totalDeleted=0}__extends(n,e);var i=__define,r=n;return p=r.prototype,i(p,"matrix",function(){return this.game.matix},function(e){flash.superSetter(t.gameComp.common.DeleteAndDropCtrl,this,"matrix",e)}),p.deleteAndDrop=function(e,n){var i=this;this.dropDir=t.utils.Dirs.nextDir();var r=this.deleteDots(e,function(){i.dropDots(r,n)})},p.deleteDots=function(e,n){void 0===n&&(n=null);for(var i=[],r=flash.checkInt(0);r<e.length;r++){var a=flash.As3As(this.matrix.getElementByPath(e[r]),t.gameComp.Item);a&&(this.game.deleteItem(a,e[r]),i.push(e[r]),this.totalDeleted++)}return TweenMax.delayedCall(this.game.TweenDue+this.game.DelayDue,n),i},p.dropDots=function(t,e){for(var n=this.caculateDropNumMatrix(t),i=this.moveOrNew(n),r=flash.checkInt(0);r<i.length;r++){var a=i[r].item,s=i[r].toJI;this.game.matix.setElementByPath(s,a)}TweenMax.delayedCall(this.game.TweenDue+this.game.DelayDue,e)},p.moveOrNew=function(e){var n=this,i=[];return e.forEach(function(e,r,a){if(0!=a)if(r!=n.matrix.numI&&e!=n.matrix.numJ){var s=flash.As3As(n.matrix.getElement(e,r),t.gameComp.Item);if(s){var o=t.utils.ArrayUtils.add([e,r],t.utils.ArrayUtils.mutipyNum(n.dropDir,a));n.game.tweeenTo(s,o,n.game.TweenDue,0,Bounce.easeOut),i.push({item:s,toJI:o})}}else{var l=e==n.matrix.numJ&&0!=n.dropDir[0],h=r==n.matrix.numI&&0!=n.dropDir[1];if(h||l){var u=[e,r];l&&(u[0]=n.dropDir[0]>0?0:n.matrix.numJ-1),h&&(u[1]=n.dropDir[1]>0?0:n.matrix.numI-1);for(var c=flash.checkInt(0);a>c;c++){var f=n.game.createItem(),p=t.utils.ArrayUtils.sub(u,t.utils.ArrayUtils.mutipyNum(n.dropDir,a));n.game.setItemAt(f,p[0],p[1]),n.game.tweeenTo(f,u,n.game.TweenDue,0,Bounce.easeOut),i.push({item:f,toJI:u}),u=t.utils.ArrayUtils.add(u,n.dropDir)}}}}),i},p.caculateDropNumMatrix=function(e){for(var n=new t.utils.MatrixNxM(this.matrix.numJ+1,this.matrix.numI+1,0),i=flash.checkInt(0);i<e.length;i++){for(var r=e[i],a=r.concat();;){if(a=t.utils.ArrayUtils.sub(a,this.dropDir),a[0]>=this.matrix.numJ||a[0]<0||a[1]>=this.matrix.numI||a[1]<0)break;n.setElementByPath(a,n.getElementByPath(a)+1)}n.setElement(this.matrix.numJ,r[1],n.getElement(this.matrix.numJ,r[1])+1),n.setElement(r[0],this.matrix.numI,n.getElement(r[0],this.matrix.numI)+1)}return n},n}(t.gameComp.common.AbstractGameCtrl);e.DeleteAndDropCtrl=n,egret.registerClass(n,"game.gameComp.common.DeleteAndDropCtrl")}(n=e.common||(e.common={}))}(e=t.gameComp||(t.gameComp={}))}(game||(game={})),flash.extendsClass("game.gameComp.common.DeleteAndDropCtrl","game.gameComp.common.AbstractGameCtrl");var game;!function(t){var e;!function(e){var n;!function(e){var n=function(t){function e(e){t.call(this,e),this.shulfNum=0}__extends(e,t);var n=(__define,e);return p=n.prototype,p.shulf=function(t){void 0===t&&(t=null);var e=this;if(!this.game.lock){this.game.lock=!0,t=void 0==t?this.defaultValidate:t;for(var n=flash.checkInt(0);10>n;n++){for(var i=flash.checkInt(this.game.matix.numI*this.game.matix.numJ),r=flash.checkInt(0);i>r;r++)this.game.matix.forEach(function(t,n,i){var r=[flash.tranint(Math.floor(Math.random()*e.game.matix.numJ)),flash.tranint(Math.floor(Math.random()*e.game.matix.numI))];e.game.matix.swapByPath([t,n],r)});if(this.shulfNum++,void 0==t||t(this.game.matix))break}this.game.matix.forEach(function(t,n,i){e.game.tweeenTo(i,[t,n],2*e.game.TweenDue,0,Bounce.easeOut)}),TweenMax.delayedCall(2*this.game.TweenDue+2*this.game.DelayDue,flash.bind(this.shulfComplete,this))}},p.shulfComplete=function(){this.game.lock=!1,this.complete&&this.complete()},e}(t.gameComp.common.AbstractGameCtrl);e.ShuffleCtrl=n,egret.registerClass(n,"game.gameComp.common.ShuffleCtrl")}(n=e.common||(e.common={}))}(e=t.gameComp||(t.gameComp={}))}(game||(game={})),flash.extendsClass("game.gameComp.common.ShuffleCtrl","game.gameComp.common.AbstractGameCtrl");var game;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(e){t.call(this),this.dragedItem=0,this.isAuto=!0,this.game=e}__extends(e,t);var n=__define,i=e;return p=i.prototype,p.bindEvent=function(t){t?this.game.container.addEventListener(egret.TouchEvent.TOUCH_BEGIN,flash.bind(this.onMouseDown,this),null):this.game.container.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,flash.bind(this.onMouseDown,this),null)},p.onMouseDown=function(t){this.isAuto=!1,TweenMax.killDelayedCallsTo(flash.bind(this.deleteLines,this));var e=this.game.container.globalToLocal(t.stageX,t.stageY),n=this.game.caculateJI(e.y,e.x),i=this.game.matix.getElementByPath(n);this.dragedItem=flash.checkInt(i.data),this._lineJIs=[n],this._lineYXs=[this.game.caculateYX(n)],this.game.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,flash.bind(this.onMouseMove,this),null),this.game.stage.addEventListener(egret.TouchEvent.TOUCH_END,flash.bind(this.onMouseUp,this),null)
},p.onMouseMove=function(t){var e=this.game.container.globalToLocal(t.stageX,t.stageY),n=this.game.caculateJI(e.y,e.x);this.caculateLineItems(n),this.drawLineItems()},p.onMouseUp=function(t){void 0===t&&(t=null),this.game.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,flash.bind(this.onMouseMove,this),null),this.game.stage.removeEventListener(egret.TouchEvent.TOUCH_END,flash.bind(this.onMouseUp,this),null),this.game.container.graphics.clear(),this.deleteLines()},p.caculateLineItems=function(t){var e=this._lineJIs[this._lineJIs.length-1];if(flash.As3As(this.game.matix.getElementByPath(t),game.gameComp.Item).data==this.dragedItem&&game.utils.MatrixNxM.isNearBy(t,e)){var n=!1;if(this._lineJIs.length>=2){var i=this._lineJIs[this._lineJIs.length-2];game.utils.ArrayUtils.eq(i,t)&&(this._lineYXs.pop(),this._lineJIs.pop(),n=!0)}if(!n)for(var r=!1,a=flash.checkInt(0);a<this._lineJIs.length;a++){var s=game.utils.ArrayUtils.eq(this._lineJIs[a],e);s=s&&(a-1>0&&game.utils.ArrayUtils.eq(this._lineJIs[a-1],t)||a+1<this._lineJIs.length&&game.utils.ArrayUtils.eq(this._lineJIs[a+1],t)),s&&(r=!0)}if(!n&&!r){var o=this.game.caculateYX(t);this._lineJIs.push(t),this._lineYXs.push(o)}}},p.drawLineItems=function(t){void 0===t&&(t=!0),this.game.container.graphics.clear(),this.game.container.graphics.lineStyle(4,16711680,.8),this.game.container.graphics.moveTo(this._lineYXs[0][1],this._lineYXs[0][0]);for(var e=flash.checkInt(1);e<this._lineYXs.length;e++)this.game.container.graphics.lineTo(this._lineYXs[e][1],this._lineYXs[e][0]);t&&this.game.container.graphics.lineTo(this.game.container.mouseX,this.game.container.mouseY)},p.drawLines=function(t){this._lineJIs=t.concat(),this._lineYXs=[];for(var e=flash.checkInt(0);e<this._lineJIs.length;e++)this._lineYXs[e]=this.game.caculateYX(this._lineJIs[e]);this.drawLineItems(!1),TweenMax.killDelayedCallsTo(flash.bind(this.deleteLines,this)),TweenMax.delayedCall(.5,flash.bind(this.deleteLines,this))},p.deleteLines=function(){var t=this;TweenMax.killDelayedCallsTo(flash.bind(this.deleteLines,this)),this.game.container.graphics.clear(),this._lineJIs.length>=2&&(t.dispatchEvent(new egret.Event(game.gameComp.dotgame.DrawLineCtrl.NeedDeletedItemsEvent)),null!=this.onComplete&&this.onComplete())},n(p,"lineJIs",function(){return this._lineJIs},function(t){flash.superSetter(game.gameComp.dotgame.DrawLineCtrl,this,"lineJIs",t)}),e}(egret.EventDispatcher);t.DrawLineCtrl=e,egret.registerClass(e,"game.gameComp.dotgame.DrawLineCtrl")}(e=t.dotgame||(t.dotgame={}))}(e=t.gameComp||(t.gameComp={}))}(game||(game={})),game.gameComp.dotgame.DrawLineCtrl.NeedDeletedItemsEvent="NeedDeletedItemsEvent",flash.extendsClass("game.gameComp.dotgame.DrawLineCtrl","egret.EventDispatcher");var game;!function(t){var e;!function(e){var n;!function(e){var n=function(e){function n(t){e.call(this,t)}__extends(n,e);var i=(__define,n);return p=i.prototype,p.validate=function(e,n){void 0===n&&(n=!1);var i;if(e.forEach(function(n,r,a){for(var s=!1,o=t.utils.Dirs.dirs,l=flash.checkInt(0);l<o.length;l++){var h=[n,r];if(t.utils.MatrixNxMTravaler.stepForEach(e,h,o[l],function(t,e,n){return a.data==e.data?(void 0==i&&(i=[h]),i.push(t),s=!0,!1):!0}),s)break}return s}),n&&i)for(var r=flash.checkInt(0);r<i.length;r++)flash.As3As(this.game.matix.getElementByPath(i[r]),t.gameComp.Item).selected=!0;return i},n}(t.gameComp.common.AbstractGameCtrl);e.ValidateCtrl=n,egret.registerClass(n,"game.gameComp.dotgame.ValidateCtrl")}(n=e.dotgame||(e.dotgame={}))}(e=t.gameComp||(t.gameComp={}))}(game||(game={})),flash.extendsClass("game.gameComp.dotgame.ValidateCtrl","game.gameComp.common.AbstractGameCtrl");var game;!function(t){var e;!function(e){var n;!function(e){var n=function(e){function n(t,n){e.call(this,t),this.dropCtrl=n}__extends(n,e);var i=(__define,n);return p=i.prototype,p.autoDeleteMoreThan3=function(){var e=this;this.game.lock=!0;var n=[];this.game.matix.forEach(function(i,r,a){n=n.concat(t.gameComp.swapgame.MatrixNxMCounter.findTheSameMoreThan3Of(e.game.matix,[i,r]))}),n.length>0?this.dropCtrl.deleteAndDrop(n,flash.bind(this.autoDeleteMoreThan3,this)):(this.game.lock=!1,t.gameComp.GameDebuger.trace(this.game.matix.toString()),this.complete&&this.complete())},n}(t.gameComp.common.AbstractGameCtrl);e.AutoDeleteMoreThan3Ctrl=n,egret.registerClass(n,"game.gameComp.swapgame.AutoDeleteMoreThan3Ctrl")}(n=e.swapgame||(e.swapgame={}))}(e=t.gameComp||(t.gameComp={}))}(game||(game={})),flash.extendsClass("game.gameComp.swapgame.AutoDeleteMoreThan3Ctrl","game.gameComp.common.AbstractGameCtrl");var game;!function(t){var e;!function(e){var n;!function(e){var n=function(e){function n(){e.apply(this,arguments)}__extends(n,e);var i=(__define,n);return p=i.prototype,n.findTheSameMoreThan3=function(e,n){for(var i=[],r=flash.checkInt(0);r<n.length;r++){var a=flash.As3As(n[r],Array),s=t.gameComp.swapgame.MatrixNxMCounter.findTheSameMoreThan3Of(e,a.concat());s.length>0&&(i=i.concat(s))}return i},n.findTheSameMoreThan3Of=function(e,n){for(var i=[],r=[t.gameComp.swapgame.MatrixNxMCounter.findSameOfLine(e,n.concat(),!0),t.gameComp.swapgame.MatrixNxMCounter.findSameOfLine(e,n.concat(),!1)],a=flash.checkInt(0);2>a;a++)flash.As3As(r[a],Array).length>=2&&(i=i.concat(r[a]));return i.length>0&&(i=i.concat([n.concat()])),i},n.findSameOfLine=function(e,n,i){var r=n.concat(),a=[],s=e.getElementByPath(r);return t.utils.MatrixNxMTravaler.lineForEach(e,r,i,function(t,e,n){return s.data!=e.data?!0:(a.push(t),!1)}),a},n}(egret.HashObject);e.MatrixNxMCounter=n,egret.registerClass(n,"game.gameComp.swapgame.MatrixNxMCounter")}(n=e.swapgame||(e.swapgame={}))}(e=t.gameComp||(t.gameComp={}))}(game||(game={}));var game;!function(t){var e;!function(e){var n;!function(e){var n=function(e){function n(t,n){e.call(this,t),this.UserMouseDown="UserMouseDown",this.NOMoveSize=1,this.selecteds=[],this.droperCtrl=n}__extends(n,e);var i=(__define,n);return p=i.prototype,p.bindEvent=function(t){t?this.game.container.addEventListener(egret.TouchEvent.TOUCH_BEGIN,flash.bind(this.onMouseDown,this),null):this.game.container.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,flash.bind(this.onMouseDown,this),null)},p.onMouseDown=function(e){var n=this;if(this.currentDragedJI=this.game.matix.indexes(e.target),this.currentDragedJI)if(n.dispatchEvent(new egret.Event(this.UserMouseDown)),1==this.selecteds.length&&t.utils.MatrixNxM.isNearBy(this.selecteds[0],this.currentDragedJI))this.setSelected(1,this.currentDragedJI,!0);else{this.setSelected(0,this.currentDragedJI,!1),this.currentDragedItem=flash.As3As(this.game.matix.getElementByPath(this.currentDragedJI),t.gameComp.Item),this.currentDragedItem.selected=!0,this.currentDrageItemOldXY=[this.currentDragedItem.x,this.currentDragedItem.y];var i=this.game.container.localToGlobal(e.stageX,e.stageY);this.mouseXY=[i.x,i.y],this.game.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,flash.bind(this.onMouseMove,this),null),this.game.stage.addEventListener(egret.TouchEvent.TOUCH_END,flash.bind(this.onMouseUp,this),null),this.game.stage.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,flash.bind(this.onMouseUp,this),null)}},p.onMouseMove=function(e){var n=this.game.container.localToGlobal(e.stageX,e.stageY),i=n.x-this.mouseXY[0],r=n.y-this.mouseXY[1];if(i=Math.abs(i)<this.NOMoveSize?0:i,r=Math.abs(r)<this.NOMoveSize?0:r,0!=i||0!=r){var a=Math.abs(i)>Math.abs(r);a?(this.currentDragedItem.x=this.currentDrageItemOldXY[0]+t.utils.MathUtils.limit(i,2.5*t.gameComp.Item.Radius),this.currentDragedItem.y=this.currentDrageItemOldXY[1]):(this.currentDragedItem.x=this.currentDrageItemOldXY[0],this.currentDragedItem.y=this.currentDrageItemOldXY[1]+t.utils.MathUtils.limit(r,2.5*t.gameComp.Item.Radius))}},p.onMouseUp=function(e){var n=this.game.container.localToGlobal(e.stageX,e.stageY),i=n.x-this.mouseXY[0],r=n.y-this.mouseXY[1];i=Math.abs(i)<this.NOMoveSize?0:i,r=Math.abs(r)<this.NOMoveSize?0:r;var a=Math.abs(i)>Math.abs(r);if(0==i&&0==r)this.currentDragedItem.selected=!1,this.onClick(this.currentDragedItem);else{var s=a?[0,t.utils.MathUtils.sign(i)]:[t.utils.MathUtils.sign(r),0],o=t.utils.ArrayUtils.add(s,this.currentDragedJI);if(this.game.matix.isOutOfSize(o))this.currentDragedItem.selected=!1,this.game.tweeenTo(this.currentDragedItem,this.currentDragedJI);else{if(!t.utils.MatrixNxM.isNearBy(this.currentDragedJI,o))throw new flash.Error("what motherfuck ??? ").message;this.setSelected(0,this.currentDragedJI,!0),this.setSelected(1,o,!0)}}this.game.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,flash.bind(this.onMouseMove,this),null),this.game.stage.removeEventListener(egret.TouchEvent.TOUCH_END,flash.bind(this.onMouseUp,this),null),this.game.stage.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,flash.bind(this.onMouseUp,this),null)},p.onClick=function(e){var n=this.game.matix.indexes(e);n&&(0==this.selecteds.length?this.setSelected(0,n,!0):1==this.selecteds.length&&(t.utils.MatrixNxM.isNearBy(this.selecteds[0],n)?this.setSelected(1,n,!0):this.setSelected(0,n,!0)))},p.setSelected=function(e,n,i){e=flash.checkInt(e);for(var r=flash.checkInt(e);r<this.selecteds.length;r++)if(this.selecteds[r]){var a=flash.As3As(this.game.matix.getElementByPath(this.selecteds[r]),t.gameComp.Item);a.selected=!1}i?(this.selecteds[e]=n.concat(),a=flash.As3As(this.game.matix.getElementByPath(this.selecteds[e]),t.gameComp.Item),a.selected=!0):this.selecteds.length=flash.checkInt(e),this.checkSwap()},p.swap=function(t){this.setSelected(0,t[0],!0),this.setSelected(1,t[1],!0)},p.checkSwap=function(){2==this.selecteds.length&&(this.game.lock=!0,this.tweenSwaped(this.selecteds.concat(),flash.bind(this.checkAfterSwaped,this)))},p.tweenSwaped=function(t,e){if(2==t.length){var n=this.game.matix.getElementByPath(t[0]),i=this.game.matix.getElementByPath(t[1]);this.game.tweeenTo(n,t[1],this.game.TweenDue),this.game.tweeenTo(i,t[0],this.game.TweenDue),this.game.matix.swapByPath(t[0],t[1])}void 0!=e&&TweenMax.delayedCall(this.game.TweenDue+this.game.DelayDue,e)},p.checkAfterSwaped=function(){var e=this.selecteds.concat();this.setSelected(0,null,!1);var n=t.gameComp.swapgame.MatrixNxMCounter.findTheSameMoreThan3(this.game.matix,e);n.length>0?this.droperCtrl.deleteAndDrop(n,flash.bind(this.swapComleted,this)):this.tweenSwaped(e,flash.bind(this.swapComleted,this))},p.swapComleted=function(){this.game.lock=!1,t.gameComp.GameDebuger.trace(this.game.matix.toString()),null!=this.complete&&this.complete()},n}(t.gameComp.common.AbstractGameCtrl);e.SwapCtrl=n,egret.registerClass(n,"game.gameComp.swapgame.SwapCtrl")}(n=e.swapgame||(e.swapgame={}))}(e=t.gameComp||(t.gameComp={}))}(game||(game={})),flash.extendsClass("game.gameComp.swapgame.SwapCtrl","game.gameComp.common.AbstractGameCtrl");var game;!function(t){var e;!function(e){var n;!function(e){var n=function(e){function n(t){e.call(this,t)}__extends(n,e);var i=(__define,n);return p=i.prototype,p.validate=function(e,n){void 0===n&&(n=!1);var i,r=this;return e.forEach(function(a,s,o){for(var l=[[1,0],[0,1]],h=flash.checkInt(0);h<l.length;h++){var u=[a,s],c=t.utils.ArrayUtils.add(u,l[h]);if(!e.isOutOfSize(c)){c.concat(),u.concat();e.debugOutOfSize(c),e.debugOutOfSize(u),e.swapByPath(c,u);var f;try{f=t.gameComp.swapgame.MatrixNxMCounter.findTheSameMoreThan3(r.game.matix,[c,u]),f.length>0&&(i=[c,u])}catch(p){throw new flash.Error("??~!!!"+u+" ; "+c+"\n"+p).message}if(e.swapByPath(c,u),void 0!=i)return n&&(flash.As3As(e.getElementByPath(u),t.gameComp.Item).selected=!0,flash.As3As(e.getElementByPath(c),t.gameComp.Item).selected=!0),t.gameComp.GameDebuger.trace(f.join(";")),t.gameComp.GameDebuger.trace("TIP: "+u+">"+e.getElementByPath(u)+" ; "+c+">"+e.getElementByPath(c)),!0}}return!1}),i},n}(t.gameComp.common.AbstractGameCtrl);e.SwapGameMatrixValidateCtrl=n,egret.registerClass(n,"game.gameComp.swapgame.SwapGameMatrixValidateCtrl")}(n=e.swapgame||(e.swapgame={}))}(e=t.gameComp||(t.gameComp={}))}(game||(game={})),flash.extendsClass("game.gameComp.swapgame.SwapGameMatrixValidateCtrl","game.gameComp.common.AbstractGameCtrl");var game;!function(t){var e;!function(e){var n=function(e){function n(){e.apply(this,arguments)}__extends(n,e);var i=(__define,n);return p=i.prototype,n.map=function(t,e,n){void 0===n&&(n=null);for(var i=[],r=flash.checkInt(0);r<t.length;r++)i.push(e.apply(n,[t[r],r]));return i},n.reduce=function(t,e,n,i){void 0===i&&(i=null);for(var r=n,a=flash.checkInt(0);a<t.length;a++)r=e.apply(i,[r,t[a],a]);return r},n.sign=function(e){return t.utils.ArrayUtils.map(e,t.utils.MathUtils.sign)},n.add=function(e,n){return t.utils.ArrayUtils.map(e,function(t,i){return e[i]+n[i]})},n.mutipyNum=function(e,n){return t.utils.ArrayUtils.map(e,function(t,e){return t*n})},n.sub=function(e,n){return t.utils.ArrayUtils.map(e,function(t,i){return e[i]-n[i]})},n.filter=function(e,n){return t.utils.ArrayUtils.map(e,function(t,i){return n[i]?e[i]:0})},n.eq=function(e,n){return t.utils.ArrayUtils.reduce(e,function(t,i,r){return t&&e[r]==n[r]},!0)},n}(egret.HashObject);e.ArrayUtils=n,egret.registerClass(n,"game.utils.ArrayUtils")}(e=t.utils||(t.utils={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var n=(__define,e);return p=n.prototype,e.hsb2rgb=function(t,e,n){var i=0,r=0,a=0,s=Math.floor(t/60%6),o=t/60-s,l=n*(1-e),h=n*(1-o*e),u=n*(1-(1-o)*e);switch(s){case 0:i=n,r=u,a=l;break;case 1:i=h,r=n,a=l;break;case 2:i=l,r=n,a=u;break;case 3:i=l,r=h,a=n;break;case 4:i=u,r=l,a=n;break;case 5:i=n,r=l,a=h}return[255*i,255*r,255*a]},e.rgbArray2Hex=function(t){var n=e.rgb2Hex(t[0],t[1],t[2]);return n},e.rgb2Hex=function(t,e,n){t=Math.floor(t),e=Math.floor(e),n=Math.floor(n);var i=(t<<16)+(e<<8)+n;return i},e}(egret.HashObject);t.ColorUtils=e,egret.registerClass(e,"game.utils.ColorUtils")}(e=t.utils||(t.utils={}))}(game||(game={}));var game;!function(t){var e;!function(e){var n=function(e){function n(){e.apply(this,arguments)}__extends(n,e);var i=__define,r=n;return p=r.prototype,i(n,"dirs",function(){return[[-1,0],[0,1],[1,0],[0,-1]]}),i(p,"dirs",void 0,function(e){flash.superSetter(t.utils.Dirs,this,"dirs",e)}),n.randomDir=function(){return flash.As3As(t.utils.Dirs.dirs[Math.floor(t.utils.Dirs.dirs.length*Math.random())],Array).concat()},n.nextDir=function(){return t.utils.Dirs.dirIndex++,t.utils.Dirs.dirIndex=flash.checkInt(t.utils.Dirs.dirIndex%t.utils.Dirs.dirs.length),flash.As3As(t.utils.Dirs.dirs[t.utils.Dirs.dirIndex],Array).concat()},n}(egret.HashObject);e.Dirs=n,egret.registerClass(n,"game.utils.Dirs")}(e=t.utils||(t.utils={}))}(game||(game={})),game.utils.Dirs.dirIndex=-1;var game;!function(t){var e;!function(t){var e=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var n=(__define,e);return p=n.prototype,e.touchEnable=function(t,e){console.log("sssss"+t);for(var n=t;null!=n&&!(n instanceof egret.Stage);)n.touchEnabled=e,n&&"touchChildren"in n&&(n.touchChildren=e),n=n.parent},e}(egret.HashObject);t.DisplayTouchEventUtils=e,egret.registerClass(e,"game.utils.DisplayTouchEventUtils")}(e=t.utils||(t.utils={}))}(game||(game={}));var game;!function(t){var e;!function(t){var e=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var n=(__define,e);return p=n.prototype,e.sign=function(t){return 0==t?0:0>t?-1:1},e.limit=function(t,e){return e=Math.abs(e),Math.max(Math.min(t,e),-e)},e}(egret.HashObject);t.MathUtils=e,egret.registerClass(e,"game.utils.MathUtils")}(e=t.utils||(t.utils={}))}(game||(game={}));var game;!function(t){var e;!function(e){var n=function(e){function n(t,n,i){void 0===i&&(i=null),e.call(this),this._data=[],this._n=0,this._m=0;var r=this;this.init(t,n),this.forEach(function(t,e,n){r._data[t][e]=i})}__extends(n,e);var i=__define,r=n;return p=r.prototype,p.init=function(t,e){t=flash.checkInt(t),e=flash.checkInt(e),this._n=flash.checkInt(t),this._m=flash.checkInt(e),this._data=new Array(t);for(var n=flash.checkInt(0);t>n;n++)this._data[n]=new Array(e)},n.forEach=function(t,e){for(var n=flash.checkInt(0);n<t.n;n++)for(var i=flash.checkInt(0);i<t.m;i++)if(e(n,i,t._data[n][i]))return},n.checkSameNxM=function(t,e){if(t.n!=e.n&&t.m!=e.m)throw new flash.Error(t+" "+e+"NXM不一样").message},n.checkNXMMultpy=function(t,e){if(t.m==e.n)throw new flash.Error(t+" "+e+"NXM不一样，不能相乘").message},n.add=function(e,n){t.utils.MatrixNxM.checkSameNxM(e,n);var i=new t.utils.MatrixNxM(e.n,e.m,0);return t.utils.MatrixNxM.forEach(i,function(t,r,a){i._data[t][r]=e._data[t][r]+n._data[t][r]}),i},n.minus=function(e,n){t.utils.MatrixNxM.checkSameNxM(e,n);var i=new t.utils.MatrixNxM(e.n,e.m,0);return t.utils.MatrixNxM.forEach(i,function(t,r,a){i._data[t][r]=e._data[t][r]-n._data[t][r]}),i},n.matrixMultpy=function(e,n){t.utils.MatrixNxM.checkNXMMultpy(e,n);var i=new t.utils.MatrixNxM(e.n,n.m,0);return t.utils.MatrixNxM.forEach(i,function(t,r,a){for(var s=flash.checkInt(0);s<n.n;s++)i._data[t][r]=e._data[t][s]*n._data[s][r]}),i},n.matrixMultpyNum=function(e,n){var i=new t.utils.MatrixNxM(e.n,e.m,0);return t.utils.MatrixNxM.forEach(i,function(t,r,a){i._data[t][r]=e._data[t][r]*n}),i},n.transpose=function(e){var n=new t.utils.MatrixNxM(e.m,e.n,null);return t.utils.MatrixNxM.forEach(n,function(t,i,r){n._data[t][i]=e._data[i][t]}),n},n.copy=function(e){var n=new t.utils.MatrixNxM(e.n,e.m,null);return t.utils.MatrixNxM.forEach(n,function(t,i,r){n._data[t][i]=e._data[t][i]}),n},n.identity=function(e,n,i){void 0===n&&(n=1),void 0===i&&(i=0);var r=new t.utils.MatrixNxM(e,e);return t.utils.MatrixNxM.forEach(r,function(t,e,a){r._data[t][e]=t==e?n:i}),r},n.copyAFromBProperty=function(e,n,i){t.utils.MatrixNxM.forEach(e,function(t,r,a){n._data[t][r]&&(e._data[t][r]=n._data[t][r][i])})},n.copyAPropertyFromBProperty=function(e,n,i){t.utils.MatrixNxM.forEach(e,function(t,r,a){n._data[t][r]&&(e._data[t][r][i]=n._data[t][r][i])})},p.isOutOfSize=function(t){return t[0]>=this.n||t[0]<0||t[1]>=this.m||t[1]<0},p.debugOutOfSize=function(t){if(t[0]!=flash.tranint(t[0]))throw new flash.Error("0 not int"+t[0]).message;if(t[1]!=flash.tranint(t[1]))throw new flash.Error("1 not int"+t[1]).message;if(this.isOutOfSize(t))throw new flash.Error(t+" out of size").message},n.isNearBy=function(t,e){var n=flash.checkInt(Math.abs(t[0]-e[0])),i=flash.checkInt(Math.abs(t[1]-e[1]));return 0==i&&1==n||1==i&&0==n},p.swap=function(t,e,n,i){if(t=flash.checkInt(t),e=flash.checkInt(e),n=flash.checkInt(n),i=flash.checkInt(i),t!=n&&e!=i){this.debugOutOfSize([t,e]),this.debugOutOfSize([n,i]);var r=this._data[t][e];this._data[t][e]=this._data[n][i],this._data[n][i]=r}},p.swapByPath=function(t,e){this.debugOutOfSize(t),this.debugOutOfSize(e);var n=this.getElementByPath(t);this.setElementByPath(t,this.getElementByPath(e)),this.setElementByPath(e,n)},p.forEach=function(t){for(var e=flash.checkInt(0);e<this.n;e++)for(var n=flash.checkInt(0);n<this.m;n++)if(t(e,n,this._data[e][n]))return this;return this},p.add=function(e){var n=this;return t.utils.MatrixNxM.checkSameNxM(this,e),this.forEach(function(t,i,r){n._data[t][i]+=e._data[t][i]}),this},p.minus=function(e){var n=this;return t.utils.MatrixNxM.checkSameNxM(this,e),this.forEach(function(t,i,r){n._data[t][i]-=e._data[t][i]}),this},p.toString=function(){var t="{Matrix_"+e+"x"+this.m+"}\n";t+="[";for(var e=flash.checkInt(0);e<this._data.length;e++)t+="	[	"+this._data[e].join(",	")+"],\n";return t=t.substring(0,t.length-2),t+="	];"},i(p,"n",function(){return this._n},function(e){flash.superSetter(t.utils.MatrixNxM,this,"n",e)}),i(p,"m",function(){return this._m},function(e){flash.superSetter(t.utils.MatrixNxM,this,"m",e)}),i(p,"numJ",function(){return this._n},function(e){flash.superSetter(t.utils.MatrixNxM,this,"numJ",e)}),i(p,"numI",function(){return this._m},function(e){flash.superSetter(t.utils.MatrixNxM,this,"numI",e)}),p.getElement=function(t,e){return t=flash.checkInt(t),e=flash.checkInt(e),this._data[t][e]},p.setElement=function(t,e,n){t=flash.checkInt(t),e=flash.checkInt(e),this._data[t][e]=n},p.getElementByPath=function(t){return this._data[t[0]][t[1]]},p.setElementByPath=function(t,e){this._data[t[0]][t[1]]=e},p.indexes=function(t){var e;return this.forEach(function(n,i,r){return r==t?(e=[n,i],!0):!1}),e},n}(egret.HashObject);e.MatrixNxM=n,egret.registerClass(n,"game.utils.MatrixNxM")}(e=t.utils||(t.utils={}))}(game||(game={}));var game;!function(t){var e;!function(e){var n=function(e){function n(){e.apply(this,arguments)}__extends(n,e);var i=(__define,n);return p=i.prototype,n.stepForEach=function(e,n,i,r){for(var a=n.concat(),s=i.concat();;){if(a=t.utils.ArrayUtils.add(a,s),e.isOutOfSize(a))break;if(r(a.concat(),e.getElementByPath(a),s))return}},n.lineForEach=function(e,n,i,r){for(var a=n.concat(),s=[[1,0],[-1,0]],o=flash.checkInt(0);o<s.length;o++){var l=i?s[o]:flash.As3As(s[o],Array).reverse();t.utils.MatrixNxMTravaler.stepForEach(e,a,l,r)}},n}(egret.HashObject);e.MatrixNxMTravaler=n,egret.registerClass(n,"game.utils.MatrixNxMTravaler")}(e=t.utils||(t.utils={}))}(game||(game={}));